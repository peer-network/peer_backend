{
	"info": {
		"_postman_id": "10ab27db-cb53-4670-8dca-d3da7253bdfb",
		"name": "005_moderation_graphql",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "32542010",
		"_collection_link": "https://automated-testing-with-taso.postman.co/workspace/Peer-Workspace~a910b484-5e62-449c-9ff4-504470bc690f/collection/43606001-10ab27db-cb53-4670-8dca-d3da7253bdfb?source=collection_link"
	},
	"item": [
		{
			"name": "Hello",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"Null is in there\", function () {",
							"    let responseJson = pm.response.json();",
							"    pm.expect(responseJson.data.hello.currentuserid).to.eql(\"\");",
							"});",
							"",
							"pm.test(\"Save companyAccountId as referralUuid\", function () {",
							"    const response = pm.response.json();",
							"    const id = response.data?.hello?.companyAccountId;",
							"",
							"    pm.expect(id, \"companyAccountId should exist\").to.be.a(\"string\").that.is.not.empty;",
							"",
							"    pm.environment.set(\"referralUuid\", id);",
							"});"
						],
						"type": "text/javascript",
						"packages": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							""
						],
						"type": "text/javascript",
						"packages": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "noauth"
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "query Hello {\n    hello {\n        currentuserid\n        currentVersion\n        wikiLink\n        lastMergedPullRequestNumber\n        companyAccountId\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Registration t1",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"10601\");",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"let response = pm.response.json();",
							"pm.environment.set(\"userid_t1\", response.data.register.userid);"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							"// generate random email",
							"let randomEmail = `user_${Math.floor(Math.random() * 1000000)}@example.com`;",
							"",
							"// save",
							"pm.environment.set(\"email_t1\", randomEmail);"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "mutation Register {\n  register(input: {\n    email: \"{{email_t1}}\",\n    password: \"{{password_T}}\",\n    username: \"{{username}}\",\n    referralUuid: \"{{referralUuid}}\"\n  }) {\n    meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n    userid\n  }\n}",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Registration t2",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"10601\");",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"let response = pm.response.json();",
							"pm.environment.set(\"userid_t2\", response.data.register.userid);"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							"// generate random email",
							"let randomEmail = `user_${Math.floor(Math.random() * 1000000)}@example.com`;",
							"",
							"// save",
							"pm.environment.set(\"email_t2\", randomEmail);"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "mutation Register {\n  register(input: {\n    email: \"{{email_t2}}\",\n    password: \"{{password_T}}\",\n    username: \"{{username}}\",\n    referralUuid: \"{{referralUuid}}\"\n  }) {\n    meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n    userid\n  }\n}",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Registration t3",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"10601\");",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"let response = pm.response.json();",
							"pm.environment.set(\"userid_t3\", response.data.register.userid);"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							"// generate random email",
							"let randomEmail = `user_${Math.floor(Math.random() * 1000000)}@example.com`;",
							"",
							"// save",
							"pm.environment.set(\"email_t3\", randomEmail);"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "mutation Register {\n  register(input: {\n    email: \"{{email_t3}}\",\n    password: \"{{password_T}}\",\n    username: \"{{username}}\",\n    referralUuid: \"{{referralUuid}}\"\n  }) {\n    meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n    userid\n  }\n}",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Registration t4",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"10601\");",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"let response = pm.response.json();",
							"pm.environment.set(\"userid_t4\", response.data.register.userid);"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							"// generate random email",
							"let randomEmail = `user_${Math.floor(Math.random() * 1000000)}@example.com`;",
							"",
							"// save",
							"pm.environment.set(\"email_t4\", randomEmail);"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "mutation Register {\n  register(input: {\n    email: \"{{email_t4}}\",\n    password: \"{{password_T}}\",\n    username: \"{{username}}\",\n    referralUuid: \"{{referralUuid}}\"\n  }) {\n    meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n    userid\n  }\n}",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Registration t5",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"10601\");",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"let response = pm.response.json();",
							"pm.environment.set(\"userid_t5\", response.data.register.userid);"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							"// generate random email",
							"let randomEmail = `user_${Math.floor(Math.random() * 1000000)}@example.com`;",
							"",
							"// save",
							"pm.environment.set(\"email_t5\", randomEmail);"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "mutation Register {\n  register(input: {\n    email: \"{{email_t5}}\",\n    password: \"{{password_T}}\",\n    username: \"{{username}}\",\n    referralUuid: \"{{referralUuid}}\"\n  }) {\n    meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n    userid\n  }\n}",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Registration t6",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"10601\");",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"let response = pm.response.json();",
							"pm.environment.set(\"userid_t6\", response.data.register.userid);"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							"// generate random email",
							"let randomEmail = `user_${Math.floor(Math.random() * 1000000)}@example.com`;",
							"",
							"// save",
							"pm.environment.set(\"email_t6\", randomEmail);"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "mutation Register {\n  register(input: {\n    email: \"{{email_t6}}\",\n    password: \"{{password_T}}\",\n    username: \"{{username}}\",\n    referralUuid: \"{{referralUuid}}\"\n  }) {\n    meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n    userid\n  }\n}",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Verification t1",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"10701\");",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"packages": {},
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"auth": {
					"type": "noauth"
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "mutation VerifiedAccount {\n    verifyAccount(userid: \"{{userid_t1}}\") {\n        status\n        RequestId\n        ResponseCode\n        ResponseMessage\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Verification t2",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"10701\");",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "noauth"
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "mutation VerifiedAccount {\n    verifyAccount(userid: \"{{userid_t2}}\") {\n        status\n        RequestId\n        ResponseCode\n        ResponseMessage\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Verification t3",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"10701\");",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "noauth"
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "mutation VerifiedAccount {\n    verifyAccount(userid: \"{{userid_t3}}\") {\n        status\n        RequestId\n        ResponseCode\n        ResponseMessage\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Verification t4",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"10701\");",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "noauth"
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "mutation VerifiedAccount {\n    verifyAccount(userid: \"{{userid_t4}}\") {\n        status\n        RequestId\n        ResponseCode\n        ResponseMessage\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Verification t5",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"10701\");",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "noauth"
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "mutation VerifiedAccount {\n    verifyAccount(userid: \"{{userid_t5}}\") {\n        status\n        RequestId\n        ResponseCode\n        ResponseMessage\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Verification t6",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"10701\");",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "noauth"
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "mutation VerifiedAccount {\n    verifyAccount(userid: \"{{userid_t6}}\") {\n        status\n        RequestId\n        ResponseCode\n        ResponseMessage\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Login tester 2",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"10801\");",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"let response = pm.response.json();",
							"if (!pm.response.text().includes(\"error\")) {",
							"    pm.environment.set(\"accessToken\", response.data.login.accessToken);",
							"} else {",
							"    console.log(\"Error detected in response, environment variable not set.\");",
							"}",
							"if (!pm.response.text().includes(\"error\")) {",
							"    pm.environment.set(\"refreshToken\", response.data.login.refreshToken);",
							"} else {",
							"    console.log(\"Error detected in response, environment variable not set.\");",
							"}",
							"let token = pm.environment.get(\"accessToken\");",
							"pm.test(\"Access token exists\", function () {",
							"    pm.expect(token).to.be.a(\"string\");",
							"});",
							"",
							""
						],
						"type": "text/javascript",
						"packages": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							""
						],
						"type": "text/javascript",
						"packages": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "noauth"
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "mutation {\n  login(email: \"{{w_email_t2}}\",\n    password: \"{{w_password_t2}}\"\n  ) {\n    meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n    accessToken\n    refreshToken\n  }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Create post",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    const responseText = pm.response.text();",
							"    pm.expect(",
							"        responseText.includes(\"11513\") || responseText.includes(\"11508\")",
							"    ).to.be.true;",
							"});",
							"",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"let postResponse = {};",
							"try {",
							"    postResponse = pm.response.json();",
							"} catch (err) {",
							"    console.log(\"Failed to parse response as JSON:\", err);",
							"}",
							"",
							"if (!pm.response.text().includes(\"error\")) {",
							"    try {",
							"        const postId = postResponse?.data?.createPost?.affectedRows?.id;",
							"        if (postId) {",
							"            pm.environment.set(\"postid\", postId);",
							"            console.log(\"postid set to:\", postId);",
							"        } else {",
							"            console.log(\"No postid found in response.\");",
							"        }",
							"    } catch (err) {",
							"        console.log(\"Couldn't access post ID:\", err);",
							"    }",
							"} else {",
							"    console.log(\"Error detected in response, skipping postid set.\");",
							"}",
							"",
							"let postResponseCode = \"\";",
							"try {",
							"    postResponseCode = postResponse?.data?.createPost?.ResponseCode || \"\";",
							"} catch (err) {",
							"    console.log(\"Couldn't access ResponseCode:\", err);",
							"}",
							"",
							"if (postResponseCode === \"11513\") {",
							"    pm.environment.set(\"isDailyFreePost\", \"true\");",
							"    console.log(\"This was a Daily Free Post (code 11513).\");",
							"} else {",
							"    pm.environment.unset(\"isDailyFreePost\");",
							"    console.log(\"Not a Daily Free Post (code not 11513).\");",
							"}"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "mutation CreatePost {\n    createPost(\n        input: {\n            title: \"moderation_post\"\n            media: [\"{{new_profile_pic}}\"]\n            mediadescription: \"{{invalid_email}}\"\n            contenttype: image\n        }\n        action: POST  \n    ) {\n        meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n        affectedRows {\n            id\n            contenttype\n            title\n            media\n            cover\n            mediadescription\n            createdat\n            amountlikes\n            amountviews\n            amountcomments\n            amountdislikes\n            amounttrending\n            isliked\n            isviewed\n            isreported\n            isdisliked\n            issaved\n            tags\n        }\n         \n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Create comment",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"let commentResponse = {};",
							"try {",
							"    commentResponse = pm.response.json();",
							"} catch (e) {",
							"    console.log(\"Failed to parse JSON:\", e);",
							"}",
							"",
							"let commentResponseCode = \"\";",
							"let status = \"\";",
							"",
							"try {",
							"    status = commentResponse?.data?.createComment?.meta?.status || \"\";",
							"    commentResponseCode = commentResponse?.data?.createComment?.meta?.ResponseCode || \"\";",
							"} catch (e) {",
							"    console.log(\"Error accessing response properties:\", e);",
							"}",
							"",
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect([\"11605\", \"11608\"]).to.include(commentResponseCode);",
							"});",
							"",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(status).to.eql(\"success\");",
							"});",
							"",
							"if (commentResponseCode === \"11608\") {",
							"    pm.environment.set(\"isDailyFreeComment\", \"true\");",
							"    console.log(\"This was a Daily Free Comment.\");",
							"} else {",
							"    pm.environment.unset(\"isDailyFreeComment\");",
							"    console.log(\"Not a Daily Free Comment.\");",
							"}",
							"let response = {};",
							"try {",
							"    response = pm.response.json();",
							"} catch (err) {",
							"    console.log(\"Failed to parse JSON:\", err);",
							"}",
							"if (!pm.response.text().includes(\"error\")) {",
							"    try {",
							"        const commentId = response?.data?.createComment?.affectedRows?.[0]?.commentid;",
							"        if (commentId) {",
							"            pm.environment.set(\"commentid\", commentId);",
							"            console.log(\"commentid set to:\", commentId);",
							"        } else {",
							"            console.log(\"No commentid found in response.\");",
							"        }",
							"    } catch (err) {",
							"        console.log(\"Error extracting commentid:\", err);",
							"    }",
							"} else {",
							"    console.log(\"Error detected in response, skipping commentid set.\");",
							"}"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "mutation createComment {\n    createComment(action: COMMENT, postid: \"{{postid}}\", content: \"moderation_comment\") {\n        meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n        affectedRows {\n            commentid\n        }\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Report your post (fail)",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"31508\");",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"error\"');",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "mutation ResolveActionPost {\n    resolvePostAction(\n        postid: \"{{postid}}\"\n        action: REPORT\n    ) {\n        status\n        RequestId\n        ResponseCode\n        ResponseMessage\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Report your comment (fail)",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"31607\");",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"error\"');",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "mutation ReportComment {\n    reportComment(\n        commentid: \"{{commentid}}\"\n    ) {\n        status\n        RequestId\n        ResponseCode\n        ResponseMessage\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Report yourself (fail)",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"31009\");",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"error\"');",
							"});",
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "mutation ReportUser {\n    reportUser(userid: \"{{w_userid_t2}}\") {\n        status\n        RequestId\n        ResponseCode\n        ResponseMessage\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Follow t4",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11104\");",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"pm.test(\"Account is not followed\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"true\");",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "mutation UserFollow {\n    toggleUserFollowStatus(userid: \"{{userid_t4}}\") {\n        isfollowing\n        meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Follow t5",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11104\");",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"pm.test(\"Account is not followed\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"true\");",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "mutation UserFollow {\n    toggleUserFollowStatus(userid: \"{{userid_t5}}\") {\n        isfollowing\n        meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Block t4",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11105\");",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "mutation UserBlock {\n    toggleBlockUserStatus(userid: \"{{userid_t4}}\") {\n        status\n        RequestId\n        ResponseCode\n        ResponseMessage\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Block t5",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11105\");",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "mutation UserBlock {\n    toggleBlockUserStatus(userid: \"{{userid_t5}}\") {\n        status\n        RequestId\n        ResponseCode\n        ResponseMessage\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Login tester 3",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"10801\");",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"let response = pm.response.json();",
							"if (!pm.response.text().includes(\"error\")) {",
							"    pm.environment.set(\"accessToken\", response.data.login.accessToken);",
							"} else {",
							"    console.log(\"Error detected in response, environment variable not set.\");",
							"}",
							"if (!pm.response.text().includes(\"error\")) {",
							"    pm.environment.set(\"refreshToken\", response.data.login.refreshToken);",
							"} else {",
							"    console.log(\"Error detected in response, environment variable not set.\");",
							"}",
							"let token = pm.environment.get(\"accessToken\");",
							"pm.test(\"Access token exists\", function () {",
							"    pm.expect(token).to.be.a(\"string\");",
							"});",
							"",
							""
						],
						"type": "text/javascript",
						"packages": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "noauth"
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "mutation {\n  login(email: \"{{w_email_t3}}\",\n    password: \"{{w_password_t3}}\"\n  ) {\n    meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n    accessToken\n    refreshToken\n  }\n}",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Like post",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"let likeResponse = {};",
							"try {",
							"    likeResponse = pm.response.json();",
							"} catch (e) {",
							"    console.log(\"Failed to parse JSON:\", e);",
							"}",
							"",
							"let likeResponseCode = \"\";",
							"let status = \"\";",
							"",
							"try {",
							"    status = likeResponse?.data?.resolvePostAction?.status || \"\";",
							"    likeResponseCode = likeResponse?.data?.resolvePostAction?.ResponseCode || \"\";",
							"} catch (e) {",
							"    console.log(\"Error accessing response properties:\", e);",
							"}",
							"",
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect([\"11503\", \"11514\"]).to.include(likeResponseCode);",
							"});",
							"",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(status).to.eql(\"success\");",
							"});",
							"",
							"if (likeResponseCode === \"11514\") {",
							"    pm.environment.set(\"isDailyFreeLike\", \"true\");",
							"    console.log(\"This was a Daily Free Like.\");",
							"} else {",
							"    pm.environment.unset(\"isDailyFreeLike\");",
							"    console.log(\"Not a Daily Free Like.\");",
							"}"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "mutation ResolveActionPost {\n    resolvePostAction(postid:\"{{postid}}\" , action: LIKE) {\n        status\n        RequestId\n        ResponseCode\n        ResponseMessage\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Dislike post",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11504\");",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "mutation ResolveActionPost {\n    resolvePostAction(postid:\"{{postid}}\" , action: DISLIKE) {\n        status\n        RequestId\n        ResponseCode\n        ResponseMessage\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "View post",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11506\");",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "mutation ResolveActionPost {\n    resolvePostAction(\n        postid: \"{{postid}}\"\n        action: VIEW\n    ) {\n        status\n        RequestId\n        ResponseCode\n        ResponseMessage\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Like comment",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11603\");",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "mutation LikeComment {\n    likeComment(commentid: \"{{commentid}}\") {\n        status\n        RequestId\n        ResponseCode\n        ResponseMessage\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "List post amount of objects",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11501\");",
							"});",
							"",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"const json = pm.response.json();",
							"const posts = json?.data?.listPosts?.affectedRows || [];",
							"",
							"const postCount = posts.length;",
							"let commentCount = 0;",
							"",
							"posts.forEach(post => {",
							"    if (Array.isArray(post.comments)) {",
							"        commentCount += post.comments.length;",
							"    }",
							"});",
							"",
							"pm.environment.set(\"noFilter_post_count\", postCount);",
							"pm.environment.set(\"noFilter_comment_count\", commentCount);",
							"",
							"console.log(`Saved from unfiltered list: posts = ${postCount}, comments = ${commentCount}`);",
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "query ListPosts {\n    listPosts(limit: 20) {\n        counter\n        meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n        affectedRows {\n            id\n            contenttype\n            title\n            media\n            cover\n            mediadescription\n            createdat\n            visibilityStatus\n          isHiddenForUsers\n            hasActiveReports\n            amountreports\n            amountlikes\n            amountviews\n            amountcomments\n            amountdislikes\n            amounttrending\n            isliked\n            isviewed\n            isreported\n            isdisliked\n            issaved\n            tags\n            url\n            user {\n                id\n                username\n                slug\n                img\n                visibilityStatus\n          isHiddenForUsers\n                hasActiveReports\n                isfollowed\n                isfollowing\n                isfriend\n            }\n            comments {\n                commentid\n                userid\n                postid\n                parentid\n                content\n                createdat\n                visibilityStatus\n          isHiddenForUsers\n                hasActiveReports\n                amountlikes\n                amountreplies\n                amountreports\n                isliked\n                user {\n                    id\n                    username\n                    slug\n                    img\n                    visibilityStatus\n          isHiddenForUsers\n                    hasActiveReports\n                    isfollowed\n                    isfollowing\n                    isfriend\n                }\n            }\n        }\n    }\n}\n\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Login t1",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"10801\");",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"let response = pm.response.json();",
							"if (!pm.response.text().includes(\"error\")) {",
							"    pm.environment.set(\"accessToken\", response.data.login.accessToken);",
							"} else {",
							"    console.log(\"Error detected in response, environment variable not set.\");",
							"}",
							"if (!pm.response.text().includes(\"error\")) {",
							"    pm.environment.set(\"refreshToken\", response.data.login.refreshToken);",
							"} else {",
							"    console.log(\"Error detected in response, environment variable not set.\");",
							"}",
							"let token = pm.environment.get(\"accessToken\");",
							"pm.test(\"Access token exists\", function () {",
							"    pm.expect(token).to.be.a(\"string\");",
							"});",
							"",
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "mutation Login {\n  login(email: \"{{email_t1}}\",\n    password: \"{{password_T}}\"\n  ) {\n    meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n    accessToken\n    refreshToken\n  }\n}",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Report comment",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11604\");",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});"
						],
						"type": "text/javascript",
						"packages": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "mutation ReportComment {\n    reportComment(\n        commentid: \"{{commentid}}\"\n    ) {\n        status\n        RequestId\n        ResponseCode\n        ResponseMessage\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Double report comment (fail)",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"31605\");",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"error\"');",
							"});"
						],
						"type": "text/javascript",
						"packages": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "mutation ReportComment {\n    reportComment(\n        commentid: \"{{commentid}}\"\n    ) {\n        status\n        RequestId\n        ResponseCode\n        ResponseMessage\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Login t2",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"10801\");",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"let response = pm.response.json();",
							"if (!pm.response.text().includes(\"error\")) {",
							"    pm.environment.set(\"accessToken\", response.data.login.accessToken);",
							"} else {",
							"    console.log(\"Error detected in response, environment variable not set.\");",
							"}",
							"if (!pm.response.text().includes(\"error\")) {",
							"    pm.environment.set(\"refreshToken\", response.data.login.refreshToken);",
							"} else {",
							"    console.log(\"Error detected in response, environment variable not set.\");",
							"}",
							"let token = pm.environment.get(\"accessToken\");",
							"pm.test(\"Access token exists\", function () {",
							"    pm.expect(token).to.be.a(\"string\");",
							"});",
							"",
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "mutation Login {\n  login(email: \"{{email_t2}}\",\n    password: \"{{password_T}}\"\n  ) {\n    meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n    accessToken\n    refreshToken\n  }\n}",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Report comment",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11604\");",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});"
						],
						"type": "text/javascript",
						"packages": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "mutation ReportComment {\n    reportComment(\n        commentid: \"{{commentid}}\"\n    ) {\n        status\n        RequestId\n        ResponseCode\n        ResponseMessage\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Login t3",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"10801\");",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"let response = pm.response.json();",
							"if (!pm.response.text().includes(\"error\")) {",
							"    pm.environment.set(\"accessToken\", response.data.login.accessToken);",
							"} else {",
							"    console.log(\"Error detected in response, environment variable not set.\");",
							"}",
							"if (!pm.response.text().includes(\"error\")) {",
							"    pm.environment.set(\"refreshToken\", response.data.login.refreshToken);",
							"} else {",
							"    console.log(\"Error detected in response, environment variable not set.\");",
							"}",
							"let token = pm.environment.get(\"accessToken\");",
							"pm.test(\"Access token exists\", function () {",
							"    pm.expect(token).to.be.a(\"string\");",
							"});",
							"",
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "mutation Login {\n  login(email: \"{{email_t3}}\",\n    password: \"{{password_T}}\"\n  ) {\n    meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n    accessToken\n    refreshToken\n  }\n}",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Report comment",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11604\");",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});"
						],
						"type": "text/javascript",
						"packages": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "mutation ReportComment {\n    reportComment(\n        commentid: \"{{commentid}}\"\n    ) {\n        status\n        RequestId\n        ResponseCode\n        ResponseMessage\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Login t4",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"10801\");",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"let response = pm.response.json();",
							"if (!pm.response.text().includes(\"error\")) {",
							"    pm.environment.set(\"accessToken\", response.data.login.accessToken);",
							"} else {",
							"    console.log(\"Error detected in response, environment variable not set.\");",
							"}",
							"if (!pm.response.text().includes(\"error\")) {",
							"    pm.environment.set(\"refreshToken\", response.data.login.refreshToken);",
							"} else {",
							"    console.log(\"Error detected in response, environment variable not set.\");",
							"}",
							"let token = pm.environment.get(\"accessToken\");",
							"pm.test(\"Access token exists\", function () {",
							"    pm.expect(token).to.be.a(\"string\");",
							"});",
							"",
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "mutation Login {\n  login(email: \"{{email_t4}}\",\n    password: \"{{password_T}}\"\n  ) {\n    meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n    accessToken\n    refreshToken\n  }\n}",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Report comment",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11604\");",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});"
						],
						"type": "text/javascript",
						"packages": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "mutation ReportComment {\n    reportComment(\n        commentid: \"{{commentid}}\"\n    ) {\n        status\n        RequestId\n        ResponseCode\n        ResponseMessage\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Confirm comment is still seen",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11501\");",
							"});",
							"",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"pm.test(\"Comment has correct moderation data\", function () {",
							"    const response = pm.response.json();",
							"    const posts = response.data?.listPosts?.affectedRows || [];",
							"    const expectedCommentId = pm.environment.get(\"commentid\");",
							"",
							"    if (!expectedCommentId) {",
							"        throw new Error(\"Environment variable 'commentid' is not set.\");",
							"    }",
							"",
							"    let commentFound = null;",
							"",
							"    for (const post of posts) {",
							"        const comments = post.comments || [];",
							"        commentFound = comments.find(c => c.commentid === expectedCommentId);",
							"        if (commentFound) break;",
							"    }",
							"",
							"    if (!commentFound) {",
							"        throw new Error(`Comment with ID ${expectedCommentId} not found in any post.`);",
							"    }",
							"",
							"    pm.expect(commentFound.visibilityStatus, `Comment ${expectedCommentId} visibilityStatus`).to.eql(\"NORMAL\");",
							"    pm.expect(commentFound.hasActiveReports, `Comment ${expectedCommentId} hasActiveReports`).to.eql(true);",
							"    pm.expect(commentFound.isHiddenForUsers, `Comment ${expectedCommentId} isHiddenForUsers`).to.eql(false);",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "query ListPosts {\n    listPosts(contentFilterBy: MYGRANDMALIKES, limit:20) {\n        counter\n        meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n        affectedRows {\n            id\n            contenttype\n            title\n            media\n            cover\n            mediadescription\n            createdat\n            visibilityStatus\n          isHiddenForUsers\n            hasActiveReports\n            amountreports\n            amountlikes\n            amountviews\n            amountcomments\n            amountdislikes\n            amounttrending\n            isliked\n            isviewed\n            isreported\n            isdisliked\n            issaved\n            tags\n            url\n            user {\n                id\n                username\n                slug\n                img\n                visibilityStatus\n          isHiddenForUsers\n                hasActiveReports\n                isfollowed\n                isfollowing\n                isfriend\n            }\n            comments {\n                commentid\n                userid\n                postid\n                parentid\n                content\n                createdat\n                visibilityStatus\n          isHiddenForUsers\n                hasActiveReports\n                amountlikes\n                amountreplies\n                amountreports\n                isliked\n                user {\n                    id\n                    username\n                    slug\n                    img\n                    visibilityStatus\n          isHiddenForUsers\n                    hasActiveReports\n                    isfollowed\n                    isfollowing\n                    isfriend\n                }\n            }\n        }\n    }\n}\n\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Confirm list comments still shows",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11601\");",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"pm.test(\"Comment has correct moderation data\", function () {",
							"    const response = pm.response.json();",
							"    const comments = response.data?.listComments?.affectedRows || [];",
							"    const expectedCommentId = pm.environment.get(\"commentid\");",
							"",
							"    if (!expectedCommentId) {",
							"        throw new Error(\"Environment variable 'commentid' is not set.\");",
							"    }",
							"",
							"    const commentFound = comments.find(c => c.commentid === expectedCommentId);",
							"",
							"    if (!commentFound) {",
							"        throw new Error(`Comment with ID ${expectedCommentId} not found in affectedRows.`);",
							"    }",
							"",
							"    pm.expect(commentFound.visibilityStatus, `Comment ${expectedCommentId} visibilityStatus`)",
							"        .to.eql(\"NORMAL\");",
							"",
							"    pm.expect(commentFound.hasActiveReports, `Comment ${expectedCommentId} hasActiveReports`)",
							"        .to.eql(true);",
							"",
							"    pm.expect(commentFound.isHiddenForUsers, `Comment ${expectedCommentId} isHiddenForUsers`)",
							"        .to.eql(false);",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "query ListComments {\n    listComments(\n        postid: \"{{postid}}\"\n        contentFilterBy: MYGRANDMALIKES\n        commentOffset: null\n        commentLimit: null\n    ) {\n        meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n        counter\n        affectedRows {\n            commentid\n            userid\n            postid\n            parentid\n            content\n            createdat\n            amountlikes\n            amountreplies\n            isliked\n            visibilityStatus\n          isHiddenForUsers\n            hasActiveReports\n            user {\n                id\n                username\n                slug\n                img\n                isfollowed\n                isfollowing\n                isfriend\n                visibilityStatus\n          isHiddenForUsers\n                hasActiveReports\n            }\n        }\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Login t5",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"10801\");",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"let response = pm.response.json();",
							"if (!pm.response.text().includes(\"error\")) {",
							"    pm.environment.set(\"accessToken\", response.data.login.accessToken);",
							"} else {",
							"    console.log(\"Error detected in response, environment variable not set.\");",
							"}",
							"if (!pm.response.text().includes(\"error\")) {",
							"    pm.environment.set(\"refreshToken\", response.data.login.refreshToken);",
							"} else {",
							"    console.log(\"Error detected in response, environment variable not set.\");",
							"}",
							"let token = pm.environment.get(\"accessToken\");",
							"pm.test(\"Access token exists\", function () {",
							"    pm.expect(token).to.be.a(\"string\");",
							"});",
							"",
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "mutation Login {\n  login(email: \"{{email_t5}}\",\n    password: \"{{password_T}}\"\n  ) {\n    meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n    accessToken\n    refreshToken\n  }\n}",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Report comment",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11604\");",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});"
						],
						"type": "text/javascript",
						"packages": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "mutation ReportComment {\n    reportComment(\n        commentid: \"{{commentid}}\"\n    ) {\n        status\n        RequestId\n        ResponseCode\n        ResponseMessage\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Confirm comment is hidden",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11501\");",
							"});",
							"",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"pm.test(\"Comment has correct moderation data\", function () {",
							"    const response = pm.response.json();",
							"    const posts = response.data?.listPosts?.affectedRows || [];",
							"    const expectedCommentId = pm.environment.get(\"commentid\");",
							"",
							"    if (!expectedCommentId) {",
							"        throw new Error(\"Environment variable 'commentid' is not set.\");",
							"    }",
							"",
							"    let commentFound = null;",
							"",
							"    for (const post of posts) {",
							"        const comments = post.comments || [];",
							"        commentFound = comments.find(c => c.commentid === expectedCommentId);",
							"        if (commentFound) break;",
							"    }",
							"",
							"    if (!commentFound) {",
							"        throw new Error(`Comment with ID ${expectedCommentId} not found in any post.`);",
							"    }",
							"",
							"    pm.expect(commentFound.visibilityStatus, `Comment ${expectedCommentId} visibilityStatus`).to.eql(\"HIDDEN\");",
							"    pm.expect(commentFound.hasActiveReports, `Comment ${expectedCommentId} hasActiveReports`).to.eql(true);",
							"    pm.expect(commentFound.isHiddenForUsers, `Comment ${expectedCommentId} isHiddenForUsers`).to.eql(true);",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "query ListPosts {\n    listPosts(contentFilterBy: MYGRANDMALIKES, limit:20) {\n        counter\n        meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n        affectedRows {\n            id\n            contenttype\n            title\n            media\n            cover\n            mediadescription\n            createdat\n            visibilityStatus\n          isHiddenForUsers\n            hasActiveReports\n            amountreports\n            amountlikes\n            amountviews\n            amountcomments\n            amountdislikes\n            amounttrending\n            isliked\n            isviewed\n            isreported\n            isdisliked\n            issaved\n            tags\n            url\n            user {\n                id\n                username\n                slug\n                img\n                visibilityStatus\n          isHiddenForUsers\n                hasActiveReports\n                isfollowed\n                isfollowing\n                isfriend\n            }\n            comments {\n                commentid\n                userid\n                postid\n                parentid\n                content\n                createdat\n                visibilityStatus\n          isHiddenForUsers\n                hasActiveReports\n                amountlikes\n                amountreplies\n                amountreports\n                isliked\n                user {\n                    id\n                    username\n                    slug\n                    img\n                    visibilityStatus\n          isHiddenForUsers\n                    hasActiveReports\n                    isfollowed\n                    isfollowing\n                    isfriend\n                }\n            }\n        }\n    }\n}\n\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Confirm list comments is hidden",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11601\");",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"pm.test(\"Comment has correct moderation data\", function () {",
							"    const response = pm.response.json();",
							"    const comments = response.data?.listComments?.affectedRows || [];",
							"    const expectedCommentId = pm.environment.get(\"commentid\");",
							"",
							"    if (!expectedCommentId) {",
							"        throw new Error(\"Environment variable 'commentid' is not set.\");",
							"    }",
							"",
							"    const commentFound = comments.find(c => c.commentid === expectedCommentId);",
							"",
							"    if (!commentFound) {",
							"        throw new Error(`Comment with ID ${expectedCommentId} not found in affectedRows.`);",
							"    }",
							"",
							"    pm.expect(commentFound.visibilityStatus, `Comment ${expectedCommentId} visibilityStatus`)",
							"        .to.eql(\"HIDDEN\");",
							"",
							"    pm.expect(commentFound.hasActiveReports, `Comment ${expectedCommentId} hasActiveReports`)",
							"        .to.eql(true);",
							"",
							"    pm.expect(commentFound.isHiddenForUsers, `Comment ${expectedCommentId} isHiddenForUsers`)",
							"        .to.eql(true);",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "query ListComments {\n    listComments(\n        postid: \"{{postid}}\"\n        contentFilterBy: MYGRANDMALIKES\n        commentOffset: null\n        commentLimit: null\n    ) {\n        meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n        counter\n        affectedRows {\n            commentid\n            userid\n            postid\n            parentid\n            content\n            createdat\n            amountlikes\n            amountreplies\n            isliked\n            visibilityStatus\n          isHiddenForUsers\n            hasActiveReports\n            user {\n                id\n                username\n                slug\n                img\n                isfollowed\n                isfollowing\n                isfriend\n                visibilityStatus\n          isHiddenForUsers\n                hasActiveReports\n            }\n        }\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "List post amount of objects (MYGRANDMALIKES)",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11501\");",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"const json = pm.response.json();",
							"const posts = json?.data?.listPosts?.affectedRows || [];",
							"",
							"const filteredPostCount = posts.length;",
							"let filteredCommentCount = 0;",
							"let hiddenCommentCount = 0;",
							"",
							"posts.forEach(post => {",
							"    if (Array.isArray(post.comments)) {",
							"        post.comments.forEach(comment => {",
							"            filteredCommentCount++;",
							"            if (comment.visibilityStatus === \"HIDDEN\" && comment.hasActiveReports === true) {",
							"                hiddenCommentCount++;",
							"            }",
							"        });",
							"    }",
							"});",
							"",
							"const originalPostCount = parseInt(pm.environment.get(\"noFilter_post_count\"), 10);",
							"const originalCommentCount = parseInt(pm.environment.get(\"noFilter_comment_count\"), 10);",
							"",
							"pm.test(\"Post count is the same with and without filter\", function () {",
							"    pm.expect(filteredPostCount).to.eql(originalPostCount);",
							"});",
							"",
							"pm.test(\"Comment count is the same with and without filter\", function () {",
							"    pm.expect(filteredCommentCount).to.eql(originalCommentCount);",
							"});",
							"",
							"pm.test(\"Exactly one comment has visibilityStatus='HIDDEN' and hasActiveReports=true\", function () {",
							"    pm.expect(hiddenCommentCount).to.eql(1);",
							"});",
							"",
							"console.log(`With filter: posts = ${filteredPostCount}, comments = ${filteredCommentCount}, hiddenComments = ${hiddenCommentCount}`);"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "query ListPosts {\n    listPosts(contentFilterBy: MYGRANDMALIKES, limit: 20) {\n        counter\n        meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n        affectedRows {\n            id\n            contenttype\n            title\n            media\n            cover\n            mediadescription\n            createdat\n            visibilityStatus\n          isHiddenForUsers\n            hasActiveReports\n            amountreports\n            amountlikes\n            amountviews\n            amountcomments\n            amountdislikes\n            amounttrending\n            isliked\n            isviewed\n            isreported\n            isdisliked\n            issaved\n            tags\n            url\n            user {\n                id\n                username\n                slug\n                img\n                visibilityStatus\n          isHiddenForUsers\n                hasActiveReports\n                isfollowed\n                isfollowing\n                isfriend\n            }\n            comments {\n                commentid\n                userid\n                postid\n                parentid\n                content\n                createdat\n                visibilityStatus\n          isHiddenForUsers\n                hasActiveReports\n                amountlikes\n                amountreplies\n                amountreports\n                isliked\n                user {\n                    id\n                    username\n                    slug\n                    img\n                    visibilityStatus\n          isHiddenForUsers\n                    hasActiveReports\n                    isfollowed\n                    isfollowing\n                    isfriend\n                }\n            }\n        }\n    }\n}\n\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "List post amount of objects (without filter)",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11501\");",
							"});",
							"",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"const json = pm.response.json();",
							"const posts = json?.data?.listPosts?.affectedRows || [];",
							"",
							"let currentPostCount = posts.length;",
							"let currentCommentCount = 0;",
							"",
							"posts.forEach(post => {",
							"    if (Array.isArray(post.comments)) {",
							"        currentCommentCount += post.comments.length;",
							"    }",
							"});",
							"",
							"const originalPostCount = parseInt(pm.environment.get(\"noFilter_post_count\"), 10);",
							"const originalCommentCount = parseInt(pm.environment.get(\"noFilter_comment_count\"), 10);",
							"",
							"pm.test(\"Post count unchanged after comment report (unfiltered)\", function () {",
							"    pm.expect(currentPostCount).to.eql(originalPostCount);",
							"});",
							"",
							"pm.test(\"Comment count unchanged after comment report (unfiltered)\", function () {",
							"    pm.expect(currentCommentCount).to.eql(originalCommentCount);",
							"});",
							""
						],
						"type": "text/javascript",
						"packages": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "query ListPosts {\n    listPosts(limit: 20) {\n        counter\n        meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n        affectedRows {\n            id\n            contenttype\n            title\n            media\n            cover\n            mediadescription\n            createdat\n            visibilityStatus\n          isHiddenForUsers\n            hasActiveReports\n            amountreports\n            amountlikes\n            amountviews\n            amountcomments\n            amountdislikes\n            amounttrending\n            isliked\n            isviewed\n            isreported\n            isdisliked\n            issaved\n            tags\n            url\n            user {\n                id\n                username\n                slug\n                img\n                visibilityStatus\n          isHiddenForUsers\n                hasActiveReports\n                isfollowed\n                isfollowing\n                isfriend\n            }\n            comments {\n                commentid\n                userid\n                postid\n                parentid\n                content\n                createdat\n                visibilityStatus\n          isHiddenForUsers\n                hasActiveReports\n                amountlikes\n                amountreplies\n                amountreports\n                isliked\n                user {\n                    id\n                    username\n                    slug\n                    img\n                    visibilityStatus\n          isHiddenForUsers\n                    hasActiveReports\n                    isfollowed\n                    isfollowing\n                    isfriend\n                }\n            }\n        }\n    }\n}\n\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Guest list post",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11501\");",
							"});",
							"",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"pm.test(\"Comment has correct moderation data\", function () {",
							"    const response = pm.response.json();",
							"    const post = response.data?.guestListPost?.affectedRows;",
							"    const expectedCommentId = pm.environment.get(\"commentid\");",
							"",
							"    if (!expectedCommentId) {",
							"        throw new Error(\"Environment variable 'commentid' is not set.\");",
							"    }",
							"",
							"    const comments = post?.comments || [];",
							"    const commentFound = comments.find(c => c.commentid === expectedCommentId);",
							"",
							"    if (!commentFound) {",
							"        throw new Error(`Comment with ID ${expectedCommentId} not found.`);",
							"    }",
							"",
							"    pm.expect(commentFound.visibilityStatus, `Comment ${expectedCommentId} visibilityStatus`).to.eql(\"NORMAL\");",
							"    pm.expect(commentFound.hasActiveReports, `Comment ${expectedCommentId} hasActiveReports`).to.eql(true);",
							"    pm.expect(commentFound.isHiddenForUsers, `Comment ${expectedCommentId} isHiddenForUsers`).to.eql(true);",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "noauth"
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "query GuestListPost {\n    guestListPost(postid: \"{{postid}}\") {\n        meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n        affectedRows {\n            id\n            contenttype\n            title\n            media\n            cover\n            mediadescription\n            createdat\n            visibilityStatus\n          isHiddenForUsers\n            hasActiveReports\n            amountreports\n            amountlikes\n            amountviews\n            amountcomments\n            amountdislikes\n            amounttrending\n            isliked\n            isviewed\n            isreported\n            isdisliked\n            issaved\n            tags\n            url\n            user {\n                id\n                username\n                slug\n                img\n                visibilityStatus\n          isHiddenForUsers\n                hasActiveReports\n                isfollowed\n                isfollowing\n                isfriend\n            }\n            comments {\n                commentid\n                userid\n                postid\n                parentid\n                content\n                createdat\n                visibilityStatus\n          isHiddenForUsers\n                hasActiveReports\n                amountlikes\n                amountreplies\n                amountreports\n                isliked\n                user {\n                    id\n                    username\n                    slug\n                    img\n                    visibilityStatus\n          isHiddenForUsers\n                    hasActiveReports\n                    isfollowed\n                    isfollowing\n                    isfriend\n                }\n            }\n        }\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Report post",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11505\");",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});"
						],
						"type": "text/javascript",
						"packages": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							""
						],
						"type": "text/javascript",
						"packages": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "mutation ResolveActionPost {\n    resolvePostAction(\n        postid: \"{{postid}}\"\n        action: REPORT\n    ) {\n        status\n        RequestId\n        ResponseCode\n        ResponseMessage\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Double report post (fail)",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"31503\");",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"error\"');",
							"});"
						],
						"type": "text/javascript",
						"packages": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "mutation ResolveActionPost {\n    resolvePostAction(\n        postid: \"{{postid}}\"\n        action: REPORT\n    ) {\n        status\n        RequestId\n        ResponseCode\n        ResponseMessage\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Login t4",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"10801\");",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"let response = pm.response.json();",
							"if (!pm.response.text().includes(\"error\")) {",
							"    pm.environment.set(\"accessToken\", response.data.login.accessToken);",
							"} else {",
							"    console.log(\"Error detected in response, environment variable not set.\");",
							"}",
							"if (!pm.response.text().includes(\"error\")) {",
							"    pm.environment.set(\"refreshToken\", response.data.login.refreshToken);",
							"} else {",
							"    console.log(\"Error detected in response, environment variable not set.\");",
							"}",
							"let token = pm.environment.get(\"accessToken\");",
							"pm.test(\"Access token exists\", function () {",
							"    pm.expect(token).to.be.a(\"string\");",
							"});",
							"",
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "mutation Login {\n  login(email: \"{{email_t4}}\",\n    password: \"{{password_T}}\"\n  ) {\n    meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n    accessToken\n    refreshToken\n  }\n}",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Confirm comment is hidden",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11501\");",
							"});",
							"",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"pm.test(\"Comment has correct moderation data\", function () {",
							"    const response = pm.response.json();",
							"    const posts = response.data?.listPosts?.affectedRows || [];",
							"    const expectedCommentId = pm.environment.get(\"commentid\");",
							"",
							"    if (!expectedCommentId) {",
							"        throw new Error(\"Environment variable 'commentid' is not set.\");",
							"    }",
							"",
							"    let commentFound = null;",
							"",
							"    for (const post of posts) {",
							"        const comments = post.comments || [];",
							"        commentFound = comments.find(c => c.commentid === expectedCommentId);",
							"        if (commentFound) break;",
							"    }",
							"",
							"    if (!commentFound) {",
							"        throw new Error(`Comment with ID ${expectedCommentId} not found in any post.`);",
							"    }",
							"",
							"    pm.expect(commentFound.visibilityStatus, `Comment ${expectedCommentId} visibilityStatus`).to.eql(\"HIDDEN\");",
							"    pm.expect(commentFound.hasActiveReports, `Comment ${expectedCommentId} hasActiveReports`).to.eql(true);",
							"    pm.expect(commentFound.isHiddenForUsers, `Comment ${expectedCommentId} isHiddenForUsers`).to.eql(true);",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "query ListPosts {\n    listPosts(contentFilterBy: MYGRANDMALIKES, limit:20) {\n        counter\n        meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n        affectedRows {\n            id\n            contenttype\n            title\n            media\n            cover\n            mediadescription\n            createdat\n            visibilityStatus\n          isHiddenForUsers\n            hasActiveReports\n            amountreports\n            amountlikes\n            amountviews\n            amountcomments\n            amountdislikes\n            amounttrending\n            isliked\n            isviewed\n            isreported\n            isdisliked\n            issaved\n            tags\n            url\n            user {\n                id\n                username\n                slug\n                img\n                visibilityStatus\n          isHiddenForUsers\n                hasActiveReports\n                isfollowed\n                isfollowing\n                isfriend\n            }\n            comments {\n                commentid\n                userid\n                postid\n                parentid\n                content\n                createdat\n                visibilityStatus\n          isHiddenForUsers\n                hasActiveReports\n                amountlikes\n                amountreplies\n                amountreports\n                isliked\n                user {\n                    id\n                    username\n                    slug\n                    img\n                    visibilityStatus\n          isHiddenForUsers\n                    hasActiveReports\n                    isfollowed\n                    isfollowing\n                    isfriend\n                }\n            }\n        }\n    }\n}\n\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Confirm comment is seen without filter",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11501\");",
							"});",
							"",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"pm.test(\"Comment has correct moderation data\", function () {",
							"    const response = pm.response.json();",
							"    const posts = response.data?.listPosts?.affectedRows || [];",
							"    const expectedCommentId = pm.environment.get(\"commentid\");",
							"",
							"    if (!expectedCommentId) {",
							"        throw new Error(\"Environment variable 'commentid' is not set.\");",
							"    }",
							"",
							"    let commentFound = null;",
							"",
							"    for (const post of posts) {",
							"        const comments = post.comments || [];",
							"        commentFound = comments.find(c => c.commentid === expectedCommentId);",
							"        if (commentFound) break;",
							"    }",
							"",
							"    if (!commentFound) {",
							"        throw new Error(`Comment with ID ${expectedCommentId} not found in any post.`);",
							"    }",
							"",
							"    pm.expect(commentFound.visibilityStatus, `Comment ${expectedCommentId} visibilityStatus`).to.eql(\"NORMAL\");",
							"    pm.expect(commentFound.hasActiveReports, `Comment ${expectedCommentId} hasActiveReports`).to.eql(true);",
							"    pm.expect(commentFound.isHiddenForUsers, `Comment ${expectedCommentId} isHiddenForUsers`).to.eql(true);",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "query ListPosts {\n    listPosts(limit:20) {\n        counter\n        meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n        affectedRows {\n            id\n            contenttype\n            title\n            media\n            cover\n            mediadescription\n            createdat\n            visibilityStatus\n          isHiddenForUsers\n            hasActiveReports\n            amountreports\n            amountlikes\n            amountviews\n            amountcomments\n            amountdislikes\n            amounttrending\n            isliked\n            isviewed\n            isreported\n            isdisliked\n            issaved\n            tags\n            url\n            user {\n                id\n                username\n                slug\n                img\n                visibilityStatus\n          isHiddenForUsers\n                hasActiveReports\n                isfollowed\n                isfollowing\n                isfriend\n            }\n            comments {\n                commentid\n                userid\n                postid\n                parentid\n                content\n                createdat\n                visibilityStatus\n          isHiddenForUsers\n                hasActiveReports\n                amountlikes\n                amountreplies\n                amountreports\n                isliked\n                user {\n                    id\n                    username\n                    slug\n                    img\n                    visibilityStatus\n          isHiddenForUsers\n                    hasActiveReports\n                    isfollowed\n                    isfollowing\n                    isfriend\n                }\n            }\n        }\n    }\n}\n\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Confirm list comments is seen without filter",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11601\");",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"pm.test(\"Comment has correct moderation data\", function () {",
							"    const response = pm.response.json();",
							"    const comments = response.data?.listComments?.affectedRows || [];",
							"    const expectedCommentId = pm.environment.get(\"commentid\");",
							"",
							"    if (!expectedCommentId) {",
							"        throw new Error(\"Environment variable 'commentid' is not set.\");",
							"    }",
							"",
							"    const commentFound = comments.find(c => c.commentid === expectedCommentId);",
							"",
							"    if (!commentFound) {",
							"        throw new Error(`Comment with ID ${expectedCommentId} not found in affectedRows.`);",
							"    }",
							"",
							"    pm.expect(commentFound.visibilityStatus, `Comment ${expectedCommentId} visibilityStatus`)",
							"        .to.eql(\"NORMAL\");",
							"",
							"    pm.expect(commentFound.hasActiveReports, `Comment ${expectedCommentId} hasActiveReports`)",
							"        .to.eql(true);",
							"",
							"    pm.expect(commentFound.isHiddenForUsers, `Comment ${expectedCommentId} isHiddenForUsers`)",
							"        .to.eql(true);",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "query ListComments {\n    listComments(\n        postid: \"{{postid}}\"\n        contentFilterBy: MYGRANDMAHATES\n        commentOffset: null\n        commentLimit: null\n    ) {\n        meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n        counter\n        affectedRows {\n            commentid\n            userid\n            postid\n            parentid\n            content\n            createdat\n            amountlikes\n            amountreplies\n            isliked\n            visibilityStatus\n          isHiddenForUsers\n            hasActiveReports\n            user {\n                id\n                username\n                slug\n                img\n                isfollowed\n                isfollowing\n                isfriend\n                visibilityStatus\n          isHiddenForUsers\n                hasActiveReports\n            }\n        }\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Report post",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11505\");",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});"
						],
						"type": "text/javascript",
						"packages": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							""
						],
						"type": "text/javascript",
						"packages": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "mutation ResolveActionPost {\n    resolvePostAction(\n        postid: \"{{postid}}\"\n        action: REPORT\n    ) {\n        status\n        RequestId\n        ResponseCode\n        ResponseMessage\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Login t3",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"10801\");",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"let response = pm.response.json();",
							"if (!pm.response.text().includes(\"error\")) {",
							"    pm.environment.set(\"accessToken\", response.data.login.accessToken);",
							"} else {",
							"    console.log(\"Error detected in response, environment variable not set.\");",
							"}",
							"if (!pm.response.text().includes(\"error\")) {",
							"    pm.environment.set(\"refreshToken\", response.data.login.refreshToken);",
							"} else {",
							"    console.log(\"Error detected in response, environment variable not set.\");",
							"}",
							"let token = pm.environment.get(\"accessToken\");",
							"pm.test(\"Access token exists\", function () {",
							"    pm.expect(token).to.be.a(\"string\");",
							"});",
							"",
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "mutation Login {\n  login(email: \"{{email_t3}}\",\n    password: \"{{password_T}}\"\n  ) {\n    meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n    accessToken\n    refreshToken\n  }\n}",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Report post",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11505\");",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});"
						],
						"type": "text/javascript",
						"packages": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							""
						],
						"type": "text/javascript",
						"packages": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "mutation ResolveActionPost {\n    resolvePostAction(\n        postid: \"{{postid}}\"\n        action: REPORT\n    ) {\n        status\n        RequestId\n        ResponseCode\n        ResponseMessage\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Login t2",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"10801\");",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"let response = pm.response.json();",
							"if (!pm.response.text().includes(\"error\")) {",
							"    pm.environment.set(\"accessToken\", response.data.login.accessToken);",
							"} else {",
							"    console.log(\"Error detected in response, environment variable not set.\");",
							"}",
							"if (!pm.response.text().includes(\"error\")) {",
							"    pm.environment.set(\"refreshToken\", response.data.login.refreshToken);",
							"} else {",
							"    console.log(\"Error detected in response, environment variable not set.\");",
							"}",
							"let token = pm.environment.get(\"accessToken\");",
							"pm.test(\"Access token exists\", function () {",
							"    pm.expect(token).to.be.a(\"string\");",
							"});",
							"",
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "mutation Login {\n  login(email: \"{{email_t2}}\",\n    password: \"{{password_T}}\"\n  ) {\n    meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n    accessToken\n    refreshToken\n  }\n}",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Report post",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11505\");",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});"
						],
						"type": "text/javascript",
						"packages": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							""
						],
						"type": "text/javascript",
						"packages": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "mutation ResolveActionPost {\n    resolvePostAction(\n        postid: \"{{postid}}\"\n        action: REPORT\n    ) {\n        status\n        RequestId\n        ResponseCode\n        ResponseMessage\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Confirm post is still seen (feed)",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11501\");",
							"});",
							"",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"pm.test(\"Comment has correct moderation data\", function () {",
							"    const response = pm.response.json();",
							"    const posts = response.data?.listPosts?.affectedRows || [];",
							"    const expectedCommentId = pm.environment.get(\"commentid\");",
							"",
							"    if (!expectedCommentId) {",
							"        throw new Error(\"Environment variable 'commentid' is not set.\");",
							"    }",
							"",
							"    let commentFound = null;",
							"",
							"    for (const post of posts) {",
							"        const comments = post.comments || [];",
							"        commentFound = comments.find(c => c.commentid === expectedCommentId);",
							"        if (commentFound) break;",
							"    }",
							"",
							"    if (!commentFound) {",
							"        throw new Error(`Comment with ID ${expectedCommentId} not found in any post.`);",
							"    }",
							"",
							"    pm.expect(commentFound.visibilityStatus, `Comment ${expectedCommentId} visibilityStatus`).to.eql(\"HIDDEN\");",
							"    pm.expect(commentFound.hasActiveReports, `Comment ${expectedCommentId} hasActiveReports`).to.eql(true);",
							"    pm.expect(commentFound.isHiddenForUsers, `Comment ${expectedCommentId} isHiddenForUsers`).to.eql(true);",
							"});",
							"",
							"pm.test(\"Post has correct moderation data\", function () {",
							"    const response = pm.response.json();",
							"    const posts = response.data?.listPosts?.affectedRows || [];",
							"    const expectedPostId = pm.environment.get(\"postid\");",
							"",
							"    if (!expectedPostId) {",
							"        throw new Error(\"Environment variable 'postid' is not set.\");",
							"    }",
							"",
							"    const postFound = posts.find(p => p.id === expectedPostId);",
							"",
							"    if (!postFound) {",
							"        throw new Error(`Post with ID ${expectedPostId} not found.`);",
							"    }",
							"",
							"    pm.expect(postFound.title, `Post ${expectedPostId} title`).to.eql(\"moderation_post\");",
							"    pm.expect(postFound.visibilityStatus, `Post ${expectedPostId} visibilityStatus`).to.eql(\"NORMAL\");",
							"    pm.expect(postFound.hasActiveReports, `Post ${expectedPostId} hasActiveReports`).to.eql(true);",
							"    pm.expect(postFound.isHiddenForUsers, `Post ${expectedPostId} isHiddenForUsers`).to.eql(false);",
							"    pm.expect(postFound.user?.username, `User ${expectedPostId} username`).to.eql(\"tester02\");",
							"    pm.expect(postFound.user?.visibilityStatus, `User ${expectedPostId} visibilityStatus`).to.eql(\"NORMAL\");",
							"    pm.expect(postFound.user?.hasActiveReports, `User ${expectedPostId} hasActiveReports`).to.eql(false);",
							"    pm.expect(postFound.user?.isHiddenForUsers, `User ${expectedPostId} isHiddenForUsers`).to.eql(false);",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "query ListPosts {\n    listPosts(contentFilterBy: MYGRANDMALIKES, limit:20) {\n        counter\n        meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n        affectedRows {\n            id\n            contenttype\n            title\n            media\n            cover\n            mediadescription\n            createdat\n            visibilityStatus\n          isHiddenForUsers\n            hasActiveReports\n            amountreports\n            amountlikes\n            amountviews\n            amountcomments\n            amountdislikes\n            amounttrending\n            isliked\n            isviewed\n            isreported\n            isdisliked\n            issaved\n            tags\n            url\n            user {\n                id\n                username\n                slug\n                img\n                visibilityStatus\n          isHiddenForUsers\n                hasActiveReports\n                isfollowed\n                isfollowing\n                isfriend\n            }\n            comments {\n                commentid\n                userid\n                postid\n                parentid\n                content\n                createdat\n                visibilityStatus\n          isHiddenForUsers\n                hasActiveReports\n                amountlikes\n                amountreplies\n                amountreports\n                isliked\n                user {\n                    id\n                    username\n                    slug\n                    img\n                    visibilityStatus\n          isHiddenForUsers\n                    hasActiveReports\n                    isfollowed\n                    isfollowing\n                    isfriend\n                }\n            }\n        }\n    }\n}\n\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Confirm post is still seen (profile)",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11501\");",
							"});",
							"",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"pm.test(\"Comment has correct moderation data\", function () {",
							"    const response = pm.response.json();",
							"    const posts = response.data?.listPosts?.affectedRows || [];",
							"    const expectedCommentId = pm.environment.get(\"commentid\");",
							"",
							"    if (!expectedCommentId) {",
							"        throw new Error(\"Environment variable 'commentid' is not set.\");",
							"    }",
							"",
							"    let commentFound = null;",
							"",
							"    for (const post of posts) {",
							"        const comments = post.comments || [];",
							"        commentFound = comments.find(c => c.commentid === expectedCommentId);",
							"        if (commentFound) break;",
							"    }",
							"",
							"    if (!commentFound) {",
							"        throw new Error(`Comment with ID ${expectedCommentId} not found in any post.`);",
							"    }",
							"",
							"    pm.expect(commentFound.visibilityStatus, `Comment ${expectedCommentId} visibilityStatus`).to.eql(\"HIDDEN\");",
							"    pm.expect(commentFound.hasActiveReports, `Comment ${expectedCommentId} hasActiveReports`).to.eql(true);",
							"    pm.expect(commentFound.isHiddenForUsers, `Comment ${expectedCommentId} isHiddenForUsers`).to.eql(true);",
							"});",
							"",
							"pm.test(\"Post has correct moderation data\", function () {",
							"    const response = pm.response.json();",
							"    const posts = response.data?.listPosts?.affectedRows || [];",
							"    const expectedPostId = pm.environment.get(\"postid\");",
							"",
							"    if (!expectedPostId) {",
							"        throw new Error(\"Environment variable 'postid' is not set.\");",
							"    }",
							"",
							"    const postFound = posts.find(p => p.id === expectedPostId);",
							"",
							"    if (!postFound) {",
							"        throw new Error(`Post with ID ${expectedPostId} not found.`);",
							"    }",
							"",
							"    pm.expect(postFound.title, `Post ${expectedPostId} title`).to.eql(\"moderation_post\");",
							"    pm.expect(postFound.visibilityStatus, `Post ${expectedPostId} visibilityStatus`).to.eql(\"NORMAL\");",
							"    pm.expect(postFound.hasActiveReports, `Post ${expectedPostId} hasActiveReports`).to.eql(true);",
							"    pm.expect(postFound.isHiddenForUsers, `Post ${expectedPostId} isHiddenForUsers`).to.eql(false);",
							"    pm.expect(postFound.user?.username, `User ${expectedPostId} username`).to.eql(\"tester02\");",
							"    pm.expect(postFound.user?.visibilityStatus, `User ${expectedPostId} visibilityStatus`).to.eql(\"NORMAL\");",
							"    pm.expect(postFound.user?.hasActiveReports, `User ${expectedPostId} hasActiveReports`).to.eql(false);",
							"    pm.expect(postFound.user?.isHiddenForUsers, `User ${expectedPostId} isHiddenForUsers`).to.eql(false);",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "query ListPosts {\n    listPosts(userid: \"{{w_userid_t2}}\", contentFilterBy: MYGRANDMALIKES, limit:20) {\n        counter\n        meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n        affectedRows {\n            id\n            contenttype\n            title\n            media\n            cover\n            mediadescription\n            createdat\n            visibilityStatus\n          isHiddenForUsers\n            hasActiveReports\n            amountreports\n            amountlikes\n            amountviews\n            amountcomments\n            amountdislikes\n            amounttrending\n            isliked\n            isviewed\n            isreported\n            isdisliked\n            issaved\n            tags\n            url\n            user {\n                id\n                username\n                slug\n                img\n                visibilityStatus\n          isHiddenForUsers\n                hasActiveReports\n                isfollowed\n                isfollowing\n                isfriend\n            }\n            comments {\n                commentid\n                userid\n                postid\n                parentid\n                content\n                createdat\n                visibilityStatus\n          isHiddenForUsers\n                hasActiveReports\n                amountlikes\n                amountreplies\n                amountreports\n                isliked\n                user {\n                    id\n                    username\n                    slug\n                    img\n                    visibilityStatus\n          isHiddenForUsers\n                    hasActiveReports\n                    isfollowed\n                    isfollowing\n                    isfriend\n                }\n            }\n        }\n    }\n}\n\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Confirm post is still seen (title)",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11501\");",
							"});",
							"",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"pm.test(\"Comment has correct moderation data\", function () {",
							"    const response = pm.response.json();",
							"    const posts = response.data?.listPosts?.affectedRows || [];",
							"    const expectedCommentId = pm.environment.get(\"commentid\");",
							"",
							"    if (!expectedCommentId) {",
							"        throw new Error(\"Environment variable 'commentid' is not set.\");",
							"    }",
							"",
							"    let commentFound = null;",
							"",
							"    for (const post of posts) {",
							"        const comments = post.comments || [];",
							"        commentFound = comments.find(c => c.commentid === expectedCommentId);",
							"        if (commentFound) break;",
							"    }",
							"",
							"    if (!commentFound) {",
							"        throw new Error(`Comment with ID ${expectedCommentId} not found in any post.`);",
							"    }",
							"",
							"    pm.expect(commentFound.visibilityStatus, `Comment ${expectedCommentId} visibilityStatus`).to.eql(\"HIDDEN\");",
							"    pm.expect(commentFound.hasActiveReports, `Comment ${expectedCommentId} hasActiveReports`).to.eql(true);",
							"    pm.expect(commentFound.isHiddenForUsers, `Comment ${expectedCommentId} isHiddenForUsers`).to.eql(true);",
							"});",
							"",
							"pm.test(\"Post has correct moderation data\", function () {",
							"    const response = pm.response.json();",
							"    const posts = response.data?.listPosts?.affectedRows || [];",
							"    const expectedPostId = pm.environment.get(\"postid\");",
							"",
							"    if (!expectedPostId) {",
							"        throw new Error(\"Environment variable 'postid' is not set.\");",
							"    }",
							"",
							"    const postFound = posts.find(p => p.id === expectedPostId);",
							"",
							"    if (!postFound) {",
							"        throw new Error(`Post with ID ${expectedPostId} not found.`);",
							"    }",
							"",
							"    pm.expect(postFound.title, `Post ${expectedPostId} title`).to.eql(\"moderation_post\");",
							"    pm.expect(postFound.visibilityStatus, `Post ${expectedPostId} visibilityStatus`).to.eql(\"NORMAL\");",
							"    pm.expect(postFound.hasActiveReports, `Post ${expectedPostId} hasActiveReports`).to.eql(true);",
							"    pm.expect(postFound.isHiddenForUsers, `Post ${expectedPostId} isHiddenForUsers`).to.eql(false);",
							"    pm.expect(postFound.user?.username, `User ${expectedPostId} username`).to.eql(\"tester02\");",
							"    pm.expect(postFound.user?.visibilityStatus, `User ${expectedPostId} visibilityStatus`).to.eql(\"NORMAL\");",
							"    pm.expect(postFound.user?.hasActiveReports, `User ${expectedPostId} hasActiveReports`).to.eql(false);",
							"    pm.expect(postFound.user?.isHiddenForUsers, `User ${expectedPostId} isHiddenForUsers`).to.eql(false);",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "query ListPosts {\n    listPosts(title: \"moderation_post\", contentFilterBy: MYGRANDMALIKES, limit:20) {\n        counter\n        meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n        affectedRows {\n            id\n            contenttype\n            title\n            media\n            cover\n            mediadescription\n            createdat\n            visibilityStatus\n          isHiddenForUsers\n            hasActiveReports\n            amountreports\n            amountlikes\n            amountviews\n            amountcomments\n            amountdislikes\n            amounttrending\n            isliked\n            isviewed\n            isreported\n            isdisliked\n            issaved\n            tags\n            url\n            user {\n                id\n                username\n                slug\n                img\n                visibilityStatus\n          isHiddenForUsers\n                hasActiveReports\n                isfollowed\n                isfollowing\n                isfriend\n            }\n            comments {\n                commentid\n                userid\n                postid\n                parentid\n                content\n                createdat\n                visibilityStatus\n          isHiddenForUsers\n                hasActiveReports\n                amountlikes\n                amountreplies\n                amountreports\n                isliked\n                user {\n                    id\n                    username\n                    slug\n                    img\n                    visibilityStatus\n          isHiddenForUsers\n                    hasActiveReports\n                    isfollowed\n                    isfollowing\n                    isfriend\n                }\n            }\n        }\n    }\n}\n\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Confirm post is still seen (postid)",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11501\");",
							"});",
							"",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"pm.test(\"Comment has correct moderation data\", function () {",
							"    const response = pm.response.json();",
							"    const posts = response.data?.listPosts?.affectedRows || [];",
							"    const expectedCommentId = pm.environment.get(\"commentid\");",
							"",
							"    if (!expectedCommentId) {",
							"        throw new Error(\"Environment variable 'commentid' is not set.\");",
							"    }",
							"",
							"    let commentFound = null;",
							"",
							"    for (const post of posts) {",
							"        const comments = post.comments || [];",
							"        commentFound = comments.find(c => c.commentid === expectedCommentId);",
							"        if (commentFound) break;",
							"    }",
							"",
							"    if (!commentFound) {",
							"        throw new Error(`Comment with ID ${expectedCommentId} not found in any post.`);",
							"    }",
							"",
							"    pm.expect(commentFound.visibilityStatus, `Comment ${expectedCommentId} visibilityStatus`).to.eql(\"HIDDEN\");",
							"    pm.expect(commentFound.hasActiveReports, `Comment ${expectedCommentId} hasActiveReports`).to.eql(true);",
							"    pm.expect(commentFound.isHiddenForUsers, `Comment ${expectedCommentId} isHiddenForUsers`).to.eql(true);",
							"});",
							"",
							"pm.test(\"Post has correct moderation data\", function () {",
							"    const response = pm.response.json();",
							"    const posts = response.data?.listPosts?.affectedRows || [];",
							"    const expectedPostId = pm.environment.get(\"postid\");",
							"",
							"    if (!expectedPostId) {",
							"        throw new Error(\"Environment variable 'postid' is not set.\");",
							"    }",
							"",
							"    const postFound = posts.find(p => p.id === expectedPostId);",
							"",
							"    if (!postFound) {",
							"        throw new Error(`Post with ID ${expectedPostId} not found.`);",
							"    }",
							"",
							"    pm.expect(postFound.title, `Post ${expectedPostId} title`).to.eql(\"moderation_post\");",
							"    pm.expect(postFound.visibilityStatus, `Post ${expectedPostId} visibilityStatus`).to.eql(\"NORMAL\");",
							"    pm.expect(postFound.hasActiveReports, `Post ${expectedPostId} hasActiveReports`).to.eql(true);",
							"    pm.expect(postFound.isHiddenForUsers, `Post ${expectedPostId} isHiddenForUsers`).to.eql(false);",
							"    pm.expect(postFound.user?.username, `User ${expectedPostId} username`).to.eql(\"tester02\");",
							"    pm.expect(postFound.user?.visibilityStatus, `User ${expectedPostId} visibilityStatus`).to.eql(\"NORMAL\");",
							"    pm.expect(postFound.user?.hasActiveReports, `User ${expectedPostId} hasActiveReports`).to.eql(false);",
							"    pm.expect(postFound.user?.isHiddenForUsers, `User ${expectedPostId} isHiddenForUsers`).to.eql(false);",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "query ListPosts {\n    listPosts(postid: \"{{postid}}\", contentFilterBy: MYGRANDMALIKES) {\n        counter\n        meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n        affectedRows {\n            id\n            contenttype\n            title\n            media\n            cover\n            mediadescription\n            createdat\n            visibilityStatus\n          isHiddenForUsers\n            hasActiveReports\n            amountreports\n            amountlikes\n            amountviews\n            amountcomments\n            amountdislikes\n            amounttrending\n            isliked\n            isviewed\n            isreported\n            isdisliked\n            issaved\n            tags\n            url\n            user {\n                id\n                username\n                slug\n                img\n                visibilityStatus\n          isHiddenForUsers\n                hasActiveReports\n                isfollowed\n                isfollowing\n                isfriend\n            }\n            comments {\n                commentid\n                userid\n                postid\n                parentid\n                content\n                createdat\n                visibilityStatus\n          isHiddenForUsers\n                hasActiveReports\n                amountlikes\n                amountreplies\n                amountreports\n                isliked\n                user {\n                    id\n                    username\n                    slug\n                    img\n                    visibilityStatus\n          isHiddenForUsers\n                    hasActiveReports\n                    isfollowed\n                    isfollowing\n                    isfriend\n                }\n            }\n        }\n    }\n}\n\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Login t1",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"10801\");",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"let response = pm.response.json();",
							"if (!pm.response.text().includes(\"error\")) {",
							"    pm.environment.set(\"accessToken\", response.data.login.accessToken);",
							"} else {",
							"    console.log(\"Error detected in response, environment variable not set.\");",
							"}",
							"if (!pm.response.text().includes(\"error\")) {",
							"    pm.environment.set(\"refreshToken\", response.data.login.refreshToken);",
							"} else {",
							"    console.log(\"Error detected in response, environment variable not set.\");",
							"}",
							"let token = pm.environment.get(\"accessToken\");",
							"pm.test(\"Access token exists\", function () {",
							"    pm.expect(token).to.be.a(\"string\");",
							"});",
							"",
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "mutation Login {\n  login(email: \"{{email_t1}}\",\n    password: \"{{password_T}}\"\n  ) {\n    meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n    accessToken\n    refreshToken\n  }\n}",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Report post",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11505\");",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});"
						],
						"type": "text/javascript",
						"packages": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							""
						],
						"type": "text/javascript",
						"packages": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "mutation ResolveActionPost {\n    resolvePostAction(\n        postid: \"{{postid}}\"\n        action: REPORT\n    ) {\n        status\n        RequestId\n        ResponseCode\n        ResponseMessage\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Confirm post is not seen (feed)",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11501\");",
							"});",
							"",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"pm.test(\"Post is not there\", function () {",
							"    pm.expect(pm.response.text()).not.to.include(pm.environment.get(\"postid\"));",
							"});",
							""
						],
						"type": "text/javascript",
						"packages": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "query ListPosts {\n    listPosts(contentFilterBy: MYGRANDMALIKES, limit:20) {\n        counter\n        meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n        affectedRows {\n            id\n            contenttype\n            title\n            media\n            cover\n            mediadescription\n            createdat\n            visibilityStatus\n          isHiddenForUsers\n            hasActiveReports\n            amountreports\n            amountlikes\n            amountviews\n            amountcomments\n            amountdislikes\n            amounttrending\n            isliked\n            isviewed\n            isreported\n            isdisliked\n            issaved\n            tags\n            url\n            user {\n                id\n                username\n                slug\n                img\n                visibilityStatus\n          isHiddenForUsers\n                hasActiveReports\n                isfollowed\n                isfollowing\n                isfriend\n            }\n            comments {\n                commentid\n                userid\n                postid\n                parentid\n                content\n                createdat\n                visibilityStatus\n          isHiddenForUsers\n                hasActiveReports\n                amountlikes\n                amountreplies\n                amountreports\n                isliked\n                user {\n                    id\n                    username\n                    slug\n                    img\n                    visibilityStatus\n          isHiddenForUsers\n                    hasActiveReports\n                    isfollowed\n                    isfollowing\n                    isfriend\n                }\n            }\n        }\n    }\n}\n\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Confirm post is hidden (profile)",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11501\");",
							"});",
							"",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"pm.test(\"Comment has correct moderation data\", function () {",
							"    const response = pm.response.json();",
							"    const posts = response.data?.listPosts?.affectedRows || [];",
							"    const expectedCommentId = pm.environment.get(\"commentid\");",
							"",
							"    if (!expectedCommentId) {",
							"        throw new Error(\"Environment variable 'commentid' is not set.\");",
							"    }",
							"",
							"    let commentFound = null;",
							"",
							"    for (const post of posts) {",
							"        const comments = post.comments || [];",
							"        commentFound = comments.find(c => c.commentid === expectedCommentId);",
							"        if (commentFound) break;",
							"    }",
							"",
							"    if (!commentFound) {",
							"        throw new Error(`Comment with ID ${expectedCommentId} not found in any post.`);",
							"    }",
							"",
							"    pm.expect(commentFound.visibilityStatus, `Comment ${expectedCommentId} visibilityStatus`).to.eql(\"HIDDEN\");",
							"    pm.expect(commentFound.hasActiveReports, `Comment ${expectedCommentId} hasActiveReports`).to.eql(true);",
							"    pm.expect(commentFound.isHiddenForUsers, `Comment ${expectedCommentId} isHiddenForUsers`).to.eql(true);",
							"});",
							"",
							"pm.test(\"Post has correct moderation data\", function () {",
							"    const response = pm.response.json();",
							"    const posts = response.data?.listPosts?.affectedRows || [];",
							"    const expectedPostId = pm.environment.get(\"postid\");",
							"",
							"    if (!expectedPostId) {",
							"        throw new Error(\"Environment variable 'postid' is not set.\");",
							"    }",
							"",
							"    const postFound = posts.find(p => p.id === expectedPostId);",
							"",
							"    if (!postFound) {",
							"        throw new Error(`Post with ID ${expectedPostId} not found.`);",
							"    }",
							"",
							"    pm.expect(postFound.visibilityStatus, `Post ${expectedPostId} visibilityStatus`).to.eql(\"HIDDEN\");",
							"    pm.expect(postFound.hasActiveReports, `Post ${expectedPostId} hasActiveReports`).to.eql(true);",
							"    pm.expect(postFound.isHiddenForUsers, `Post ${expectedPostId} isHiddenForUsers`).to.eql(true);",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "query ListPosts {\n    listPosts(userid: \"{{w_userid_t2}}\", contentFilterBy: MYGRANDMALIKES, limit:20) {\n        counter\n        meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n        affectedRows {\n            id\n            contenttype\n            title\n            media\n            cover\n            mediadescription\n            createdat\n            visibilityStatus\n          isHiddenForUsers\n            hasActiveReports\n            amountreports\n            amountlikes\n            amountviews\n            amountcomments\n            amountdislikes\n            amounttrending\n            isliked\n            isviewed\n            isreported\n            isdisliked\n            issaved\n            tags\n            url\n            user {\n                id\n                username\n                slug\n                img\n                visibilityStatus\n          isHiddenForUsers\n                hasActiveReports\n                isfollowed\n                isfollowing\n                isfriend\n            }\n            comments {\n                commentid\n                userid\n                postid\n                parentid\n                content\n                createdat\n                visibilityStatus\n          isHiddenForUsers\n                hasActiveReports\n                amountlikes\n                amountreplies\n                amountreports\n                isliked\n                user {\n                    id\n                    username\n                    slug\n                    img\n                    visibilityStatus\n          isHiddenForUsers\n                    hasActiveReports\n                    isfollowed\n                    isfollowing\n                    isfriend\n                }\n            }\n        }\n    }\n}\n\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Confirm post is hidden (title)",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11501\");",
							"});",
							"",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"pm.test(\"Comment has correct moderation data\", function () {",
							"    const response = pm.response.json();",
							"    const posts = response.data?.listPosts?.affectedRows || [];",
							"    const expectedCommentId = pm.environment.get(\"commentid\");",
							"",
							"    if (!expectedCommentId) {",
							"        throw new Error(\"Environment variable 'commentid' is not set.\");",
							"    }",
							"",
							"    let commentFound = null;",
							"",
							"    for (const post of posts) {",
							"        const comments = post.comments || [];",
							"        commentFound = comments.find(c => c.commentid === expectedCommentId);",
							"        if (commentFound) break;",
							"    }",
							"",
							"    if (!commentFound) {",
							"        throw new Error(`Comment with ID ${expectedCommentId} not found in any post.`);",
							"    }",
							"",
							"    pm.expect(commentFound.visibilityStatus, `Comment ${expectedCommentId} visibilityStatus`).to.eql(\"HIDDEN\");",
							"    pm.expect(commentFound.hasActiveReports, `Comment ${expectedCommentId} hasActiveReports`).to.eql(true);",
							"    pm.expect(commentFound.isHiddenForUsers, `Comment ${expectedCommentId} isHiddenForUsers`).to.eql(true);",
							"});",
							"",
							"pm.test(\"Post has correct moderation data\", function () {",
							"    const response = pm.response.json();",
							"    const posts = response.data?.listPosts?.affectedRows || [];",
							"    const expectedPostId = pm.environment.get(\"postid\");",
							"",
							"    if (!expectedPostId) {",
							"        throw new Error(\"Environment variable 'postid' is not set.\");",
							"    }",
							"",
							"    const postFound = posts.find(p => p.id === expectedPostId);",
							"",
							"    if (!postFound) {",
							"        throw new Error(`Post with ID ${expectedPostId} not found.`);",
							"    }",
							"",
							"    pm.expect(postFound.visibilityStatus, `Post ${expectedPostId} visibilityStatus`).to.eql(\"HIDDEN\");",
							"    pm.expect(postFound.hasActiveReports, `Post ${expectedPostId} hasActiveReports`).to.eql(true);",
							"    pm.expect(postFound.isHiddenForUsers, `Post ${expectedPostId} isHiddenForUsers`).to.eql(true);",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "query ListPosts {\n    listPosts(title: \"moderation_post\", contentFilterBy: MYGRANDMALIKES, limit:20) {\n        counter\n        meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n        affectedRows {\n            id\n            contenttype\n            title\n            media\n            cover\n            mediadescription\n            createdat\n            visibilityStatus\n          isHiddenForUsers\n            hasActiveReports\n            amountreports\n            amountlikes\n            amountviews\n            amountcomments\n            amountdislikes\n            amounttrending\n            isliked\n            isviewed\n            isreported\n            isdisliked\n            issaved\n            tags\n            url\n            user {\n                id\n                username\n                slug\n                img\n                visibilityStatus\n          isHiddenForUsers\n                hasActiveReports\n                isfollowed\n                isfollowing\n                isfriend\n            }\n            comments {\n                commentid\n                userid\n                postid\n                parentid\n                content\n                createdat\n                visibilityStatus\n          isHiddenForUsers\n                hasActiveReports\n                amountlikes\n                amountreplies\n                amountreports\n                isliked\n                user {\n                    id\n                    username\n                    slug\n                    img\n                    visibilityStatus\n          isHiddenForUsers\n                    hasActiveReports\n                    isfollowed\n                    isfollowing\n                    isfriend\n                }\n            }\n        }\n    }\n}\n\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Confirm post is hidden (postid)",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11501\");",
							"});",
							"",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"pm.test(\"Comment has correct moderation data\", function () {",
							"    const response = pm.response.json();",
							"    const posts = response.data?.listPosts?.affectedRows || [];",
							"    const expectedCommentId = pm.environment.get(\"commentid\");",
							"",
							"    if (!expectedCommentId) {",
							"        throw new Error(\"Environment variable 'commentid' is not set.\");",
							"    }",
							"",
							"    let commentFound = null;",
							"",
							"    for (const post of posts) {",
							"        const comments = post.comments || [];",
							"        commentFound = comments.find(c => c.commentid === expectedCommentId);",
							"        if (commentFound) break;",
							"    }",
							"",
							"    if (!commentFound) {",
							"        throw new Error(`Comment with ID ${expectedCommentId} not found in any post.`);",
							"    }",
							"",
							"    pm.expect(commentFound.visibilityStatus, `Comment ${expectedCommentId} visibilityStatus`).to.eql(\"HIDDEN\");",
							"    pm.expect(commentFound.hasActiveReports, `Comment ${expectedCommentId} hasActiveReports`).to.eql(true);",
							"    pm.expect(commentFound.isHiddenForUsers, `Comment ${expectedCommentId} isHiddenForUsers`).to.eql(true);",
							"});",
							"",
							"pm.test(\"Post has correct moderation data\", function () {",
							"    const response = pm.response.json();",
							"    const posts = response.data?.listPosts?.affectedRows || [];",
							"    const expectedPostId = pm.environment.get(\"postid\");",
							"",
							"    if (!expectedPostId) {",
							"        throw new Error(\"Environment variable 'postid' is not set.\");",
							"    }",
							"",
							"    const postFound = posts.find(p => p.id === expectedPostId);",
							"",
							"    if (!postFound) {",
							"        throw new Error(`Post with ID ${expectedPostId} not found.`);",
							"    }",
							"",
							"    pm.expect(postFound.visibilityStatus, `Post ${expectedPostId} visibilityStatus`).to.eql(\"HIDDEN\");",
							"    pm.expect(postFound.hasActiveReports, `Post ${expectedPostId} hasActiveReports`).to.eql(true);",
							"    pm.expect(postFound.isHiddenForUsers, `Post ${expectedPostId} isHiddenForUsers`).to.eql(true);",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "query ListPosts {\n    listPosts(postid: \"{{postid}}\", contentFilterBy: MYGRANDMALIKES) {\n        counter\n        meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n        affectedRows {\n            id\n            contenttype\n            title\n            media\n            cover\n            mediadescription\n            createdat\n            visibilityStatus\n          isHiddenForUsers\n            hasActiveReports\n            amountreports\n            amountlikes\n            amountviews\n            amountcomments\n            amountdislikes\n            amounttrending\n            isliked\n            isviewed\n            isreported\n            isdisliked\n            issaved\n            tags\n            url\n            user {\n                id\n                username\n                slug\n                img\n                visibilityStatus\n          isHiddenForUsers\n                hasActiveReports\n                isfollowed\n                isfollowing\n                isfriend\n            }\n            comments {\n                commentid\n                userid\n                postid\n                parentid\n                content\n                createdat\n                visibilityStatus\n          isHiddenForUsers\n                hasActiveReports\n                amountlikes\n                amountreplies\n                amountreports\n                isliked\n                user {\n                    id\n                    username\n                    slug\n                    img\n                    visibilityStatus\n          isHiddenForUsers\n                    hasActiveReports\n                    isfollowed\n                    isfollowing\n                    isfriend\n                }\n            }\n        }\n    }\n}\n\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "List post amount of objects (MYGRANDMALIKES)",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11501\");",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"const json = pm.response.json();",
							"const posts = json?.data?.listPosts?.affectedRows || [];",
							"",
							"let currentPostCount = posts.length;",
							"let currentCommentCount = 0;",
							"",
							"posts.forEach(post => {",
							"    if (Array.isArray(post.comments)) {",
							"        currentCommentCount += post.comments.length;",
							"    }",
							"});",
							"",
							"const originalPostCount = parseInt(pm.environment.get(\"noFilter_post_count\"), 10);",
							"const originalCommentCount = parseInt(pm.environment.get(\"noFilter_comment_count\"), 10);",
							"",
							"pm.test(\"Post count dropped by exactly 1\", function () {",
							"    const diff = originalPostCount - currentPostCount;",
							"    pm.expect(diff).to.eql(1);",
							"});",
							"",
							"pm.test(\"Comment count dropped by exactly 1\", function () {",
							"    const diff = originalCommentCount - currentCommentCount;",
							"    pm.expect(diff).to.eql(1);",
							"});",
							"",
							"console.log(`Posts: ${originalPostCount}  ${currentPostCount}`);",
							"console.log(`Comments: ${originalCommentCount}  ${currentCommentCount}`);",
							""
						],
						"type": "text/javascript",
						"packages": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "query ListPosts {\n    listPosts(contentFilterBy: MYGRANDMALIKES, limit: 20) {\n        counter\n        meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n        affectedRows {\n            id\n            contenttype\n            title\n            media\n            cover\n            mediadescription\n            createdat\n            visibilityStatus\n          isHiddenForUsers\n            hasActiveReports\n            amountreports\n            amountlikes\n            amountviews\n            amountcomments\n            amountdislikes\n            amounttrending\n            isliked\n            isviewed\n            isreported\n            isdisliked\n            issaved\n            tags\n            url\n            user {\n                id\n                username\n                slug\n                img\n                visibilityStatus\n          isHiddenForUsers\n                hasActiveReports\n                isfollowed\n                isfollowing\n                isfriend\n            }\n            comments {\n                commentid\n                userid\n                postid\n                parentid\n                content\n                createdat\n                visibilityStatus\n          isHiddenForUsers\n                hasActiveReports\n                amountlikes\n                amountreplies\n                amountreports\n                isliked\n                user {\n                    id\n                    username\n                    slug\n                    img\n                    visibilityStatus\n          isHiddenForUsers\n                    hasActiveReports\n                    isfollowed\n                    isfollowing\n                    isfriend\n                }\n            }\n        }\n    }\n}\n\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "List post amount of objects (without filter)",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11501\");",
							"});",
							"",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"const json = pm.response.json();",
							"const posts = json?.data?.listPosts?.affectedRows || [];",
							"",
							"let currentPostCount = posts.length;",
							"let currentCommentCount = 0;",
							"",
							"posts.forEach(post => {",
							"    if (Array.isArray(post.comments)) {",
							"        currentCommentCount += post.comments.length;",
							"    }",
							"});",
							"",
							"const originalPostCount = parseInt(pm.environment.get(\"noFilter_post_count\"), 10);",
							"const originalCommentCount = parseInt(pm.environment.get(\"noFilter_comment_count\"), 10);",
							"",
							"pm.test(\"Post count unchanged after comment report (unfiltered)\", function () {",
							"    pm.expect(currentPostCount).to.eql(originalPostCount);",
							"});",
							"",
							"pm.test(\"Comment count unchanged after comment report (unfiltered)\", function () {",
							"    pm.expect(currentCommentCount).to.eql(originalCommentCount);",
							"});",
							""
						],
						"type": "text/javascript",
						"packages": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "query ListPosts {\n    listPosts(limit: 20) {\n        counter\n        meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n        affectedRows {\n            id\n            contenttype\n            title\n            media\n            cover\n            mediadescription\n            createdat\n            visibilityStatus\n          isHiddenForUsers\n            hasActiveReports\n            amountreports\n            amountlikes\n            amountviews\n            amountcomments\n            amountdislikes\n            amounttrending\n            isliked\n            isviewed\n            isreported\n            isdisliked\n            issaved\n            tags\n            url\n            user {\n                id\n                username\n                slug\n                img\n                visibilityStatus\n          isHiddenForUsers\n                hasActiveReports\n                isfollowed\n                isfollowing\n                isfriend\n            }\n            comments {\n                commentid\n                userid\n                postid\n                parentid\n                content\n                createdat\n                visibilityStatus\n          isHiddenForUsers\n                hasActiveReports\n                amountlikes\n                amountreplies\n                amountreports\n                isliked\n                user {\n                    id\n                    username\n                    slug\n                    img\n                    visibilityStatus\n          isHiddenForUsers\n                    hasActiveReports\n                    isfollowed\n                    isfollowing\n                    isfriend\n                }\n            }\n        }\n    }\n}\n\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Guest list post",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11501\");",
							"});",
							"",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"pm.test(\"Comment has correct moderation data\", function () {",
							"    const response = pm.response.json();",
							"    const post = response.data?.guestListPost?.affectedRows;",
							"    const expectedCommentId = pm.environment.get(\"commentid\");",
							"",
							"    if (!expectedCommentId) {",
							"        throw new Error(\"Environment variable 'commentid' is not set.\");",
							"    }",
							"",
							"    const comments = post?.comments || [];",
							"    const commentFound = comments.find(c => c.commentid === expectedCommentId);",
							"",
							"    if (!commentFound) {",
							"        throw new Error(`Comment with ID ${expectedCommentId} not found.`);",
							"    }",
							"",
							"    pm.expect(commentFound.visibilityStatus, `Comment ${expectedCommentId} visibilityStatus`).to.eql(\"NORMAL\");",
							"    pm.expect(commentFound.hasActiveReports, `Comment ${expectedCommentId} hasActiveReports`).to.eql(true);",
							"    pm.expect(commentFound.isHiddenForUsers, `Comment ${expectedCommentId} isHiddenForUsers`).to.eql(true);",
							"});",
							"",
							"pm.test(\"Post has correct moderation data\", function () {",
							"    const response = pm.response.json();",
							"    const post = response.data?.guestListPost?.affectedRows;",
							"    const expectedPostId = pm.environment.get(\"postid\");",
							"",
							"    if (!expectedPostId) {",
							"        throw new Error(\"Environment variable 'postid' is not set.\");",
							"    }",
							"",
							"    if (!post || post.id !== expectedPostId) {",
							"        throw new Error(`Guest list post with ID ${expectedPostId} not found.`);",
							"    }",
							"",
							"    pm.expect(post.visibilityStatus, `Post ${expectedPostId} visibilityStatus`).to.eql(\"NORMAL\");",
							"    pm.expect(post.hasActiveReports, `Post ${expectedPostId} hasActiveReports`).to.eql(true);",
							"    pm.expect(post.isHiddenForUsers, `Post ${expectedPostId} isHiddenForUsers`).to.eql(true);",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "noauth"
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "query GuestListPost {\n    guestListPost(postid: \"{{postid}}\") {\n        meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n        affectedRows {\n            id\n            contenttype\n            title\n            media\n            cover\n            mediadescription\n            createdat\n            visibilityStatus\n          isHiddenForUsers\n            hasActiveReports\n            amountreports\n            amountlikes\n            amountviews\n            amountcomments\n            amountdislikes\n            amounttrending\n            isliked\n            isviewed\n            isreported\n            isdisliked\n            issaved\n            tags\n            url\n            user {\n                id\n                username\n                slug\n                img\n                visibilityStatus\n          isHiddenForUsers\n                hasActiveReports\n                isfollowed\n                isfollowing\n                isfriend\n            }\n            comments {\n                commentid\n                userid\n                postid\n                parentid\n                content\n                createdat\n                visibilityStatus\n          isHiddenForUsers\n                hasActiveReports\n                amountlikes\n                amountreplies\n                amountreports\n                isliked\n                user {\n                    id\n                    username\n                    slug\n                    img\n                    visibilityStatus\n          isHiddenForUsers\n                    hasActiveReports\n                    isfollowed\n                    isfollowing\n                    isfriend\n                }\n            }\n        }\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Report tester 2",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11012\");",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							""
						],
						"type": "text/javascript",
						"packages": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "mutation ReportUser {\n    reportUser(userid: \"{{w_userid_t2}}\") {\n        status\n        RequestId\n        ResponseCode\n        ResponseMessage\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Double report user (fail)",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"31008\");",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"error\"');",
							"});",
							""
						],
						"type": "text/javascript",
						"packages": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "mutation ReportUser {\n    reportUser(userid: \"{{w_userid_t2}}\") {\n        status\n        RequestId\n        ResponseCode\n        ResponseMessage\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Login t2",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"10801\");",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"let response = pm.response.json();",
							"if (!pm.response.text().includes(\"error\")) {",
							"    pm.environment.set(\"accessToken\", response.data.login.accessToken);",
							"} else {",
							"    console.log(\"Error detected in response, environment variable not set.\");",
							"}",
							"if (!pm.response.text().includes(\"error\")) {",
							"    pm.environment.set(\"refreshToken\", response.data.login.refreshToken);",
							"} else {",
							"    console.log(\"Error detected in response, environment variable not set.\");",
							"}",
							"let token = pm.environment.get(\"accessToken\");",
							"pm.test(\"Access token exists\", function () {",
							"    pm.expect(token).to.be.a(\"string\");",
							"});",
							"",
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "mutation Login {\n  login(email: \"{{email_t2}}\",\n    password: \"{{password_T}}\"\n  ) {\n    meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n    accessToken\n    refreshToken\n  }\n}",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Confirm post is not seen (feed)",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11501\");",
							"});",
							"",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"pm.test(\"Post is not there\", function () {",
							"    pm.expect(pm.response.text()).not.to.include(pm.environment.get(\"postid\"));",
							"});",
							""
						],
						"type": "text/javascript",
						"packages": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "query ListPosts {\n    listPosts(contentFilterBy: MYGRANDMALIKES, limit:20) {\n        counter\n        meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n        affectedRows {\n            id\n            contenttype\n            title\n            media\n            cover\n            mediadescription\n            createdat\n            visibilityStatus\n          isHiddenForUsers\n            hasActiveReports\n            amountreports\n            amountlikes\n            amountviews\n            amountcomments\n            amountdislikes\n            amounttrending\n            isliked\n            isviewed\n            isreported\n            isdisliked\n            issaved\n            tags\n            url\n            user {\n                id\n                username\n                slug\n                img\n                visibilityStatus\n          isHiddenForUsers\n                hasActiveReports\n                isfollowed\n                isfollowing\n                isfriend\n            }\n            comments {\n                commentid\n                userid\n                postid\n                parentid\n                content\n                createdat\n                visibilityStatus\n          isHiddenForUsers\n                hasActiveReports\n                amountlikes\n                amountreplies\n                amountreports\n                isliked\n                user {\n                    id\n                    username\n                    slug\n                    img\n                    visibilityStatus\n          isHiddenForUsers\n                    hasActiveReports\n                    isfollowed\n                    isfollowing\n                    isfriend\n                }\n            }\n        }\n    }\n}\n\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Confirm post is hidden (profile)",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11501\");",
							"});",
							"",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"pm.test(\"Comment has correct moderation data\", function () {",
							"    const response = pm.response.json();",
							"    const posts = response.data?.listPosts?.affectedRows || [];",
							"    const expectedCommentId = pm.environment.get(\"commentid\");",
							"",
							"    if (!expectedCommentId) {",
							"        throw new Error(\"Environment variable 'commentid' is not set.\");",
							"    }",
							"",
							"    let commentFound = null;",
							"",
							"    for (const post of posts) {",
							"        const comments = post.comments || [];",
							"        commentFound = comments.find(c => c.commentid === expectedCommentId);",
							"        if (commentFound) break;",
							"    }",
							"",
							"    if (!commentFound) {",
							"        throw new Error(`Comment with ID ${expectedCommentId} not found in any post.`);",
							"    }",
							"",
							"    pm.expect(commentFound.visibilityStatus, `Comment ${expectedCommentId} visibilityStatus`).to.eql(\"HIDDEN\");",
							"    pm.expect(commentFound.hasActiveReports, `Comment ${expectedCommentId} hasActiveReports`).to.eql(true);",
							"    pm.expect(commentFound.isHiddenForUsers, `Comment ${expectedCommentId} isHiddenForUsers`).to.eql(true);",
							"});",
							"",
							"pm.test(\"Post has correct moderation data\", function () {",
							"    const response = pm.response.json();",
							"    const posts = response.data?.listPosts?.affectedRows || [];",
							"    const expectedPostId = pm.environment.get(\"postid\");",
							"",
							"    if (!expectedPostId) {",
							"        throw new Error(\"Environment variable 'postid' is not set.\");",
							"    }",
							"",
							"    const postFound = posts.find(p => p.id === expectedPostId);",
							"",
							"    if (!postFound) {",
							"        throw new Error(`Post with ID ${expectedPostId} not found.`);",
							"    }",
							"",
							"    pm.expect(postFound.visibilityStatus, `Post ${expectedPostId} visibilityStatus`).to.eql(\"HIDDEN\");",
							"    pm.expect(postFound.hasActiveReports, `Post ${expectedPostId} hasActiveReports`).to.eql(true);",
							"    pm.expect(postFound.isHiddenForUsers, `Post ${expectedPostId} isHiddenForUsers`).to.eql(true);",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "query ListPosts {\n    listPosts(userid: \"{{w_userid_t2}}\", contentFilterBy: MYGRANDMALIKES, limit:20) {\n        counter\n        meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n        affectedRows {\n            id\n            contenttype\n            title\n            media\n            cover\n            mediadescription\n            createdat\n            visibilityStatus\n          isHiddenForUsers\n            hasActiveReports\n            amountreports\n            amountlikes\n            amountviews\n            amountcomments\n            amountdislikes\n            amounttrending\n            isliked\n            isviewed\n            isreported\n            isdisliked\n            issaved\n            tags\n            url\n            user {\n                id\n                username\n                slug\n                img\n                visibilityStatus\n          isHiddenForUsers\n                hasActiveReports\n                isfollowed\n                isfollowing\n                isfriend\n            }\n            comments {\n                commentid\n                userid\n                postid\n                parentid\n                content\n                createdat\n                visibilityStatus\n          isHiddenForUsers\n                hasActiveReports\n                amountlikes\n                amountreplies\n                amountreports\n                isliked\n                user {\n                    id\n                    username\n                    slug\n                    img\n                    visibilityStatus\n          isHiddenForUsers\n                    hasActiveReports\n                    isfollowed\n                    isfollowing\n                    isfriend\n                }\n            }\n        }\n    }\n}\n\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Confirm post is hidden (title)",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11501\");",
							"});",
							"",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"pm.test(\"Comment has correct moderation data\", function () {",
							"    const response = pm.response.json();",
							"    const posts = response.data?.listPosts?.affectedRows || [];",
							"    const expectedCommentId = pm.environment.get(\"commentid\");",
							"",
							"    if (!expectedCommentId) {",
							"        throw new Error(\"Environment variable 'commentid' is not set.\");",
							"    }",
							"",
							"    let commentFound = null;",
							"",
							"    for (const post of posts) {",
							"        const comments = post.comments || [];",
							"        commentFound = comments.find(c => c.commentid === expectedCommentId);",
							"        if (commentFound) break;",
							"    }",
							"",
							"    if (!commentFound) {",
							"        throw new Error(`Comment with ID ${expectedCommentId} not found in any post.`);",
							"    }",
							"",
							"    pm.expect(commentFound.visibilityStatus, `Comment ${expectedCommentId} visibilityStatus`).to.eql(\"HIDDEN\");",
							"    pm.expect(commentFound.hasActiveReports, `Comment ${expectedCommentId} hasActiveReports`).to.eql(true);",
							"    pm.expect(commentFound.isHiddenForUsers, `Comment ${expectedCommentId} isHiddenForUsers`).to.eql(true);",
							"});",
							"",
							"pm.test(\"Post has correct moderation data\", function () {",
							"    const response = pm.response.json();",
							"    const posts = response.data?.listPosts?.affectedRows || [];",
							"    const expectedPostId = pm.environment.get(\"postid\");",
							"",
							"    if (!expectedPostId) {",
							"        throw new Error(\"Environment variable 'postid' is not set.\");",
							"    }",
							"",
							"    const postFound = posts.find(p => p.id === expectedPostId);",
							"",
							"    if (!postFound) {",
							"        throw new Error(`Post with ID ${expectedPostId} not found.`);",
							"    }",
							"",
							"    pm.expect(postFound.visibilityStatus, `Post ${expectedPostId} visibilityStatus`).to.eql(\"HIDDEN\");",
							"    pm.expect(postFound.hasActiveReports, `Post ${expectedPostId} hasActiveReports`).to.eql(true);",
							"    pm.expect(postFound.isHiddenForUsers, `Post ${expectedPostId} isHiddenForUsers`).to.eql(true);",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "query ListPosts {\n    listPosts(title: \"moderation_post\", contentFilterBy: MYGRANDMALIKES, limit:20) {\n        counter\n        meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n        affectedRows {\n            id\n            contenttype\n            title\n            media\n            cover\n            mediadescription\n            createdat\n            visibilityStatus\n          isHiddenForUsers\n            hasActiveReports\n            amountreports\n            amountlikes\n            amountviews\n            amountcomments\n            amountdislikes\n            amounttrending\n            isliked\n            isviewed\n            isreported\n            isdisliked\n            issaved\n            tags\n            url\n            user {\n                id\n                username\n                slug\n                img\n                visibilityStatus\n          isHiddenForUsers\n                hasActiveReports\n                isfollowed\n                isfollowing\n                isfriend\n            }\n            comments {\n                commentid\n                userid\n                postid\n                parentid\n                content\n                createdat\n                visibilityStatus\n          isHiddenForUsers\n                hasActiveReports\n                amountlikes\n                amountreplies\n                amountreports\n                isliked\n                user {\n                    id\n                    username\n                    slug\n                    img\n                    visibilityStatus\n          isHiddenForUsers\n                    hasActiveReports\n                    isfollowed\n                    isfollowing\n                    isfriend\n                }\n            }\n        }\n    }\n}\n\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Confirm post is hidden (postid)",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11501\");",
							"});",
							"",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"pm.test(\"Comment has correct moderation data\", function () {",
							"    const response = pm.response.json();",
							"    const posts = response.data?.listPosts?.affectedRows || [];",
							"    const expectedCommentId = pm.environment.get(\"commentid\");",
							"",
							"    if (!expectedCommentId) {",
							"        throw new Error(\"Environment variable 'commentid' is not set.\");",
							"    }",
							"",
							"    let commentFound = null;",
							"",
							"    for (const post of posts) {",
							"        const comments = post.comments || [];",
							"        commentFound = comments.find(c => c.commentid === expectedCommentId);",
							"        if (commentFound) break;",
							"    }",
							"",
							"    if (!commentFound) {",
							"        throw new Error(`Comment with ID ${expectedCommentId} not found in any post.`);",
							"    }",
							"",
							"    pm.expect(commentFound.visibilityStatus, `Comment ${expectedCommentId} visibilityStatus`).to.eql(\"HIDDEN\");",
							"    pm.expect(commentFound.hasActiveReports, `Comment ${expectedCommentId} hasActiveReports`).to.eql(true);",
							"    pm.expect(commentFound.isHiddenForUsers, `Comment ${expectedCommentId} isHiddenForUsers`).to.eql(true);",
							"});",
							"",
							"pm.test(\"Post has correct moderation data\", function () {",
							"    const response = pm.response.json();",
							"    const posts = response.data?.listPosts?.affectedRows || [];",
							"    const expectedPostId = pm.environment.get(\"postid\");",
							"",
							"    if (!expectedPostId) {",
							"        throw new Error(\"Environment variable 'postid' is not set.\");",
							"    }",
							"",
							"    const postFound = posts.find(p => p.id === expectedPostId);",
							"",
							"    if (!postFound) {",
							"        throw new Error(`Post with ID ${expectedPostId} not found.`);",
							"    }",
							"",
							"    pm.expect(postFound.visibilityStatus, `Post ${expectedPostId} visibilityStatus`).to.eql(\"HIDDEN\");",
							"    pm.expect(postFound.hasActiveReports, `Post ${expectedPostId} hasActiveReports`).to.eql(true);",
							"    pm.expect(postFound.isHiddenForUsers, `Post ${expectedPostId} isHiddenForUsers`).to.eql(true);",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "query ListPosts {\n    listPosts(postid: \"{{postid}}\", contentFilterBy: MYGRANDMALIKES) {\n        counter\n        meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n        affectedRows {\n            id\n            contenttype\n            title\n            media\n            cover\n            mediadescription\n            createdat\n            visibilityStatus\n          isHiddenForUsers\n            hasActiveReports\n            amountreports\n            amountlikes\n            amountviews\n            amountcomments\n            amountdislikes\n            amounttrending\n            isliked\n            isviewed\n            isreported\n            isdisliked\n            issaved\n            tags\n            url\n            user {\n                id\n                username\n                slug\n                img\n                visibilityStatus\n          isHiddenForUsers\n                hasActiveReports\n                isfollowed\n                isfollowing\n                isfriend\n            }\n            comments {\n                commentid\n                userid\n                postid\n                parentid\n                content\n                createdat\n                visibilityStatus\n          isHiddenForUsers\n                hasActiveReports\n                amountlikes\n                amountreplies\n                amountreports\n                isliked\n                user {\n                    id\n                    username\n                    slug\n                    img\n                    visibilityStatus\n          isHiddenForUsers\n                    hasActiveReports\n                    isfollowed\n                    isfollowing\n                    isfriend\n                }\n            }\n        }\n    }\n}\n\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Confirm post is seen without filter",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11501\");",
							"});",
							"",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"pm.test(\"Comment has correct moderation data\", function () {",
							"    const response = pm.response.json();",
							"    const posts = response.data?.listPosts?.affectedRows || [];",
							"    const expectedCommentId = pm.environment.get(\"commentid\");",
							"",
							"    if (!expectedCommentId) {",
							"        throw new Error(\"Environment variable 'commentid' is not set.\");",
							"    }",
							"",
							"    let commentFound = null;",
							"",
							"    for (const post of posts) {",
							"        const comments = post.comments || [];",
							"        commentFound = comments.find(c => c.commentid === expectedCommentId);",
							"        if (commentFound) break;",
							"    }",
							"",
							"    if (!commentFound) {",
							"        throw new Error(`Comment with ID ${expectedCommentId} not found in any post.`);",
							"    }",
							"",
							"    pm.expect(commentFound.visibilityStatus, `Comment ${expectedCommentId} visibilityStatus`).to.eql(\"NORMAL\");",
							"    pm.expect(commentFound.hasActiveReports, `Comment ${expectedCommentId} hasActiveReports`).to.eql(true);",
							"    pm.expect(commentFound.isHiddenForUsers, `Comment ${expectedCommentId} isHiddenForUsers`).to.eql(true);",
							"});",
							"",
							"pm.test(\"Post has correct moderation data\", function () {",
							"    const response = pm.response.json();",
							"    const posts = response.data?.listPosts?.affectedRows || [];",
							"    const expectedPostId = pm.environment.get(\"postid\");",
							"",
							"    if (!expectedPostId) {",
							"        throw new Error(\"Environment variable 'postid' is not set.\");",
							"    }",
							"",
							"    const postFound = posts.find(p => p.id === expectedPostId);",
							"",
							"    if (!postFound) {",
							"        throw new Error(`Post with ID ${expectedPostId} not found.`);",
							"    }",
							"",
							"    pm.expect(postFound.title, `Post ${expectedPostId} title`).to.eql(\"moderation_post\");",
							"    pm.expect(postFound.visibilityStatus, `Post ${expectedPostId} visibilityStatus`).to.eql(\"NORMAL\");",
							"    pm.expect(postFound.hasActiveReports, `Post ${expectedPostId} hasActiveReports`).to.eql(true);",
							"    pm.expect(postFound.isHiddenForUsers, `Post ${expectedPostId} isHiddenForUsers`).to.eql(true);",
							"    pm.expect(postFound.user?.username, `User ${expectedPostId} username`).to.eql(\"tester02\");",
							"    pm.expect(postFound.user?.visibilityStatus, `User ${expectedPostId} visibilityStatus`).to.eql(\"NORMAL\");",
							"    pm.expect(postFound.user?.hasActiveReports, `User ${expectedPostId} hasActiveReports`).to.eql(true);",
							"    pm.expect(postFound.user?.isHiddenForUsers, `User ${expectedPostId} isHiddenForUsers`).to.eql(false);",
							"",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "query ListPosts {\n    listPosts(offset: 0, limit: 20) {\n        status\n        counter\n        ResponseCode\n        meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n        affectedRows {\n            id\n            contenttype\n            title\n            media\n            cover\n            mediadescription\n            createdat\n            visibilityStatus\n            isHiddenForUsers\n            hasActiveReports\n            amountreports\n            amountlikes\n            amountviews\n            amountcomments\n            amountdislikes\n            amounttrending\n            isliked\n            isviewed\n            isreported\n            isdisliked\n            issaved\n            tags\n            url\n            user {\n                id\n                username\n                slug\n                img\n                visibilityStatus\n                isHiddenForUsers\n                hasActiveReports\n                isfollowed\n                isfollowing\n                isreported\n                isfriend\n            }\n            comments {\n                commentid\n                userid\n                postid\n                parentid\n                content\n                createdat\n                visibilityStatus\n                isHiddenForUsers\n                hasActiveReports\n                amountlikes\n                amountreplies\n                amountreports\n                isreported\n                isliked\n            }\n        }\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Report tester 2",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11012\");",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							""
						],
						"type": "text/javascript",
						"packages": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "mutation ReportUser {\n    reportUser(userid: \"{{w_userid_t2}}\") {\n        status\n        RequestId\n        ResponseCode\n        ResponseMessage\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Login t3",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"10801\");",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"let response = pm.response.json();",
							"if (!pm.response.text().includes(\"error\")) {",
							"    pm.environment.set(\"accessToken\", response.data.login.accessToken);",
							"} else {",
							"    console.log(\"Error detected in response, environment variable not set.\");",
							"}",
							"if (!pm.response.text().includes(\"error\")) {",
							"    pm.environment.set(\"refreshToken\", response.data.login.refreshToken);",
							"} else {",
							"    console.log(\"Error detected in response, environment variable not set.\");",
							"}",
							"let token = pm.environment.get(\"accessToken\");",
							"pm.test(\"Access token exists\", function () {",
							"    pm.expect(token).to.be.a(\"string\");",
							"});",
							"",
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "mutation Login {\n  login(email: \"{{email_t3}}\",\n    password: \"{{password_T}}\"\n  ) {\n    meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n    accessToken\n    refreshToken\n  }\n}",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Report tester 2",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11012\");",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							""
						],
						"type": "text/javascript",
						"packages": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "mutation ReportUser {\n    reportUser(userid: \"{{w_userid_t2}}\") {\n        status\n        RequestId\n        ResponseCode\n        ResponseMessage\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Login t4",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"10801\");",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"let response = pm.response.json();",
							"if (!pm.response.text().includes(\"error\")) {",
							"    pm.environment.set(\"accessToken\", response.data.login.accessToken);",
							"} else {",
							"    console.log(\"Error detected in response, environment variable not set.\");",
							"}",
							"if (!pm.response.text().includes(\"error\")) {",
							"    pm.environment.set(\"refreshToken\", response.data.login.refreshToken);",
							"} else {",
							"    console.log(\"Error detected in response, environment variable not set.\");",
							"}",
							"let token = pm.environment.get(\"accessToken\");",
							"pm.test(\"Access token exists\", function () {",
							"    pm.expect(token).to.be.a(\"string\");",
							"});",
							"",
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "mutation Login {\n  login(email: \"{{email_t4}}\",\n    password: \"{{password_T}}\"\n  ) {\n    meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n    accessToken\n    refreshToken\n  }\n}",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Follow tester 2",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11104\");",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"pm.test(\"Account is not followed\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"true\");",
							"});"
						],
						"type": "text/javascript",
						"packages": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "mutation UserFollow {\n    toggleUserFollowStatus(userid: \"{{w_userid_t2}}\") {\n        isfollowing\n        meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Report tester 2",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11012\");",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							""
						],
						"type": "text/javascript",
						"packages": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "mutation ReportUser {\n    reportUser(userid: \"{{w_userid_t2}}\") {\n        status\n        RequestId\n        ResponseCode\n        ResponseMessage\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Confirm listPosts still shows",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11501\");",
							"});",
							"",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"pm.test(\"All posts by w_userid_t2 have correct moderation status\", function () {",
							"    const response = pm.response.json();",
							"    const posts = response.data?.listPosts?.affectedRows || [];",
							"    const expectedUserId = pm.environment.get(\"w_userid_t2\");",
							"",
							"    if (!expectedUserId) {",
							"        throw new Error(\"Environment variable 'w_userid_t2' is not set.\");",
							"    }",
							"",
							"    posts.forEach(post => {",
							"        if (post.user?.id === expectedUserId) {",
							"            pm.expect(post.user.username, `User ID ${post.id} has correct username`).to.eql(\"tester02\");",
							"            pm.expect(post.user.visibilityStatus, `User ID ${post.id} has correct visibilityStatus`).to.eql(\"NORMAL\");",
							"            pm.expect(post.user.hasActiveReports, `User ID ${post.id} has hasActiveReports true`).to.eql(true);",
							"            pm.expect(post.user.isHiddenForUsers, `User ID ${post.id} has correct isHiddenForUsers`).to.eql(false);",
							"        }",
							"    });",
							"});",
							"",
							"pm.test(\"All comments by w_userid_t2 have correct moderation data\", function () {",
							"    const response = pm.response.json();",
							"    const posts = response.data?.listPosts?.affectedRows || [];",
							"    const expectedUserId = pm.environment.get(\"w_userid_t2\");",
							"",
							"    if (!expectedUserId) {",
							"        throw new Error(\"Environment variable 'w_userid_t2' is not set.\");",
							"    }",
							"",
							"    posts.forEach(post => {",
							"        const comments = post.comments || [];",
							"        comments.forEach(comment => {",
							"            if (comment.user?.id === expectedUserId) {",
							"                pm.expect(comment.user.username, `Comment ID ${comment.commentid} in post ${post.id} has correct username`).to.eql(\"tester02\");",
							"                pm.expect(comment.user.visibilityStatus, `Comment ID ${comment.commentid} in post ${post.id} has correct visibilityStatus`).to.eql(\"NORMAL\");",
							"                pm.expect(comment.user.hasActiveReports, `Comment ID ${comment.commentid} in post ${post.id} has correct hasActiveReports`).to.eql(true);",
							"                pm.expect(comment.user.isHiddenForUsers, `Comment ID ${comment.commentid} in post ${post.id} has correct isHiddenForUsers`).to.eql(false);",
							"            }",
							"        });",
							"    });",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "query ListPosts {\n    listPosts(contentFilterBy: MYGRANDMALIKES, limit:20) {\n        counter\n        meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n        affectedRows {\n            id\n            contenttype\n            title\n            media\n            cover\n            mediadescription\n            createdat\n            visibilityStatus\n          isHiddenForUsers\n            hasActiveReports\n            amountreports\n            amountlikes\n            amountviews\n            amountcomments\n            amountdislikes\n            amounttrending\n            isliked\n            isviewed\n            isreported\n            isdisliked\n            issaved\n            tags\n            url\n            user {\n                id\n                username\n                slug\n                img\n                visibilityStatus\n          isHiddenForUsers\n                hasActiveReports\n                isfollowed\n                isfollowing\n                isfriend\n            }\n            comments {\n                commentid\n                userid\n                postid\n                parentid\n                content\n                createdat\n                visibilityStatus\n          isHiddenForUsers\n                hasActiveReports\n                amountlikes\n                amountreplies\n                amountreports\n                isliked\n                user {\n                    id\n                    username\n                    slug\n                    img\n                    visibilityStatus\n          isHiddenForUsers\n                    hasActiveReports\n                    isfollowed\n                    isfollowing\n                    isfriend\n                }\n            }\n        }\n    }\n}\n\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Confirm listUsersV2 still shows",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11009\");",
							"});",
							"",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"pm.test(\"User from w_userid_t2 in listUsersV2 has correct moderation data\", function () {",
							"    const response = pm.response.json();",
							"    const users = response.data?.listUsersV2?.affectedRows || [];",
							"    const expectedUserId = pm.environment.get(\"w_userid_t2\");",
							"",
							"    if (!expectedUserId) {",
							"        throw new Error(\"Environment variable 'w_userid_t2' is not set.\");",
							"    }",
							"",
							"    const user = users.find(u => u.id === expectedUserId);",
							"",
							"    if (!user) {",
							"        throw new Error(`User with ID ${expectedUserId} not found in listUsersV2 response.`);",
							"    }",
							"",
							"    pm.expect(user.visibilityStatus, `User ${user.id} should have visibilityStatus 'NORMAL'`).to.eql(\"NORMAL\");",
							"    pm.expect(user.hasActiveReports, `User ${user.id} should have hasActiveReports 'true'`).to.eql(true);",
							"    pm.expect(user.isHiddenForUsers, `User ${user.id} should have isHiddenForUsers 'false'`).to.eql(false);",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "query ListUsersV2 {\n    listUsersV2(contentFilterBy: MYGRANDMALIKES, limit:20) {\n        counter\n        meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n        affectedRows {\n            id\n            username\n            status\n            slug\n            img\n            biography\n            visibilityStatus\n            isHiddenForUsers\n            hasActiveReports\n            createdat\n            updatedat\n        }\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Confirm listUsersV2 still shows",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11009\");",
							"});",
							"",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"pm.test(\"User with w_userid_t2 should have correct moderation data\", function () {",
							"    const response = pm.response.json();",
							"    const users = response.data?.listUsersV2?.affectedRows || [];",
							"    const expectedUserId = pm.environment.get(\"w_userid_t2\");",
							"",
							"    if (!expectedUserId) {",
							"        throw new Error(\"Environment variable 'w_userid_t2' is not set.\");",
							"    }",
							"",
							"    const user = users.find(u => u.id === expectedUserId);",
							"",
							"    if (!user) {",
							"        throw new Error(`User with ID ${expectedUserId} not found in listUsersV2 response.`);",
							"    }",
							"",
							"    pm.expect(user.visibilityStatus, `User ${user.id} should have visibilityStatus 'NORMAL'`).to.eql(\"NORMAL\");",
							"    pm.expect(user.hasActiveReports, `User ${user.id} should have hasActiveReports 'true'`).to.eql(true);",
							"    pm.expect(user.isHiddenForUsers, `User ${user.id} should have isHiddenForUsers 'false'`).to.eql(false);",
							"",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "query ListUsersV2 {\n    listUsersV2(contentFilterBy: MYGRANDMALIKES, userid: \"{{w_userid_t2}}\") {\n        counter\n        meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n        affectedRows {\n            id\n            username\n            status\n            slug\n            img\n            biography\n            visibilityStatus\n            isHiddenForUsers\n            hasActiveReports\n            createdat\n            updatedat\n        }\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Confirm listUsersV2 still shows",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11009\");",
							"});",
							"",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"pm.test(\"User with w_userid_t2 should have correct moderation data\", function () {",
							"    const response = pm.response.json();",
							"    const users = response.data?.listUsersV2?.affectedRows || [];",
							"    const expectedUserId = pm.environment.get(\"w_userid_t2\");",
							"",
							"    if (!expectedUserId) {",
							"        throw new Error(\"Environment variable 'w_userid_t2' is not set.\");",
							"    }",
							"",
							"    const user = users.find(u => u.id === expectedUserId);",
							"",
							"    if (!user) {",
							"        throw new Error(`User with ID ${expectedUserId} not found in listUsersV2 response.`);",
							"    }",
							"",
							"    pm.expect(user.visibilityStatus, `User ${user.id} should have visibilityStatus 'NORMAL'`).to.eql(\"NORMAL\");",
							"    pm.expect(user.hasActiveReports, `User ${user.id} should have hasActiveReports 'true'`).to.eql(true);",
							"    pm.expect(user.isHiddenForUsers, `User ${user.id} should have isHiddenForUsers 'false'`).to.eql(false);",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "query ListUsersV2 {\n    listUsersV2(contentFilterBy: MYGRANDMALIKES, username: \"tester02\") {\n        counter\n        meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n        affectedRows {\n            id\n            username\n            status\n            slug\n            img\n            biography\n            visibilityStatus\n            isHiddenForUsers\n            hasActiveReports\n            createdat\n            updatedat\n        }\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Confirm getProfile still shows",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11008\");",
							"});",
							"",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"pm.test(\"getProfile returns correct moderation data\", function () {",
							"    const response = pm.response.json();",
							"    const profile = response.data?.getProfile?.affectedRows;",
							"    const expectedUserId = pm.environment.get(\"w_userid_t2\");",
							"",
							"    if (!expectedUserId) {",
							"        throw new Error(\"Environment variable 'w_userid_t2' is not set.\");",
							"    }",
							"",
							"    if (!profile || profile.id !== expectedUserId) {",
							"        throw new Error(`Profile ID does not match w_userid_t2. Found: ${profile?.id}, Expected: ${expectedUserId}`);",
							"    }",
							"",
							"    pm.expect(profile.username, `User ${profile.id} should have correct username`).to.eql(\"tester02\");",
							"    pm.expect(profile.visibilityStatus, `User ${profile.id} has correct visibilityStatus`).to.eql(\"NORMAL\");",
							"    pm.expect(profile.hasActiveReports, `User ${profile.id} has correct hasActiveReports`).to.eql(true);",
							"    pm.expect(profile.isHiddenForUsers, `User ${profile.id} should have isHiddenForUsers 'false'`).to.eql(false);",
							"    ",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "query GetProfile {\n    getProfile(contentFilterBy: MYGRANDMALIKES, userid: \"{{w_userid_t2}}\") {\n        meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n        affectedRows {\n            id\n            username\n            status\n            slug\n            img\n            biography\n            visibilityStatus\n            isHiddenForUsers\n            hasActiveReports\n            isfollowed\n            isfollowing\n            amountposts\n            amounttrending\n            amountfollowed\n            amountfollower\n            amountfriends\n            amountblocked\n            amountreports\n        }\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Confirm listFollowRelations still shows",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11101\");",
							"});",
							"",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"pm.test(\"User from w_userid_t2 in followers and following has correct moderation data\", function () {",
							"    const response = pm.response.json();",
							"    const relations = response.data?.listFollowRelations?.affectedRows || {};",
							"    const expectedUserId = pm.environment.get(\"w_userid_t2\");",
							"",
							"    if (!expectedUserId) {",
							"        throw new Error(\"Environment variable 'w_userid_t2' is not set.\");",
							"    }",
							"",
							"    const checkList = (listName) => {",
							"        const list = relations[listName] || [];",
							"        const user = list.find(u => u.id === expectedUserId);",
							"",
							"        if (!user) {",
							"            throw new Error(`User with ID ${expectedUserId} not found in '${listName}' list.`);",
							"        }",
							"",
							"        pm.expect(user.username, `User ${user.id} in ${listName} correct username`).to.eql(\"tester02\");",
							"        pm.expect(user.visibilityStatus, `User ${user.id} in ${listName} has correct visibilityStatus`).to.eql(\"NORMAL\");",
							"        pm.expect(user.hasActiveReports, `User ${user.id} in ${listName} has correct hasActiveReports`).to.eql(true);",
							"        pm.expect(user.isHiddenForUsers, `User ${user.id} should have isHiddenForUsers 'false'`).to.eql(false);",
							"    };",
							"    ",
							"",
							"    checkList(\"followers\");",
							"    checkList(\"following\");",
							"});",
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "query ListFollowRelations {\n    listFollowRelations(contentFilterBy: MYGRANDMALIKES) {\n        counter\n        meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n        affectedRows {\n            followers {\n                id\n                username\n                slug\n                img\n                visibilityStatus\n                isHiddenForUsers\n                hasActiveReports\n                isfollowed\n                isfollowing\n                isfriend\n            }\n            following {\n                id\n                username\n                slug\n                img\n                visibilityStatus\n                isHiddenForUsers\n                hasActiveReports\n                isfollowed\n                isfollowing\n                isfriend\n            }\n        }\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Confirm listFriends still shows",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11102\");",
							"});",
							"",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"pm.test(\"User from w_userid_t2 in listFriends has correct moderation data\", function () {",
							"    const response = pm.response.json();",
							"    const friends = response.data?.listFriends?.affectedRows || [];",
							"    const expectedUserId = pm.environment.get(\"w_userid_t2\");",
							"",
							"    if (!expectedUserId) {",
							"        throw new Error(\"Environment variable 'w_userid_t2' is not set.\");",
							"    }",
							"",
							"    const user = friends.find(u => u.userid === expectedUserId);",
							"",
							"    if (!user) {",
							"        throw new Error(`User with ID ${expectedUserId} not found in 'listFriends' response.`);",
							"    }",
							"",
							"    pm.expect(user.username, `Friend ${user.userid} has correct username`).to.eql(\"tester02\");",
							"    pm.expect(user.visibilityStatus, `Friend ${user.userid} has correct visibilityStatus`).to.eql(\"NORMAL\");",
							"    pm.expect(user.hasActiveReports, `Friend ${user.userid} has correct hasActiveReports`).to.eql(true);",
							"    pm.expect(user.isHiddenForUsers, `Friend ${user.userid} has corrct isHiddenForUsers`).to.eql(false);",
							"});",
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "query ListFriends {\n    listFriends(contentFilterBy: MYGRANDMALIKES) {\n        counter\n        meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n        affectedRows {\n            userid\n            img\n            username\n            slug\n            biography\n            visibilityStatus\n            isHiddenForUsers\n            hasActiveReports\n            updatedat\n        }\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Block tester 2",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11105\");",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							""
						],
						"type": "text/javascript",
						"packages": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "mutation UserBlock {\n    toggleBlockUserStatus(userid: \"{{w_userid_t2}}\") {\n        status\n        RequestId\n        ResponseCode\n        ResponseMessage\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Confirm listBlockedUsers still shows",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11107\");",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"pm.test(\"User from w_userid_t2 has correct moderation data\", function () {",
							"    const res = pm.response.json();",
							"",
							"    const affected = res.data?.listBlockedUsers?.affectedRows || {};",
							"    const list = [",
							"        ...(affected.iBlocked || []),",
							"        ...(affected.blockedBy || [])",
							"    ];",
							"",
							"    const expectedUserId = pm.environment.get(\"w_userid_t2\");",
							"",
							"    if (!expectedUserId) {",
							"        throw new Error(\"Environment variable 'w_userid_t2' is not set.\");",
							"    }",
							"",
							"    const user = list.find(u => u.userid === expectedUserId);",
							"",
							"    if (!user) {",
							"        throw new Error(`User with ID ${expectedUserId} not found in blocked lists.`);",
							"    }",
							"",
							"    pm.expect(user.hasActiveReports, `User ${user.userid} should have hasActiveReports = true`).to.eql(true);",
							"    pm.expect(user.visibilityStatus, `User ${user.userid} should have visibilityStatus = \"NORMAL\"`).to.eql(\"NORMAL\");",
							"    pm.expect(user.isHiddenForUsers, `User ${user.id} should have isHiddenForUsers 'false'`).to.eql(false);",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "query ListBlockedUsers {\n    listBlockedUsers(contentFilterBy: MYGRANDMALIKES) {\n        status\n        counter\n        ResponseCode\n        meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n        affectedRows {\n            iBlocked {\n                userid\n                img\n                username\n                slug\n                hasActiveReports\n                visibilityStatus\n          isHiddenForUsers\n            }\n            blockedBy {\n                userid\n                img\n                username\n                slug\n                hasActiveReports\n                visibilityStatus\n          isHiddenForUsers\n            }\n        }\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Unblock tester 2",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11106\");",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "mutation UserBlock {\n    toggleBlockUserStatus(userid: \"{{w_userid_t2}}\") {\n        status\n        RequestId\n        ResponseCode\n        ResponseMessage\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Login t5",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"10801\");",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"let response = pm.response.json();",
							"if (!pm.response.text().includes(\"error\")) {",
							"    pm.environment.set(\"accessToken\", response.data.login.accessToken);",
							"} else {",
							"    console.log(\"Error detected in response, environment variable not set.\");",
							"}",
							"if (!pm.response.text().includes(\"error\")) {",
							"    pm.environment.set(\"refreshToken\", response.data.login.refreshToken);",
							"} else {",
							"    console.log(\"Error detected in response, environment variable not set.\");",
							"}",
							"let token = pm.environment.get(\"accessToken\");",
							"pm.test(\"Access token exists\", function () {",
							"    pm.expect(token).to.be.a(\"string\");",
							"});",
							"",
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "mutation Login {\n  login(email: \"{{email_t5}}\",\n    password: \"{{password_T}}\"\n  ) {\n    meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n    accessToken\n    refreshToken\n  }\n}",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Follow t6",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11104\");",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"pm.test(\"Account is not followed\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"true\");",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "mutation UserFollow {\n    toggleUserFollowStatus(userid: \"{{userid_t6}}\") {\n        isfollowing\n        meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Follow tester 2",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11104\");",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"pm.test(\"Account is not followed\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"true\");",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "mutation UserFollow {\n    toggleUserFollowStatus(userid: \"{{w_userid_t2}}\") {\n        isfollowing\n        meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Report tester 2",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11012\");",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							""
						],
						"type": "text/javascript",
						"packages": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "mutation ReportUser {\n    reportUser(userid: \"{{w_userid_t2}}\") {\n        status\n        RequestId\n        ResponseCode\n        ResponseMessage\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Confirm listPosts is hidden",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11501\");",
							"});",
							"",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"pm.test(\"All posts by w_userid_t2 have correct moderation data\", function () {",
							"    const response = pm.response.json();",
							"    const posts = response.data?.listPosts?.affectedRows || [];",
							"    const expectedUserId = pm.environment.get(\"w_userid_t2\");",
							"",
							"    if (!expectedUserId) {",
							"        throw new Error(\"Environment variable 'w_userid_t2' is not set.\");",
							"    }",
							"",
							"    posts.forEach(post => {",
							"        if (post.user?.id === expectedUserId) {",
							"            pm.expect(post.user.visibilityStatus, `Post ID ${post.id} has correct visibilityStatus`).to.eql(\"HIDDEN\");",
							"            pm.expect(post.user.hasActiveReports, `Post ID ${post.id} has hasActiveReports true`).to.eql(true);",
							"            pm.expect(post.user.isHiddenForUsers, `Post ID ${post.id} has isHiddenForUsers true`).to.eql(true);",
							"        }",
							"    });",
							"});",
							"",
							"pm.test(\"All comments by w_userid_t2 have correct moderation data\", function () {",
							"    const response = pm.response.json();",
							"    const posts = response.data?.listPosts?.affectedRows || [];",
							"    const expectedUserId = pm.environment.get(\"w_userid_t2\");",
							"",
							"    if (!expectedUserId) {",
							"        throw new Error(\"Environment variable 'w_userid_t2' is not set.\");",
							"    }",
							"",
							"    posts.forEach(post => {",
							"        const comments = post.comments || [];",
							"        comments.forEach(comment => {",
							"            if (comment.user?.id === expectedUserId) {",
							"                pm.expect(comment.user.visibilityStatus, `Comment ID ${comment.commentid} in post ${post.id} has correct visibilityStatus`)",
							"                    .to.eql(\"HIDDEN\");",
							"                pm.expect(comment.user.hasActiveReports, `Comment ID ${comment.commentid} in post ${post.id} has correct hasActiveReports`)",
							"                    .to.eql(true);",
							"                pm.expect(comment.user.isHiddenForUsers, `Comment ID ${comment.commentid} in post ${post.id} has correct isHiddenForUsers`)",
							"                    .to.eql(true);",
							"            }",
							"        });",
							"    });",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "query ListPosts {\n    listPosts(contentFilterBy: MYGRANDMALIKES, limit:20) {\n        counter\n        meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n        affectedRows {\n            id\n            contenttype\n            title\n            media\n            cover\n            mediadescription\n            createdat\n            visibilityStatus\n          isHiddenForUsers\n            hasActiveReports\n            amountreports\n            amountlikes\n            amountviews\n            amountcomments\n            amountdislikes\n            amounttrending\n            isliked\n            isviewed\n            isreported\n            isdisliked\n            issaved\n            tags\n            url\n            user {\n                id\n                username\n                slug\n                img\n                visibilityStatus\n          isHiddenForUsers\n                hasActiveReports\n                isfollowed\n                isfollowing\n                isfriend\n            }\n            comments {\n                commentid\n                userid\n                postid\n                parentid\n                content\n                createdat\n                visibilityStatus\n          isHiddenForUsers\n                hasActiveReports\n                amountlikes\n                amountreplies\n                amountreports\n                isliked\n                user {\n                    id\n                    username\n                    slug\n                    img\n                    visibilityStatus\n          isHiddenForUsers\n                    hasActiveReports\n                    isfollowed\n                    isfollowing\n                    isfriend\n                }\n            }\n        }\n    }\n}\n\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Confirm listUsersV2 is hidden",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11009\");",
							"});",
							"",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"pm.test(\"User from w_userid_t2 in listUsersV2 has correct moderation data\", function () {",
							"    const response = pm.response.json();",
							"    const users = response.data?.listUsersV2?.affectedRows || [];",
							"    const expectedUserId = pm.environment.get(\"w_userid_t2\");",
							"",
							"    if (!expectedUserId) {",
							"        throw new Error(\"Environment variable 'w_userid_t2' is not set.\");",
							"    }",
							"",
							"    const user = users.find(u => u.id === expectedUserId);",
							"",
							"    if (!user) {",
							"        throw new Error(`User with ID ${expectedUserId} not found in listUsersV2 response.`);",
							"    }",
							"",
							"    pm.expect(user.visibilityStatus, `User ${user.id} should have visibilityStatus 'HIDDEN'`).to.eql(\"HIDDEN\");",
							"    pm.expect(user.hasActiveReports, `User ${user.id} should have hasActiveReports true`).to.eql(true);",
							"    pm.expect(user.isHiddenForUsers, `User ${user.id} should have isHiddenForUsers 'true'`).to.eql(true);",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "query ListUsersV2 {\n    listUsersV2(contentFilterBy: MYGRANDMALIKES, limit: 20) {\n        counter\n        meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n        affectedRows {\n            id\n            username\n            status\n            slug\n            img\n            biography\n            visibilityStatus\n            hasActiveReports\n            isHiddenForUsers\n            createdat\n            updatedat\n        }\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Confirm listUsersV2 is hidden",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11009\");",
							"});",
							"",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"pm.test(\"User with w_userid_t2 should have correct moderation data\", function () {",
							"    const response = pm.response.json();",
							"    const users = response.data?.listUsersV2?.affectedRows || [];",
							"    const expectedUserId = pm.environment.get(\"w_userid_t2\");",
							"",
							"    if (!expectedUserId) {",
							"        throw new Error(\"Environment variable 'w_userid_t2' is not set.\");",
							"    }",
							"",
							"    const user = users.find(u => u.id === expectedUserId);",
							"",
							"    if (!user) {",
							"        throw new Error(`User with ID ${expectedUserId} not found in listUsersV2 response.`);",
							"    }",
							"",
							"    pm.expect(user.visibilityStatus, `User ${user.id} should have visibilityStatus 'HIDDEN'`).to.eql(\"HIDDEN\");",
							"    pm.expect(user.hasActiveReports, `User ${user.id} should have hasActiveReports true`).to.eql(true);",
							"    pm.expect(user.isHiddenForUsers, `User ${user.id} should have isHiddenForUsers 'true'`).to.eql(true);",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "query ListUsersV2 {\n    listUsersV2(contentFilterBy: MYGRANDMALIKES, userid: \"{{w_userid_t2}}\") {\n        counter\n        meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n        affectedRows {\n            id\n            username\n            status\n            slug\n            img\n            biography\n            visibilityStatus\n            isHiddenForUsers\n            hasActiveReports\n            createdat\n            updatedat\n        }\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Confirm listUsersV2 is hidden",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11009\");",
							"});",
							"",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"pm.test(\"User with w_userid_t2 should have correct moderation data\", function () {",
							"    const response = pm.response.json();",
							"    const users = response.data?.listUsersV2?.affectedRows || [];",
							"    const expectedUserId = pm.environment.get(\"w_userid_t2\");",
							"",
							"    if (!expectedUserId) {",
							"        throw new Error(\"Environment variable 'w_userid_t2' is not set.\");",
							"    }",
							"",
							"    const user = users.find(u => u.id === expectedUserId);",
							"",
							"    if (!user) {",
							"        throw new Error(`User with ID ${expectedUserId} not found in listUsersV2 response.`);",
							"    }",
							"",
							"    pm.expect(user.visibilityStatus, `User ${user.id} should have visibilityStatus 'HIDDEN'`).to.eql(\"HIDDEN\");",
							"    pm.expect(user.hasActiveReports, `User ${user.id} should have hasActiveReports true`).to.eql(true);",
							"    pm.expect(user.isHiddenForUsers, `User ${user.id} should have isHiddenForUsers 'true'`).to.eql(true);",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "query ListUsersV2 {\n    listUsersV2(contentFilterBy: MYGRANDMALIKES, username: \"tester02\") {\n        counter\n        meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n        affectedRows {\n            id\n            username\n            status\n            slug\n            img\n            biography\n            visibilityStatus\n            isHiddenForUsers\n            hasActiveReports\n            createdat\n            updatedat\n        }\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Confirm getProfile is hidden",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11008\");",
							"});",
							"",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"pm.test(\"getProfile returns correct moderation data\", function () {",
							"    const response = pm.response.json();",
							"    const profile = response.data?.getProfile?.affectedRows;",
							"    const expectedUserId = pm.environment.get(\"w_userid_t2\");",
							"",
							"    if (!expectedUserId) {",
							"        throw new Error(\"Environment variable 'w_userid_t2' is not set.\");",
							"    }",
							"",
							"    if (!profile || profile.id !== expectedUserId) {",
							"        throw new Error(`Profile ID does not match w_userid_t2. Found: ${profile?.id}, Expected: ${expectedUserId}`);",
							"    }",
							"",
							"    pm.expect(profile.visibilityStatus, `User ${profile.id} should have visibilityStatus 'HIDDEN'`).to.eql(\"HIDDEN\");",
							"    pm.expect(profile.hasActiveReports, `User ${profile.id} should have hasActiveReports true`).to.eql(true);",
							"    pm.expect(profile.isHiddenForUsers, `User ${profile.id} should have isHiddenForUsers 'true'`).to.eql(true);",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "query GetProfile {\n    getProfile(userid: \"{{w_userid_t2}}\", contentFilterBy: MYGRANDMALIKES) {\n        meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n        affectedRows {\n            id\n            username\n            status\n            slug\n            img\n            biography\n            visibilityStatus\n            hasActiveReports\n            isHiddenForUsers\n            isfollowed\n            isfollowing\n            amountposts\n            amounttrending\n            amountfollowed\n            amountfollower\n            amountfriends\n            amountblocked\n            amountreports\n        }\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Confirm listFollowRelations is hidden",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11101\");",
							"});",
							"",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"pm.test(\"User from w_userid_t2 in followers and following has correct moderation data\", function () {",
							"    const response = pm.response.json();",
							"    const relations = response.data?.listFollowRelations?.affectedRows || {};",
							"    const expectedUserId = pm.environment.get(\"w_userid_t2\");",
							"",
							"    if (!expectedUserId) {",
							"        throw new Error(\"Environment variable 'w_userid_t2' is not set.\");",
							"    }",
							"",
							"    const checkList = (listName) => {",
							"        const list = relations[listName] || [];",
							"        const user = list.find(u => u.id === expectedUserId);",
							"",
							"        if (!user) {",
							"            throw new Error(`User with ID ${expectedUserId} not found in '${listName}' list.`);",
							"        }",
							"",
							"        pm.expect(user.visibilityStatus, `User ${user.id} in ${listName} should be 'HIDDEN'`).to.eql(\"HIDDEN\");",
							"        pm.expect(user.hasActiveReports, `User ${user.id} should have hasActiveReports true`).to.eql(true);",
							"        pm.expect(user.isHiddenForUsers, `User ${user.id} should have isHiddenForUsers 'true'`).to.eql(true);",
							"    };",
							"",
							"    checkList(\"followers\");",
							"    checkList(\"following\");",
							"});",
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "query ListFollowRelations {\n    listFollowRelations(contentFilterBy: MYGRANDMALIKES) {\n        counter\n        meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n        affectedRows {\n            followers {\n                id\n                username\n                slug\n                img\n                visibilityStatus\n                isHiddenForUsers\n                hasActiveReports\n                isfollowed\n                isfollowing\n                isfriend\n            }\n            following {\n                id\n                username\n                slug\n                img\n                visibilityStatus\n                isHiddenForUsers\n                hasActiveReports\n                isfollowed\n                isfollowing\n                isfriend\n            }\n        }\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Confirm listFriends is hidden",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11102\");",
							"});",
							"",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"pm.test(\"User from w_userid_t2 in listFriends has correct moderation data\", function () {",
							"    const response = pm.response.json();",
							"    const friends = response.data?.listFriends?.affectedRows || [];",
							"    const expectedUserId = pm.environment.get(\"w_userid_t2\");",
							"",
							"    if (!expectedUserId) {",
							"        throw new Error(\"Environment variable 'w_userid_t2' is not set.\");",
							"    }",
							"",
							"    const user = friends.find(u => u.userid === expectedUserId);",
							"",
							"    if (!user) {",
							"        throw new Error(`User with ID ${expectedUserId} not found in 'listFriends' response.`);",
							"    }",
							"",
							"    pm.expect(user.visibilityStatus, `Friend ${user.id} should have visibilityStatus 'HIDDEN'`).to.eql(\"HIDDEN\");",
							"    pm.expect(user.hasActiveReports, `Friend ${user.id} should have hasActiveReports true`).to.eql(true);",
							"    pm.expect(user.isHiddenForUsers, `Friend ${user.id} should have isHiddenForUsers true`).to.eql(true);",
							"});",
							""
						],
						"type": "text/javascript",
						"packages": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "query ListFriends {\n    listFriends(contentFilterBy: MYGRANDMALIKES) {\n        counter\n        meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n        affectedRows {\n            userid\n            img\n            username\n            slug\n            biography\n            visibilityStatus\n          isHiddenForUsers\n            hasActiveReports\n            updatedat\n        }\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Block tester 2",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11105\");",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							""
						],
						"type": "text/javascript",
						"packages": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "mutation UserBlock {\n    toggleBlockUserStatus(userid: \"{{w_userid_t2}}\") {\n        status\n        RequestId\n        ResponseCode\n        ResponseMessage\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Confirm listBlockedUsers is hidden",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11107\");",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"pm.test(\"User from w_userid_t2 has correct moderation data\", function () {",
							"    const res = pm.response.json();",
							"",
							"    const affected = res.data?.listBlockedUsers?.affectedRows || {};",
							"    const list = [",
							"        ...(affected.iBlocked || []),",
							"        ...(affected.blockedBy || [])",
							"    ];",
							"",
							"    const expectedUserId = pm.environment.get(\"w_userid_t2\");",
							"",
							"    if (!expectedUserId) {",
							"        throw new Error(\"Environment variable 'w_userid_t2' is not set.\");",
							"    }",
							"",
							"    const user = list.find(u => u.userid === expectedUserId);",
							"",
							"    if (!user) {",
							"        throw new Error(`User with ID ${expectedUserId} not found in blocked lists.`);",
							"    }",
							"",
							"    pm.expect(user.hasActiveReports, `User ${user.userid} should have hasActiveReports = true`).to.eql(true);",
							"    pm.expect(user.visibilityStatus, `User ${user.userid} should have visibilityStatus = \"HIDDEN\"`).to.eql(\"HIDDEN\");",
							"    pm.expect(user.isHiddenForUsers, `User ${user.userid} should have isHiddenForUsers = true`).to.eql(true);",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "query ListBlockedUsers {\n    listBlockedUsers(contentFilterBy: MYGRANDMALIKES) {\n        status\n        counter\n        ResponseCode\n        meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n        affectedRows {\n            iBlocked {\n                userid\n                img\n                username\n                slug\n                hasActiveReports\n                visibilityStatus\n          isHiddenForUsers\n            }\n            blockedBy {\n                userid\n                img\n                username\n                slug\n                hasActiveReports\n                visibilityStatus\n          isHiddenForUsers\n            }\n        }\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Unblock tester 2",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11106\");",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "mutation UserBlock {\n    toggleBlockUserStatus(userid: \"{{w_userid_t2}}\") {\n        status\n        RequestId\n        ResponseCode\n        ResponseMessage\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "List post amount of objects (MYGRANDMALIKES)",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11501\");",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"const json = pm.response.json();",
							"const posts = json?.data?.listPosts?.affectedRows || [];",
							"",
							"let currentPostCount = posts.length;",
							"let currentCommentCount = 0;",
							"",
							"posts.forEach(post => {",
							"    if (Array.isArray(post.comments)) {",
							"        currentCommentCount += post.comments.length;",
							"    }",
							"});",
							"",
							"const originalPostCount = parseInt(pm.environment.get(\"noFilter_post_count\"), 10);",
							"const originalCommentCount = parseInt(pm.environment.get(\"noFilter_comment_count\"), 10);",
							"",
							"pm.test(\"Post count dropped by exactly 1\", function () {",
							"    const diff = originalPostCount - currentPostCount;",
							"    pm.expect(diff).to.eql(1);",
							"});",
							"",
							"pm.test(\"Comment count dropped by exactly 1\", function () {",
							"    const diff = originalCommentCount - currentCommentCount;",
							"    pm.expect(diff).to.eql(1);",
							"});",
							"",
							"console.log(`Posts: ${originalPostCount}  ${currentPostCount}`);",
							"console.log(`Comments: ${originalCommentCount}  ${currentCommentCount}`);",
							""
						],
						"type": "text/javascript",
						"packages": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "query ListPosts {\n    listPosts(contentFilterBy: MYGRANDMALIKES, limit: 20) {\n        counter\n        meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n        affectedRows {\n            id\n            contenttype\n            title\n            media\n            cover\n            mediadescription\n            createdat\n            visibilityStatus\n          isHiddenForUsers\n            hasActiveReports\n            amountreports\n            amountlikes\n            amountviews\n            amountcomments\n            amountdislikes\n            amounttrending\n            isliked\n            isviewed\n            isreported\n            isdisliked\n            issaved\n            tags\n            url\n            user {\n                id\n                username\n                slug\n                img\n                visibilityStatus\n          isHiddenForUsers\n                hasActiveReports\n                isfollowed\n                isfollowing\n                isfriend\n            }\n            comments {\n                commentid\n                userid\n                postid\n                parentid\n                content\n                createdat\n                visibilityStatus\n          isHiddenForUsers\n                hasActiveReports\n                amountlikes\n                amountreplies\n                amountreports\n                isliked\n                user {\n                    id\n                    username\n                    slug\n                    img\n                    visibilityStatus\n          isHiddenForUsers\n                    hasActiveReports\n                    isfollowed\n                    isfollowing\n                    isfriend\n                }\n            }\n        }\n    }\n}\n\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "List post amount of objects (without filter)",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11501\");",
							"});",
							"",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"const json = pm.response.json();",
							"const posts = json?.data?.listPosts?.affectedRows || [];",
							"",
							"let currentPostCount = posts.length;",
							"let currentCommentCount = 0;",
							"",
							"posts.forEach(post => {",
							"    if (Array.isArray(post.comments)) {",
							"        currentCommentCount += post.comments.length;",
							"    }",
							"});",
							"",
							"const originalPostCount = parseInt(pm.environment.get(\"noFilter_post_count\"), 10);",
							"const originalCommentCount = parseInt(pm.environment.get(\"noFilter_comment_count\"), 10);",
							"",
							"pm.test(\"Post count unchanged after comment report (unfiltered)\", function () {",
							"    pm.expect(currentPostCount).to.eql(originalPostCount);",
							"});",
							"",
							"pm.test(\"Comment count unchanged after comment report (unfiltered)\", function () {",
							"    pm.expect(currentCommentCount).to.eql(originalCommentCount);",
							"});",
							""
						],
						"type": "text/javascript",
						"packages": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "query ListPosts {\n    listPosts(limit: 20) {\n        counter\n        meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n        affectedRows {\n            id\n            contenttype\n            title\n            media\n            cover\n            mediadescription\n            createdat\n            visibilityStatus\n          isHiddenForUsers\n            hasActiveReports\n            amountreports\n            amountlikes\n            amountviews\n            amountcomments\n            amountdislikes\n            amounttrending\n            isliked\n            isviewed\n            isreported\n            isdisliked\n            issaved\n            tags\n            url\n            user {\n                id\n                username\n                slug\n                img\n                visibilityStatus\n          isHiddenForUsers\n                hasActiveReports\n                isfollowed\n                isfollowing\n                isfriend\n            }\n            comments {\n                commentid\n                userid\n                postid\n                parentid\n                content\n                createdat\n                visibilityStatus\n          isHiddenForUsers\n                hasActiveReports\n                amountlikes\n                amountreplies\n                amountreports\n                isliked\n                user {\n                    id\n                    username\n                    slug\n                    img\n                    visibilityStatus\n          isHiddenForUsers\n                    hasActiveReports\n                    isfollowed\n                    isfollowing\n                    isfriend\n                }\n            }\n        }\n    }\n}\n\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Guest list post",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11501\");",
							"});",
							"",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"pm.test(\"Comment has correct moderation data\", function () {",
							"    const response = pm.response.json();",
							"    const post = response.data?.guestListPost?.affectedRows;",
							"    const expectedCommentId = pm.environment.get(\"commentid\");",
							"",
							"    if (!expectedCommentId) {",
							"        throw new Error(\"Environment variable 'commentid' is not set.\");",
							"    }",
							"",
							"    const comments = post?.comments || [];",
							"    const commentFound = comments.find(c => c.commentid === expectedCommentId);",
							"",
							"    if (!commentFound) {",
							"        throw new Error(`Comment with ID ${expectedCommentId} not found.`);",
							"    }",
							"",
							"    pm.expect(commentFound.visibilityStatus, `Comment ${expectedCommentId} visibilityStatus`).to.eql(\"NORMAL\");",
							"    pm.expect(commentFound.hasActiveReports, `Comment ${expectedCommentId} hasActiveReports`).to.eql(true);",
							"    pm.expect(commentFound.isHiddenForUsers, `Comment ${expectedCommentId} isHiddenForUsers`).to.eql(true);",
							"",
							"    pm.expect(commentFound.user?.visibilityStatus, `User in comment ${expectedCommentId} visibilityStatus`).to.eql(\"NORMAL\");",
							"    pm.expect(commentFound.user?.hasActiveReports, `User in comment ${expectedCommentId} hasActiveReports`).to.eql(true);",
							"    pm.expect(commentFound.user?.isHiddenForUsers, `User in comment ${expectedCommentId} isHiddenForUsers`).to.eql(true);",
							"});",
							"",
							"pm.test(\"Post and user have correct moderation data\", function () {",
							"    const response = pm.response.json();",
							"    const post = response.data?.guestListPost?.affectedRows;",
							"    const expectedPostId = pm.environment.get(\"postid\");",
							"",
							"    if (!expectedPostId) {",
							"        throw new Error(\"Environment variable 'postid' is not set.\");",
							"    }",
							"",
							"    if (!post || post.id !== expectedPostId) {",
							"        throw new Error(`Post with ID ${expectedPostId} not found.`);",
							"    }",
							"",
							"    pm.expect(post.title, `Post ${expectedPostId} title`).to.eql(\"moderation_post\");",
							"    pm.expect(post.visibilityStatus, `Post ${expectedPostId} visibilityStatus`).to.eql(\"NORMAL\");",
							"    pm.expect(post.hasActiveReports, `Post ${expectedPostId} hasActiveReports`).to.eql(true);",
							"    pm.expect(post.isHiddenForUsers, `Post ${expectedPostId} isHiddenForUsers`).to.eql(true);",
							"    pm.expect(post.user?.username, `User ${expectedPostId} username`).to.eql(\"tester02\");",
							"    pm.expect(post.user?.visibilityStatus, `User ${expectedPostId} visibilityStatus`).to.eql(\"NORMAL\");",
							"    pm.expect(post.user?.hasActiveReports, `User ${expectedPostId} hasActiveReports`).to.eql(true);",
							"    pm.expect(post.user?.isHiddenForUsers, `User ${expectedPostId} isHiddenForUsers`).to.eql(true);",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "noauth"
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "query GuestListPost {\n    guestListPost(postid: \"{{postid}}\") {\n        meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n        affectedRows {\n            id\n            contenttype\n            title\n            media\n            cover\n            mediadescription\n            createdat\n            visibilityStatus\n          isHiddenForUsers\n            hasActiveReports\n            amountreports\n            amountlikes\n            amountviews\n            amountcomments\n            amountdislikes\n            amounttrending\n            isliked\n            isviewed\n            isreported\n            isdisliked\n            issaved\n            tags\n            url\n            user {\n                id\n                username\n                slug\n                img\n                visibilityStatus\n          isHiddenForUsers\n                hasActiveReports\n                isfollowed\n                isfollowing\n                isfriend\n            }\n            comments {\n                commentid\n                userid\n                postid\n                parentid\n                content\n                createdat\n                visibilityStatus\n          isHiddenForUsers\n                hasActiveReports\n                amountlikes\n                amountreplies\n                amountreports\n                isliked\n                user {\n                    id\n                    username\n                    slug\n                    img\n                    visibilityStatus\n          isHiddenForUsers\n                    hasActiveReports\n                    isfollowed\n                    isfollowing\n                    isfriend\n                }\n            }\n        }\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Login tester 2",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"10801\");",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"let response = pm.response.json();",
							"if (!pm.response.text().includes(\"error\")) {",
							"    pm.environment.set(\"accessToken\", response.data.login.accessToken);",
							"} else {",
							"    console.log(\"Error detected in response, environment variable not set.\");",
							"}",
							"if (!pm.response.text().includes(\"error\")) {",
							"    pm.environment.set(\"refreshToken\", response.data.login.refreshToken);",
							"} else {",
							"    console.log(\"Error detected in response, environment variable not set.\");",
							"}",
							"let token = pm.environment.get(\"accessToken\");",
							"pm.test(\"Access token exists\", function () {",
							"    pm.expect(token).to.be.a(\"string\");",
							"});",
							"",
							""
						],
						"type": "text/javascript",
						"packages": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							""
						],
						"type": "text/javascript",
						"packages": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "noauth"
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "mutation {\n  login(email: \"{{w_email_t2}}\",\n    password: \"{{w_password_t2}}\"\n  ) {\n    meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n    accessToken\n    refreshToken\n  }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Confirm listPosts shows urself (feed)",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11501\");",
							"});",
							"",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"pm.test(\"Comment has correct moderation data\", function () {",
							"    const response = pm.response.json();",
							"    const posts = response.data?.listPosts?.affectedRows || [];",
							"    const expectedCommentId = pm.environment.get(\"commentid\");",
							"",
							"    if (!expectedCommentId) {",
							"        throw new Error(\"Environment variable 'commentid' is not set.\");",
							"    }",
							"",
							"    let commentFound = null;",
							"",
							"    for (const post of posts) {",
							"        const comments = post.comments || [];",
							"        commentFound = comments.find(c => c.commentid === expectedCommentId);",
							"        if (commentFound) break;",
							"    }",
							"",
							"    if (!commentFound) {",
							"        throw new Error(`Comment with ID ${expectedCommentId} not found.`);",
							"    }",
							"",
							"    pm.expect(commentFound.visibilityStatus, `Comment ${expectedCommentId} visibilityStatus`).to.eql(\"NORMAL\");",
							"    pm.expect(commentFound.hasActiveReports, `Comment ${expectedCommentId} hasActiveReports`).to.eql(true);",
							"    pm.expect(commentFound.isHiddenForUsers, `Comment ${expectedCommentId} isHiddenForUsers`).to.eql(true);",
							"",
							"    pm.expect(commentFound.user?.visibilityStatus, `User in comment ${expectedCommentId} visibilityStatus`).to.eql(\"NORMAL\");",
							"    pm.expect(commentFound.user?.hasActiveReports, `User in comment ${expectedCommentId} hasActiveReports`).to.eql(true);",
							"    pm.expect(commentFound.user?.isHiddenForUsers, `User in comment ${expectedCommentId} isHiddenForUsers`).to.eql(true);",
							"});",
							"",
							"pm.test(\"Post and user have correct moderation data\", function () {",
							"    const response = pm.response.json();",
							"    const posts = response.data?.listPosts?.affectedRows || [];",
							"    const expectedPostId = pm.environment.get(\"postid\");",
							"",
							"    if (!expectedPostId) {",
							"        throw new Error(\"Environment variable 'postid' is not set.\");",
							"    }",
							"",
							"    const postFound = posts.find(p => p.id === expectedPostId);",
							"",
							"    if (!postFound) {",
							"        throw new Error(`Post with ID ${expectedPostId} not found.`);",
							"    }",
							"",
							"    pm.expect(postFound.title, `Post ${expectedPostId} title`).to.eql(\"moderation_post\");",
							"    pm.expect(postFound.visibilityStatus, `Post ${expectedPostId} visibilityStatus`).to.eql(\"NORMAL\");",
							"    pm.expect(postFound.hasActiveReports, `Post ${expectedPostId} hasActiveReports`).to.eql(true);",
							"    pm.expect(postFound.isHiddenForUsers, `Post ${expectedPostId} isHiddenForUsers`).to.eql(true);",
							"    pm.expect(postFound.user?.username, `User ${expectedPostId} username`).to.eql(\"tester02\");",
							"    pm.expect(postFound.user?.visibilityStatus, `User ${expectedPostId} visibilityStatus`).to.eql(\"NORMAL\");",
							"    pm.expect(postFound.user?.hasActiveReports, `User ${expectedPostId} hasActiveReports`).to.eql(true);",
							"    pm.expect(postFound.user?.isHiddenForUsers, `User ${expectedPostId} isHiddenForUsers`).to.eql(true);",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "query ListPosts {\n    listPosts(contentFilterBy: MYGRANDMALIKES, limit:20) {\n        counter\n        meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n        affectedRows {\n            id\n            contenttype\n            title\n            media\n            cover\n            mediadescription\n            createdat\n            visibilityStatus\n          isHiddenForUsers\n            hasActiveReports\n            amountreports\n            amountlikes\n            amountviews\n            amountcomments\n            amountdislikes\n            amounttrending\n            isliked\n            isviewed\n            isreported\n            isdisliked\n            issaved\n            tags\n            url\n            user {\n                id\n                username\n                slug\n                img\n                visibilityStatus\n          isHiddenForUsers\n                hasActiveReports\n                isfollowed\n                isfollowing\n                isfriend\n            }\n            comments {\n                commentid\n                userid\n                postid\n                parentid\n                content\n                createdat\n                visibilityStatus\n          isHiddenForUsers\n                hasActiveReports\n                amountlikes\n                amountreplies\n                amountreports\n                isliked\n                user {\n                    id\n                    username\n                    slug\n                    img\n                    visibilityStatus\n          isHiddenForUsers\n                    hasActiveReports\n                    isfollowed\n                    isfollowing\n                    isfriend\n                }\n            }\n        }\n    }\n}\n\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Confirm listPosts shows urself (postid)",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11501\");",
							"});",
							"",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"pm.test(\"Comment has correct moderation data\", function () {",
							"    const response = pm.response.json();",
							"    const posts = response.data?.listPosts?.affectedRows || [];",
							"    const expectedCommentId = pm.environment.get(\"commentid\");",
							"",
							"    if (!expectedCommentId) {",
							"        throw new Error(\"Environment variable 'commentid' is not set.\");",
							"    }",
							"",
							"    let commentFound = null;",
							"",
							"    for (const post of posts) {",
							"        const comments = post.comments || [];",
							"        commentFound = comments.find(c => c.commentid === expectedCommentId);",
							"        if (commentFound) break;",
							"    }",
							"",
							"    if (!commentFound) {",
							"        throw new Error(`Comment with ID ${expectedCommentId} not found.`);",
							"    }",
							"",
							"    pm.expect(commentFound.visibilityStatus, `Comment ${expectedCommentId} visibilityStatus`).to.eql(\"NORMAL\");",
							"    pm.expect(commentFound.hasActiveReports, `Comment ${expectedCommentId} hasActiveReports`).to.eql(true);",
							"    pm.expect(commentFound.isHiddenForUsers, `Comment ${expectedCommentId} isHiddenForUsers`).to.eql(true);",
							"",
							"    pm.expect(commentFound.user?.visibilityStatus, `User in comment ${expectedCommentId} visibilityStatus`).to.eql(\"NORMAL\");",
							"    pm.expect(commentFound.user?.hasActiveReports, `User in comment ${expectedCommentId} hasActiveReports`).to.eql(true);",
							"    pm.expect(commentFound.user?.isHiddenForUsers, `User in comment ${expectedCommentId} isHiddenForUsers`).to.eql(true);",
							"});",
							"",
							"pm.test(\"Post and user have correct moderation data\", function () {",
							"    const response = pm.response.json();",
							"    const posts = response.data?.listPosts?.affectedRows || [];",
							"    const expectedPostId = pm.environment.get(\"postid\");",
							"",
							"    if (!expectedPostId) {",
							"        throw new Error(\"Environment variable 'postid' is not set.\");",
							"    }",
							"",
							"    const postFound = posts.find(p => p.id === expectedPostId);",
							"",
							"    if (!postFound) {",
							"        throw new Error(`Post with ID ${expectedPostId} not found.`);",
							"    }",
							"",
							"    pm.expect(postFound.title, `Post ${expectedPostId} title`).to.eql(\"moderation_post\");",
							"    pm.expect(postFound.visibilityStatus, `Post ${expectedPostId} visibilityStatus`).to.eql(\"NORMAL\");",
							"    pm.expect(postFound.hasActiveReports, `Post ${expectedPostId} hasActiveReports`).to.eql(true);",
							"    pm.expect(postFound.isHiddenForUsers, `Post ${expectedPostId} isHiddenForUsers`).to.eql(true);",
							"    pm.expect(postFound.user?.username, `User ${expectedPostId} username`).to.eql(\"tester02\");",
							"    pm.expect(postFound.user?.visibilityStatus, `User ${expectedPostId} visibilityStatus`).to.eql(\"NORMAL\");",
							"    pm.expect(postFound.user?.hasActiveReports, `User ${expectedPostId} hasActiveReports`).to.eql(true);",
							"    pm.expect(postFound.user?.isHiddenForUsers, `User ${expectedPostId} isHiddenForUsers`).to.eql(true);",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "query ListPosts {\n    listPosts(contentFilterBy: MYGRANDMALIKES, postid: \"{{postid}}\") {\n        counter\n        meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n        affectedRows {\n            id\n            contenttype\n            title\n            media\n            cover\n            mediadescription\n            createdat\n            visibilityStatus\n          isHiddenForUsers\n            hasActiveReports\n            amountreports\n            amountlikes\n            amountviews\n            amountcomments\n            amountdislikes\n            amounttrending\n            isliked\n            isviewed\n            isreported\n            isdisliked\n            issaved\n            tags\n            url\n            user {\n                id\n                username\n                slug\n                img\n                visibilityStatus\n          isHiddenForUsers\n                hasActiveReports\n                isfollowed\n                isfollowing\n                isfriend\n            }\n            comments {\n                commentid\n                userid\n                postid\n                parentid\n                content\n                createdat\n                visibilityStatus\n          isHiddenForUsers\n                hasActiveReports\n                amountlikes\n                amountreplies\n                amountreports\n                isliked\n                user {\n                    id\n                    username\n                    slug\n                    img\n                    visibilityStatus\n          isHiddenForUsers\n                    hasActiveReports\n                    isfollowed\n                    isfollowing\n                    isfriend\n                }\n            }\n        }\n    }\n}\n\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Confirm listPosts shows urself (profile)",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11501\");",
							"});",
							"",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"pm.test(\"Comment has correct moderation data\", function () {",
							"    const response = pm.response.json();",
							"    const posts = response.data?.listPosts?.affectedRows || [];",
							"    const expectedCommentId = pm.environment.get(\"commentid\");",
							"",
							"    if (!expectedCommentId) {",
							"        throw new Error(\"Environment variable 'commentid' is not set.\");",
							"    }",
							"",
							"    let commentFound = null;",
							"",
							"    for (const post of posts) {",
							"        const comments = post.comments || [];",
							"        commentFound = comments.find(c => c.commentid === expectedCommentId);",
							"        if (commentFound) break;",
							"    }",
							"",
							"    if (!commentFound) {",
							"        throw new Error(`Comment with ID ${expectedCommentId} not found.`);",
							"    }",
							"",
							"    pm.expect(commentFound.visibilityStatus, `Comment ${expectedCommentId} visibilityStatus`).to.eql(\"NORMAL\");",
							"    pm.expect(commentFound.hasActiveReports, `Comment ${expectedCommentId} hasActiveReports`).to.eql(true);",
							"    pm.expect(commentFound.isHiddenForUsers, `Comment ${expectedCommentId} isHiddenForUsers`).to.eql(true);",
							"",
							"    pm.expect(commentFound.user?.visibilityStatus, `User in comment ${expectedCommentId} visibilityStatus`).to.eql(\"NORMAL\");",
							"    pm.expect(commentFound.user?.hasActiveReports, `User in comment ${expectedCommentId} hasActiveReports`).to.eql(true);",
							"    pm.expect(commentFound.user?.isHiddenForUsers, `User in comment ${expectedCommentId} isHiddenForUsers`).to.eql(true);",
							"});",
							"",
							"pm.test(\"Post and user have correct moderation data\", function () {",
							"    const response = pm.response.json();",
							"    const posts = response.data?.listPosts?.affectedRows || [];",
							"    const expectedPostId = pm.environment.get(\"postid\");",
							"",
							"    if (!expectedPostId) {",
							"        throw new Error(\"Environment variable 'postid' is not set.\");",
							"    }",
							"",
							"    const postFound = posts.find(p => p.id === expectedPostId);",
							"",
							"    if (!postFound) {",
							"        throw new Error(`Post with ID ${expectedPostId} not found.`);",
							"    }",
							"",
							"    pm.expect(postFound.title, `Post ${expectedPostId} title`).to.eql(\"moderation_post\");",
							"    pm.expect(postFound.visibilityStatus, `Post ${expectedPostId} visibilityStatus`).to.eql(\"NORMAL\");",
							"    pm.expect(postFound.hasActiveReports, `Post ${expectedPostId} hasActiveReports`).to.eql(true);",
							"    pm.expect(postFound.isHiddenForUsers, `Post ${expectedPostId} isHiddenForUsers`).to.eql(true);",
							"    pm.expect(postFound.user?.username, `User ${expectedPostId} username`).to.eql(\"tester02\");",
							"    pm.expect(postFound.user?.visibilityStatus, `User ${expectedPostId} visibilityStatus`).to.eql(\"NORMAL\");",
							"    pm.expect(postFound.user?.hasActiveReports, `User ${expectedPostId} hasActiveReports`).to.eql(true);",
							"    pm.expect(postFound.user?.isHiddenForUsers, `User ${expectedPostId} isHiddenForUsers`).to.eql(true);",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "query ListPosts {\n    listPosts(contentFilterBy: MYGRANDMALIKES, userid: \"{{w_userid_t2}}\") {\n        counter\n        meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n        affectedRows {\n            id\n            contenttype\n            title\n            media\n            cover\n            mediadescription\n            createdat\n            visibilityStatus\n          isHiddenForUsers\n            hasActiveReports\n            amountreports\n            amountlikes\n            amountviews\n            amountcomments\n            amountdislikes\n            amounttrending\n            isliked\n            isviewed\n            isreported\n            isdisliked\n            issaved\n            tags\n            url\n            user {\n                id\n                username\n                slug\n                img\n                visibilityStatus\n          isHiddenForUsers\n                hasActiveReports\n                isfollowed\n                isfollowing\n                isfriend\n            }\n            comments {\n                commentid\n                userid\n                postid\n                parentid\n                content\n                createdat\n                visibilityStatus\n          isHiddenForUsers\n                hasActiveReports\n                amountlikes\n                amountreplies\n                amountreports\n                isliked\n                user {\n                    id\n                    username\n                    slug\n                    img\n                    visibilityStatus\n          isHiddenForUsers\n                    hasActiveReports\n                    isfollowed\n                    isfollowing\n                    isfriend\n                }\n            }\n        }\n    }\n}\n\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Confirm listPosts shows urself (title)",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11501\");",
							"});",
							"",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"pm.test(\"Comment has correct moderation data\", function () {",
							"    const response = pm.response.json();",
							"    const posts = response.data?.listPosts?.affectedRows || [];",
							"    const expectedCommentId = pm.environment.get(\"commentid\");",
							"",
							"    if (!expectedCommentId) {",
							"        throw new Error(\"Environment variable 'commentid' is not set.\");",
							"    }",
							"",
							"    let commentFound = null;",
							"",
							"    for (const post of posts) {",
							"        const comments = post.comments || [];",
							"        commentFound = comments.find(c => c.commentid === expectedCommentId);",
							"        if (commentFound) break;",
							"    }",
							"",
							"    if (!commentFound) {",
							"        throw new Error(`Comment with ID ${expectedCommentId} not found.`);",
							"    }",
							"",
							"    pm.expect(commentFound.visibilityStatus, `Comment ${expectedCommentId} visibilityStatus`).to.eql(\"NORMAL\");",
							"    pm.expect(commentFound.hasActiveReports, `Comment ${expectedCommentId} hasActiveReports`).to.eql(true);",
							"    pm.expect(commentFound.isHiddenForUsers, `Comment ${expectedCommentId} isHiddenForUsers`).to.eql(true);",
							"",
							"    pm.expect(commentFound.user?.visibilityStatus, `User in comment ${expectedCommentId} visibilityStatus`).to.eql(\"NORMAL\");",
							"    pm.expect(commentFound.user?.hasActiveReports, `User in comment ${expectedCommentId} hasActiveReports`).to.eql(true);",
							"    pm.expect(commentFound.user?.isHiddenForUsers, `User in comment ${expectedCommentId} isHiddenForUsers`).to.eql(true);",
							"});",
							"",
							"pm.test(\"Post and user have correct moderation data\", function () {",
							"    const response = pm.response.json();",
							"    const posts = response.data?.listPosts?.affectedRows || [];",
							"    const expectedPostId = pm.environment.get(\"postid\");",
							"",
							"    if (!expectedPostId) {",
							"        throw new Error(\"Environment variable 'postid' is not set.\");",
							"    }",
							"",
							"    const postFound = posts.find(p => p.id === expectedPostId);",
							"",
							"    if (!postFound) {",
							"        throw new Error(`Post with ID ${expectedPostId} not found.`);",
							"    }",
							"",
							"    pm.expect(postFound.title, `Post ${expectedPostId} title`).to.eql(\"moderation_post\");",
							"    pm.expect(postFound.visibilityStatus, `Post ${expectedPostId} visibilityStatus`).to.eql(\"NORMAL\");",
							"    pm.expect(postFound.hasActiveReports, `Post ${expectedPostId} hasActiveReports`).to.eql(true);",
							"    pm.expect(postFound.isHiddenForUsers, `Post ${expectedPostId} isHiddenForUsers`).to.eql(true);",
							"    pm.expect(postFound.user?.username, `User ${expectedPostId} username`).to.eql(\"tester02\");",
							"    pm.expect(postFound.user?.visibilityStatus, `User ${expectedPostId} visibilityStatus`).to.eql(\"NORMAL\");",
							"    pm.expect(postFound.user?.hasActiveReports, `User ${expectedPostId} hasActiveReports`).to.eql(true);",
							"    pm.expect(postFound.user?.isHiddenForUsers, `User ${expectedPostId} isHiddenForUsers`).to.eql(true);",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "query ListPosts {\n    listPosts(contentFilterBy: MYGRANDMALIKES, title: \"moderation_post\") {\n        counter\n        meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n        affectedRows {\n            id\n            contenttype\n            title\n            media\n            cover\n            mediadescription\n            createdat\n            visibilityStatus\n          isHiddenForUsers\n            hasActiveReports\n            amountreports\n            amountlikes\n            amountviews\n            amountcomments\n            amountdislikes\n            amounttrending\n            isliked\n            isviewed\n            isreported\n            isdisliked\n            issaved\n            tags\n            url\n            user {\n                id\n                username\n                slug\n                img\n                visibilityStatus\n          isHiddenForUsers\n                hasActiveReports\n                isfollowed\n                isfollowing\n                isfriend\n            }\n            comments {\n                commentid\n                userid\n                postid\n                parentid\n                content\n                createdat\n                visibilityStatus\n          isHiddenForUsers\n                hasActiveReports\n                amountlikes\n                amountreplies\n                amountreports\n                isliked\n                user {\n                    id\n                    username\n                    slug\n                    img\n                    visibilityStatus\n          isHiddenForUsers\n                    hasActiveReports\n                    isfollowed\n                    isfollowing\n                    isfriend\n                }\n            }\n        }\n    }\n}\n\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Confirm listUsersV2 shows urself",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11009\");",
							"});",
							"",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"pm.test(\"User from w_userid_t2 in listUsersV2 has correct moderation data\", function () {",
							"    const response = pm.response.json();",
							"    const users = response.data?.listUsersV2?.affectedRows || [];",
							"    const expectedUserId = pm.environment.get(\"w_userid_t2\");",
							"",
							"    if (!expectedUserId) {",
							"        throw new Error(\"Environment variable 'w_userid_t2' is not set.\");",
							"    }",
							"",
							"    const user = users.find(u => u.id === expectedUserId);",
							"",
							"    if (!user) {",
							"        throw new Error(`User with ID ${expectedUserId} not found in listUsersV2 response.`);",
							"    }",
							"",
							"    pm.expect(user.username, `User ${user.id} should have correct username`).to.eql(\"tester02\");",
							"    pm.expect(user.visibilityStatus, `User ${user.id} should have correct visibilityStatus`).to.eql(\"NORMAL\");",
							"    pm.expect(user.hasActiveReports, `User ${user.id} should have correct hasActiveReports`).to.eql(true);",
							"    pm.expect(user.isHiddenForUsers, `User ${user.id} should have correct isHiddenForUsers`).to.eql(true);",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "query ListUsersV2 {\n    listUsersV2(contentFilterBy: MYGRANDMALIKES, limit:20) {\n        counter\n        meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n        affectedRows {\n            id\n            username\n            status\n            slug\n            img\n            biography\n            visibilityStatus\n          isHiddenForUsers\n            hasActiveReports\n            createdat\n            updatedat\n        }\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Confirm listUsersV2 shows urself",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11009\");",
							"});",
							"",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"pm.test(\"User with w_userid_t2 should have correct moderation data\", function () {",
							"    const response = pm.response.json();",
							"    const users = response.data?.listUsersV2?.affectedRows || [];",
							"    const expectedUserId = pm.environment.get(\"w_userid_t2\");",
							"",
							"    if (!expectedUserId) {",
							"        throw new Error(\"Environment variable 'w_userid_t2' is not set.\");",
							"    }",
							"",
							"    const user = users.find(u => u.id === expectedUserId);",
							"",
							"    if (!user) {",
							"        throw new Error(`User with ID ${expectedUserId} not found in listUsersV2 response.`);",
							"    }",
							"",
							"    pm.expect(user.username, `User ${user.id} should have correct username`).to.eql(\"tester02\");",
							"    pm.expect(user.visibilityStatus, `User ${user.id} should have correct visibilityStatus`).to.eql(\"NORMAL\");",
							"    pm.expect(user.hasActiveReports, `User ${user.id} should have correct hasActiveReports`).to.eql(true);",
							"    pm.expect(user.isHiddenForUsers, `User ${user.id} should have correct isHiddenForUsers`).to.eql(true);",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "query ListUsersV2 {\n    listUsersV2(contentFilterBy: MYGRANDMALIKES, userid: \"{{w_userid_t2}}\") {\n        counter\n        meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n        affectedRows {\n            id\n            username\n            status\n            slug\n            img\n            biography\n            visibilityStatus\n          isHiddenForUsers\n            hasActiveReports\n            createdat\n            updatedat\n        }\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Confirm listUsersV2 shows urself",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11009\");",
							"});",
							"",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"pm.test(\"User with w_userid_t2 should have correct moderation data\", function () {",
							"    const response = pm.response.json();",
							"    const users = response.data?.listUsersV2?.affectedRows || [];",
							"    const expectedUserId = pm.environment.get(\"w_userid_t2\");",
							"",
							"    if (!expectedUserId) {",
							"        throw new Error(\"Environment variable 'w_userid_t2' is not set.\");",
							"    }",
							"",
							"    const user = users.find(u => u.id === expectedUserId);",
							"",
							"    if (!user) {",
							"        throw new Error(`User with ID ${expectedUserId} not found in listUsersV2 response.`);",
							"    }",
							"",
							"    pm.expect(user.username, `User ${user.id} should have correct username`).to.eql(\"tester02\");",
							"    pm.expect(user.visibilityStatus, `User ${user.id} should have correct visibilityStatus`).to.eql(\"NORMAL\");",
							"    pm.expect(user.hasActiveReports, `User ${user.id} should have correct hasActiveReports`).to.eql(true);",
							"    pm.expect(user.isHiddenForUsers, `User ${user.id} should have correct isHiddenForUsers`).to.eql(true);",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "query ListUsersV2 {\n    listUsersV2(contentFilterBy: MYGRANDMALIKES, username: \"tester02\") {\n        counter\n        meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n        affectedRows {\n            id\n            username\n            status\n            slug\n            img\n            biography\n            visibilityStatus\n          isHiddenForUsers\n            hasActiveReports\n            createdat\n            updatedat\n        }\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Confirm getProfile shows urself",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11008\");",
							"});",
							"",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"pm.test(\"getProfile returns correct moderation data\", function () {",
							"    const response = pm.response.json();",
							"    const profile = response.data?.getProfile?.affectedRows;",
							"    const expectedUserId = pm.environment.get(\"w_userid_t2\");",
							"",
							"    if (!expectedUserId) {",
							"        throw new Error(\"Environment variable 'w_userid_t2' is not set.\");",
							"    }",
							"",
							"    if (!profile || profile.id !== expectedUserId) {",
							"        throw new Error(`Profile ID does not match w_userid_t2. Found: ${profile?.id}, Expected: ${expectedUserId}`);",
							"    }",
							"",
							"    pm.expect(profile.username, `User ${profile.id} has correct username`).to.eql(\"tester02\");",
							"    pm.expect(profile.visibilityStatus, `User ${profile.id} has correct visibilityStatus`).to.eql(\"NORMAL\");",
							"    pm.expect(profile.hasActiveReports, `User ${profile.id} has correct hasActiveReports`).to.eql(true);",
							"    pm.expect(profile.isHiddenForUsers, `User ${profile.id} should have isHiddenForUsers 'true'`).to.eql(true);",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "query GetProfile {\n    getProfile(contentFilterBy: MYGRANDMALIKES, userid: \"{{w_userid_t2}}\") {\n        meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n        affectedRows {\n            id\n            username\n            status\n            slug\n            img\n            biography\n            visibilityStatus\n          isHiddenForUsers\n            hasActiveReports\n            isfollowed\n            isfollowing\n            amountposts\n            amounttrending\n            amountfollowed\n            amountfollower\n            amountfriends\n            amountblocked\n            amountreports\n        }\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Report tester 3",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11012\");",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "mutation ReportUser {\n    reportUser(userid: \"{{w_userid_t3}}\") {\n        status\n        RequestId\n        ResponseCode\n        ResponseMessage\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Block tester 3",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11105\");",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "mutation UserBlock {\n    toggleBlockUserStatus(userid: \"{{w_userid_t3}}\") {\n        status\n        RequestId\n        ResponseCode\n        ResponseMessage\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Login tester 3",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"10801\");",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"let response = pm.response.json();",
							"if (!pm.response.text().includes(\"error\")) {",
							"    pm.environment.set(\"accessToken\", response.data.login.accessToken);",
							"} else {",
							"    console.log(\"Error detected in response, environment variable not set.\");",
							"}",
							"if (!pm.response.text().includes(\"error\")) {",
							"    pm.environment.set(\"refreshToken\", response.data.login.refreshToken);",
							"} else {",
							"    console.log(\"Error detected in response, environment variable not set.\");",
							"}",
							"let token = pm.environment.get(\"accessToken\");",
							"pm.test(\"Access token exists\", function () {",
							"    pm.expect(token).to.be.a(\"string\");",
							"});",
							"",
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "noauth"
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "mutation {\n  login(email: \"{{w_email_t3}}\",\n    password: \"{{w_password_t3}}\"\n  ) {\n    meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n    accessToken\n    refreshToken\n  }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Confirm listPosts is hidden",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11501\");",
							"});",
							"",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"pm.test(\"All posts by w_userid_t2 have correct moderation data\", function () {",
							"    const response = pm.response.json();",
							"    const posts = response.data?.listPosts?.affectedRows || [];",
							"    const expectedUserId = pm.environment.get(\"w_userid_t2\");",
							"",
							"    if (!expectedUserId) {",
							"        throw new Error(\"Environment variable 'w_userid_t2' is not set.\");",
							"    }",
							"",
							"    posts.forEach(post => {",
							"        if (post.user?.id === expectedUserId) {",
							"            pm.expect(post.user.visibilityStatus, `Post ID ${post.id} has correct visibilityStatus`).to.eql(\"HIDDEN\");",
							"            pm.expect(post.user.hasActiveReports, `Post ID ${post.id} has hasActiveReports true`).to.eql(true);",
							"            pm.expect(post.user.isHiddenForUsers, `Post ID ${post.id} has isHiddenForUsers true`).to.eql(true);",
							"        }",
							"    });",
							"});",
							"",
							"pm.test(\"All comments by w_userid_t2 have correct moderation data\", function () {",
							"    const response = pm.response.json();",
							"    const posts = response.data?.listPosts?.affectedRows || [];",
							"    const expectedUserId = pm.environment.get(\"w_userid_t2\");",
							"",
							"    if (!expectedUserId) {",
							"        throw new Error(\"Environment variable 'w_userid_t2' is not set.\");",
							"    }",
							"",
							"    posts.forEach(post => {",
							"        const comments = post.comments || [];",
							"        comments.forEach(comment => {",
							"            if (comment.user?.id === expectedUserId) {",
							"                pm.expect(comment.user.visibilityStatus, `Comment ID ${comment.commentid} in post ${post.id} has correct visibilityStatus`)",
							"                    .to.eql(\"HIDDEN\");",
							"                pm.expect(comment.user.hasActiveReports, `Comment ID ${comment.commentid} in post ${post.id} has correct hasActiveReports`)",
							"                    .to.eql(true);",
							"                pm.expect(comment.user.isHiddenForUsers, `Comment ID ${comment.commentid} in post ${post.id} has correct isHiddenForUsers`)",
							"                    .to.eql(true);",
							"            }",
							"        });",
							"    });",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "query ListPosts {\n    listPosts(contentFilterBy: MYGRANDMALIKES, limit:20) {\n        counter\n        meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n        affectedRows {\n            id\n            contenttype\n            title\n            media\n            cover\n            mediadescription\n            createdat\n            visibilityStatus\n          isHiddenForUsers\n            hasActiveReports\n            amountreports\n            amountlikes\n            amountviews\n            amountcomments\n            amountdislikes\n            amounttrending\n            isliked\n            isviewed\n            isreported\n            isdisliked\n            issaved\n            tags\n            url\n            user {\n                id\n                username\n                slug\n                img\n                visibilityStatus\n          isHiddenForUsers\n                hasActiveReports\n                isfollowed\n                isfollowing\n                isfriend\n            }\n            comments {\n                commentid\n                userid\n                postid\n                parentid\n                content\n                createdat\n                visibilityStatus\n          isHiddenForUsers\n                hasActiveReports\n                amountlikes\n                amountreplies\n                amountreports\n                isliked\n                user {\n                    id\n                    username\n                    slug\n                    img\n                    visibilityStatus\n          isHiddenForUsers\n                    hasActiveReports\n                    isfollowed\n                    isfollowing\n                    isfriend\n                }\n            }\n        }\n    }\n}\n\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Confirm listUsersV2 is hidden",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11009\");",
							"});",
							"",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"pm.test(\"User from w_userid_t2 in listUsersV2 has correct moderation data\", function () {",
							"    const response = pm.response.json();",
							"    const users = response.data?.listUsersV2?.affectedRows || [];",
							"    const expectedUserId = pm.environment.get(\"w_userid_t2\");",
							"",
							"    if (!expectedUserId) {",
							"        throw new Error(\"Environment variable 'w_userid_t2' is not set.\");",
							"    }",
							"",
							"    const user = users.find(u => u.id === expectedUserId);",
							"",
							"    if (!user) {",
							"        throw new Error(`User with ID ${expectedUserId} not found in listUsersV2 response.`);",
							"    }",
							"",
							"    pm.expect(user.visibilityStatus, `User ${user.id} should have visibilityStatus 'HIDDEN'`).to.eql(\"HIDDEN\");",
							"    pm.expect(user.hasActiveReports, `User ${user.id} should have hasActiveReports true`).to.eql(true);",
							"    pm.expect(user.isHiddenForUsers, `User ${user.id} should have isHiddenForUsers true`).to.eql(true);",
							"});"
						],
						"type": "text/javascript",
						"packages": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "query ListUsersV2 {\n    listUsersV2(contentFilterBy: MYGRANDMALIKES, limit: 20) {\n        counter\n        meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n        affectedRows {\n            id\n            username\n            status\n            slug\n            img\n            biography\n            visibilityStatus\n          isHiddenForUsers\n            hasActiveReports\n            createdat\n            updatedat\n        }\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Confirm listUsersV2 is hidden",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11009\");",
							"});",
							"",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"pm.test(\"User with w_userid_t2 should have correct moderation data\", function () {",
							"    const response = pm.response.json();",
							"    const users = response.data?.listUsersV2?.affectedRows || [];",
							"    const expectedUserId = pm.environment.get(\"w_userid_t2\");",
							"",
							"    if (!expectedUserId) {",
							"        throw new Error(\"Environment variable 'w_userid_t2' is not set.\");",
							"    }",
							"",
							"    const user = users.find(u => u.id === expectedUserId);",
							"",
							"    if (!user) {",
							"        throw new Error(`User with ID ${expectedUserId} not found in listUsersV2 response.`);",
							"    }",
							"",
							"    pm.expect(user.visibilityStatus, `User ${user.id} should have visibilityStatus 'HIDDEN'`).to.eql(\"HIDDEN\");",
							"    pm.expect(user.hasActiveReports, `User ${user.id} should have hasActiveReports true`).to.eql(true);",
							"    pm.expect(user.isHiddenForUsers, `User ${user.id} should have isHiddenForUsers true`).to.eql(true);",
							"});"
						],
						"type": "text/javascript",
						"packages": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "query ListUsersV2 {\n    listUsersV2(contentFilterBy: MYGRANDMALIKES, userid: \"{{w_userid_t2}}\") {\n        counter\n        meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n        affectedRows {\n            id\n            username\n            status\n            slug\n            img\n            biography\n            visibilityStatus\n          isHiddenForUsers\n            hasActiveReports\n            createdat\n            updatedat\n        }\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Confirm listUsersV2 is hidden",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11009\");",
							"});",
							"",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"pm.test(\"User with w_userid_t2 should have correct moderation data\", function () {",
							"    const response = pm.response.json();",
							"    const users = response.data?.listUsersV2?.affectedRows || [];",
							"    const expectedUserId = pm.environment.get(\"w_userid_t2\");",
							"",
							"    if (!expectedUserId) {",
							"        throw new Error(\"Environment variable 'w_userid_t2' is not set.\");",
							"    }",
							"",
							"    const user = users.find(u => u.id === expectedUserId);",
							"",
							"    if (!user) {",
							"        throw new Error(`User with ID ${expectedUserId} not found in listUsersV2 response.`);",
							"    }",
							"",
							"    pm.expect(user.visibilityStatus, `User ${user.id} should have visibilityStatus 'HIDDEN'`).to.eql(\"HIDDEN\");",
							"    pm.expect(user.hasActiveReports, `User ${user.id} should have hasActiveReports true`).to.eql(true);",
							"    pm.expect(user.isHiddenForUsers, `User ${user.id} should have isHiddenForUsers true`).to.eql(true);",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "query ListUsersV2 {\n    listUsersV2(contentFilterBy: MYGRANDMALIKES, username: \"tester02\") {\n        counter\n        meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n        affectedRows {\n            id\n            username\n            status\n            slug\n            img\n            biography\n            visibilityStatus\n          isHiddenForUsers\n            hasActiveReports\n            createdat\n            updatedat\n        }\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Confirm getProfile is hidden",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11008\");",
							"});",
							"",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"pm.test(\"getProfile returns correct moderation data\", function () {",
							"    const response = pm.response.json();",
							"    const profile = response.data?.getProfile?.affectedRows;",
							"    const expectedUserId = pm.environment.get(\"w_userid_t2\");",
							"",
							"    if (!expectedUserId) {",
							"        throw new Error(\"Environment variable 'w_userid_t2' is not set.\");",
							"    }",
							"",
							"    if (!profile || profile.id !== expectedUserId) {",
							"        throw new Error(`Profile ID does not match w_userid_t2. Found: ${profile?.id}, Expected: ${expectedUserId}`);",
							"    }",
							"",
							"    pm.expect(profile.visibilityStatus, `User ${profile.id} should have visibilityStatus 'HIDDEN'`).to.eql(\"HIDDEN\");",
							"    pm.expect(profile.hasActiveReports, `User ${profile.id} should have hasActiveReports true`).to.eql(true);",
							"    pm.expect(profile.isHiddenForUsers, `User ${profile.id} should have isHiddenForUsers 'true'`).to.eql(true);",
							"});"
						],
						"type": "text/javascript",
						"packages": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "query GetProfile {\n    getProfile(userid: \"{{w_userid_t2}}\", contentFilterBy: MYGRANDMALIKES) {\n        meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n        affectedRows {\n            id\n            username\n            status\n            slug\n            img\n            biography\n            visibilityStatus\n          isHiddenForUsers\n            hasActiveReports\n            isfollowed\n            isfollowing\n            amountposts\n            amounttrending\n            amountfollowed\n            amountfollower\n            amountfriends\n            amountblocked\n            amountreports\n        }\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Confirm listFollowRelations is hidden",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11101\");",
							"});",
							"",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"pm.test(\"User from w_userid_t2 in followers and following has correct moderation data\", function () {",
							"    const response = pm.response.json();",
							"    const relations = response.data?.listFollowRelations?.affectedRows || {};",
							"    const expectedUserId = pm.environment.get(\"w_userid_t2\");",
							"",
							"    if (!expectedUserId) {",
							"        throw new Error(\"Environment variable 'w_userid_t2' is not set.\");",
							"    }",
							"",
							"    const checkList = (listName) => {",
							"        const list = relations[listName] || [];",
							"        const user = list.find(u => u.id === expectedUserId);",
							"",
							"        if (!user) {",
							"            throw new Error(`User with ID ${expectedUserId} not found in '${listName}' list.`);",
							"        }",
							"",
							"        pm.expect(user.visibilityStatus, `User ${user.id} in ${listName} should be 'HIDDEN'`).to.eql(\"HIDDEN\");",
							"        pm.expect(user.hasActiveReports, `User ${user.id} should have hasActiveReports true`).to.eql(true);",
							"        pm.expect(user.isHiddenForUsers, `User ${user.id} should have isHiddenForUsers true`).to.eql(true);",
							"    };",
							"",
							"    checkList(\"followers\");",
							"    checkList(\"following\");",
							"});",
							""
						],
						"type": "text/javascript",
						"packages": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "query ListFollowRelations {\n    listFollowRelations(contentFilterBy: MYGRANDMALIKES) {\n        counter\n        meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n        affectedRows {\n            followers {\n                id\n                username\n                slug\n                img\n                visibilityStatus\n          isHiddenForUsers\n                hasActiveReports\n                isfollowed\n                isfollowing\n                isfriend\n            }\n            following {\n                id\n                username\n                slug\n                img\n                visibilityStatus\n          isHiddenForUsers\n                hasActiveReports\n                isfollowed\n                isfollowing\n                isfriend\n            }\n        }\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Confirm listFriends is hidden",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11102\");",
							"});",
							"",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"pm.test(\"User from w_userid_t2 in listFriends has correct moderation data\", function () {",
							"    const response = pm.response.json();",
							"    const friends = response.data?.listFriends?.affectedRows || [];",
							"    const expectedUserId = pm.environment.get(\"w_userid_t2\");",
							"",
							"    if (!expectedUserId) {",
							"        throw new Error(\"Environment variable 'w_userid_t2' is not set.\");",
							"    }",
							"",
							"    const user = friends.find(u => u.userid === expectedUserId);",
							"",
							"    if (!user) {",
							"        throw new Error(`User with ID ${expectedUserId} not found in 'listFriends' response.`);",
							"    }",
							"",
							"    pm.expect(user.visibilityStatus, `Friend ${user.id} should have visibilityStatus 'HIDDEN'`).to.eql(\"HIDDEN\");",
							"    pm.expect(user.hasActiveReports, `Friend ${user.id} should have hasActiveReports true`).to.eql(true);",
							"    pm.expect(user.isHiddenForUsers, `Friend ${user.id} should have isHiddenForUsers true`).to.eql(true);",
							"});",
							""
						],
						"type": "text/javascript",
						"packages": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "query ListFriends {\n    listFriends(contentFilterBy: MYGRANDMALIKES) {\n        counter\n        meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n        affectedRows {\n            userid\n            img\n            username\n            slug\n            biography\n            visibilityStatus\n          isHiddenForUsers\n            hasActiveReports\n            updatedat\n        }\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Block tester 2",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11105\");",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							""
						],
						"type": "text/javascript",
						"packages": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "mutation UserBlock {\n    toggleBlockUserStatus(userid: \"{{w_userid_t2}}\") {\n        status\n        RequestId\n        ResponseCode\n        ResponseMessage\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Confirm listBlockedUsers is hidden",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11107\");",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"pm.test(\"User from w_userid_t2 has correct moderation data\", function () {",
							"    const res = pm.response.json();",
							"",
							"    const affected = res.data?.listBlockedUsers?.affectedRows || {};",
							"    const list = [",
							"        ...(affected.iBlocked || []),",
							"        ...(affected.blockedBy || [])",
							"    ];",
							"",
							"    const expectedUserId = pm.environment.get(\"w_userid_t2\");",
							"",
							"    if (!expectedUserId) {",
							"        throw new Error(\"Environment variable 'w_userid_t2' is not set.\");",
							"    }",
							"",
							"    const user = list.find(u => u.userid === expectedUserId);",
							"",
							"    if (!user) {",
							"        throw new Error(`User with ID ${expectedUserId} not found in blocked lists.`);",
							"    }",
							"",
							"    pm.expect(user.hasActiveReports, `User ${user.userid} should have hasActiveReports = true`).to.eql(true);",
							"    pm.expect(user.visibilityStatus, `User ${user.userid} should have visibilityStatus = \"HIDDEN\"`).to.eql(\"HIDDEN\");",
							"    pm.expect(user.isHiddenForUsers, `User ${user.userid} should have isHiddenForUsers true`).to.eql(true);",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "query ListBlockedUsers {\n    listBlockedUsers(contentFilterBy: MYGRANDMALIKES) {\n        status\n        counter\n        ResponseCode\n        meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n        affectedRows {\n            iBlocked {\n                userid\n                img\n                username\n                slug\n                hasActiveReports\n                visibilityStatus\n          isHiddenForUsers\n            }\n            blockedBy {\n                userid\n                img\n                username\n                slug\n                hasActiveReports\n                visibilityStatus\n          isHiddenForUsers\n            }\n        }\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Unblock tester 2",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11106\");",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "mutation UserBlock {\n    toggleBlockUserStatus(userid: \"{{w_userid_t2}}\") {\n        status\n        RequestId\n        ResponseCode\n        ResponseMessage\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Confirm listPosts shows without filter",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11501\");",
							"});",
							"",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"pm.test(\"Comment has correct moderation data\", function () {",
							"    const response = pm.response.json();",
							"    const posts = response.data?.listPosts?.affectedRows || [];",
							"    const expectedCommentId = pm.environment.get(\"commentid\");",
							"",
							"    if (!expectedCommentId) {",
							"        throw new Error(\"Environment variable 'commentid' is not set.\");",
							"    }",
							"",
							"    let commentFound = null;",
							"",
							"    for (const post of posts) {",
							"        const comments = post.comments || [];",
							"        commentFound = comments.find(c => c.commentid === expectedCommentId);",
							"        if (commentFound) break;",
							"    }",
							"",
							"    if (!commentFound) {",
							"        throw new Error(`Comment with ID ${expectedCommentId} not found.`);",
							"    }",
							"",
							"    pm.expect(commentFound.visibilityStatus, `Comment ${expectedCommentId} visibilityStatus`).to.eql(\"NORMAL\");",
							"    pm.expect(commentFound.hasActiveReports, `Comment ${expectedCommentId} hasActiveReports`).to.eql(true);",
							"    pm.expect(commentFound.isHiddenForUsers, `Comment ${expectedCommentId} isHiddenForUsers`).to.eql(true);",
							"",
							"    pm.expect(commentFound.user?.visibilityStatus, `User in comment ${expectedCommentId} visibilityStatus`).to.eql(\"NORMAL\");",
							"    pm.expect(commentFound.user?.hasActiveReports, `User in comment ${expectedCommentId} hasActiveReports`).to.eql(true);",
							"});",
							"",
							"pm.test(\"Post and user have correct moderation data\", function () {",
							"    const response = pm.response.json();",
							"    const posts = response.data?.listPosts?.affectedRows || [];",
							"    const expectedPostId = pm.environment.get(\"postid\");",
							"",
							"    if (!expectedPostId) {",
							"        throw new Error(\"Environment variable 'postid' is not set.\");",
							"    }",
							"",
							"    const postFound = posts.find(p => p.id === expectedPostId);",
							"",
							"    if (!postFound) {",
							"        throw new Error(`Post with ID ${expectedPostId} not found.`);",
							"    }",
							"",
							"    pm.expect(postFound.title, `Post ${expectedPostId} title`).to.eql(\"moderation_post\");",
							"    pm.expect(postFound.visibilityStatus, `Post ${expectedPostId} visibilityStatus`).to.eql(\"NORMAL\");",
							"    pm.expect(postFound.hasActiveReports, `Post ${expectedPostId} hasActiveReports`).to.eql(true);",
							"    pm.expect(postFound.isHiddenForUsers, `Post ${expectedPostId} isHiddenForUsers`).to.eql(true);",
							"    pm.expect(postFound.user?.username, `Post ${expectedPostId} username`).to.eql(\"tester02\");",
							"    pm.expect(postFound.user?.visibilityStatus, `Post ${expectedPostId} visibilityStatus`).to.eql(\"NORMAL\");",
							"    pm.expect(postFound.user?.hasActiveReports, `Post ${expectedPostId} hasActiveReports`).to.eql(true);",
							"    pm.expect(postFound.user?.isHiddenForUsers, `Post ${expectedPostId} isHiddenForUsers`).to.eql(true);",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "query ListPosts {\n    listPosts(limit:20) {\n        counter\n        meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n        affectedRows {\n            id\n            contenttype\n            title\n            media\n            cover\n            mediadescription\n            createdat\n            visibilityStatus\n          isHiddenForUsers\n            hasActiveReports\n            amountreports\n            amountlikes\n            amountviews\n            amountcomments\n            amountdislikes\n            amounttrending\n            isliked\n            isviewed\n            isreported\n            isdisliked\n            issaved\n            tags\n            url\n            user {\n                id\n                username\n                slug\n                img\n                visibilityStatus\n          isHiddenForUsers\n                hasActiveReports\n                isfollowed\n                isfollowing\n                isfriend\n            }\n            comments {\n                commentid\n                userid\n                postid\n                parentid\n                content\n                createdat\n                visibilityStatus\n          isHiddenForUsers\n                hasActiveReports\n                amountlikes\n                amountreplies\n                amountreports\n                isliked\n                user {\n                    id\n                    username\n                    slug\n                    img\n                    visibilityStatus\n          isHiddenForUsers\n                    hasActiveReports\n                    isfollowed\n                    isfollowing\n                    isfriend\n                }\n            }\n        }\n    }\n}\n\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Confirm listUsersV2 shows without filter",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11009\");",
							"});",
							"",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"pm.test(\"User from w_userid_t2 in listUsersV2 has correct moderation data\", function () {",
							"    const response = pm.response.json();",
							"    const users = response.data?.listUsersV2?.affectedRows || [];",
							"    const expectedUserId = pm.environment.get(\"w_userid_t2\");",
							"",
							"    if (!expectedUserId) {",
							"        throw new Error(\"Environment variable 'w_userid_t2' is not set.\");",
							"    }",
							"",
							"    const user = users.find(u => u.id === expectedUserId);",
							"",
							"    if (!user) {",
							"        throw new Error(`User with ID ${expectedUserId} not found in listUsersV2 response.`);",
							"    }",
							"",
							"    pm.expect(user.username, `User ${user.id} should have correct username`).to.eql(\"tester02\");",
							"    pm.expect(user.visibilityStatus, `User ${user.id} should have correct visibilityStatus`).to.eql(\"NORMAL\");",
							"    pm.expect(user.hasActiveReports, `User ${user.id} should have correct hasActiveReports`).to.eql(true);",
							"    pm.expect(user.isHiddenForUsers, `User ${user.id} should have correct isHiddenForUsers`).to.eql(true);",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "query ListUsersV2 {\n    listUsersV2(limit:20) {\n        counter\n        meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n        affectedRows {\n            id\n            username\n            status\n            slug\n            img\n            biography\n            visibilityStatus\n          isHiddenForUsers\n            hasActiveReports\n            createdat\n            updatedat\n        }\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Confirm listUsersV2 shows without filter",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11009\");",
							"});",
							"",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"pm.test(\"User with w_userid_t2 should have correct moderation data\", function () {",
							"    const response = pm.response.json();",
							"    const users = response.data?.listUsersV2?.affectedRows || [];",
							"    const expectedUserId = pm.environment.get(\"w_userid_t2\");",
							"",
							"    if (!expectedUserId) {",
							"        throw new Error(\"Environment variable 'w_userid_t2' is not set.\");",
							"    }",
							"",
							"    const user = users.find(u => u.id === expectedUserId);",
							"",
							"    if (!user) {",
							"        throw new Error(`User with ID ${expectedUserId} not found in listUsersV2 response.`);",
							"    }",
							"",
							"    pm.expect(user.username, `User ${user.id} should have correct username`).to.eql(\"tester02\");",
							"    pm.expect(user.visibilityStatus, `User ${user.id} should have correct visibilityStatus`).to.eql(\"NORMAL\");",
							"    pm.expect(user.hasActiveReports, `User ${user.id} should have correct hasActiveReports`).to.eql(true);",
							"    pm.expect(user.isHiddenForUsers, `User ${user.id} should have correct isHiddenForUsers`).to.eql(true);",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "query ListUsersV2 {\n    listUsersV2(userid: \"{{w_userid_t2}}\") {\n        counter\n        meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n        affectedRows {\n            id\n            username\n            status\n            slug\n            img\n            biography\n            visibilityStatus\n          isHiddenForUsers\n            hasActiveReports\n            createdat\n            updatedat\n        }\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Confirm listUsersV2 shows without filter",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11009\");",
							"});",
							"",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"pm.test(\"User with w_userid_t2 should have correct moderation data\", function () {",
							"    const response = pm.response.json();",
							"    const users = response.data?.listUsersV2?.affectedRows || [];",
							"    const expectedUserId = pm.environment.get(\"w_userid_t2\");",
							"",
							"    if (!expectedUserId) {",
							"        throw new Error(\"Environment variable 'w_userid_t2' is not set.\");",
							"    }",
							"",
							"    const user = users.find(u => u.id === expectedUserId);",
							"",
							"    if (!user) {",
							"        throw new Error(`User with ID ${expectedUserId} not found in listUsersV2 response.`);",
							"    }",
							"",
							"    pm.expect(user.username, `User ${user.id} should have correct username`).to.eql(\"tester02\");",
							"    pm.expect(user.visibilityStatus, `User ${user.id} should have correct visibilityStatus`).to.eql(\"NORMAL\");",
							"    pm.expect(user.hasActiveReports, `User ${user.id} should have correct hasActiveReports`).to.eql(true);",
							"    pm.expect(user.isHiddenForUsers, `User ${user.id} should have correct isHiddenForUsers`).to.eql(true);",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "query ListUsersV2 {\n    listUsersV2(username: \"tester02\") {\n        counter\n        meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n        affectedRows {\n            id\n            username\n            status\n            slug\n            img\n            biography\n            visibilityStatus\n          isHiddenForUsers\n            hasActiveReports\n            createdat\n            updatedat\n        }\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Confirm getProfile shows without filter",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11008\");",
							"});",
							"",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"pm.test(\"getProfile returns correct moderation data\", function () {",
							"    const response = pm.response.json();",
							"    const profile = response.data?.getProfile?.affectedRows;",
							"    const expectedUserId = pm.environment.get(\"w_userid_t2\");",
							"",
							"    if (!expectedUserId) {",
							"        throw new Error(\"Environment variable 'w_userid_t2' is not set.\");",
							"    }",
							"",
							"    if (!profile || profile.id !== expectedUserId) {",
							"        throw new Error(`Profile ID does not match w_userid_t2. Found: ${profile?.id}, Expected: ${expectedUserId}`);",
							"    }",
							"",
							"    pm.expect(profile.username, `User ${profile.id} has correct username`).to.eql(\"tester02\");",
							"    pm.expect(profile.visibilityStatus, `User ${profile.id} has correct visibilityStatus`).to.eql(\"NORMAL\");",
							"    pm.expect(profile.hasActiveReports, `User ${profile.id} has correct hasActiveReports`).to.eql(true);",
							"    pm.expect(profile.isHiddenForUsers, `User ${profile.id} should have isHiddenForUsers 'true'`).to.eql(true);",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "query GetProfile {\n    getProfile(userid: \"{{w_userid_t2}}\") {\n        meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n        affectedRows {\n            id\n            username\n            status\n            slug\n            img\n            biography\n            visibilityStatus\n          isHiddenForUsers\n            hasActiveReports\n            isfollowed\n            isfollowing\n            amountposts\n            amounttrending\n            amountfollowed\n            amountfollower\n            amountfriends\n            amountblocked\n            amountreports\n        }\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Confirm listFollowRelations shows without filter",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11101\");",
							"});",
							"",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"pm.test(\"User from w_userid_t2 in followers and following has correct moderation data\", function () {",
							"    const response = pm.response.json();",
							"    const relations = response.data?.listFollowRelations?.affectedRows || {};",
							"    const expectedUserId = pm.environment.get(\"w_userid_t2\");",
							"",
							"    if (!expectedUserId) {",
							"        throw new Error(\"Environment variable 'w_userid_t2' is not set.\");",
							"    }",
							"",
							"    const checkList = (listName) => {",
							"        const list = relations[listName] || [];",
							"        const user = list.find(u => u.id === expectedUserId);",
							"",
							"        if (!user) {",
							"            throw new Error(`User with ID ${expectedUserId} not found in '${listName}' list.`);",
							"        }",
							"",
							"        pm.expect(user.username, `User ${user.id} in ${listName} has correct username`).to.eql(\"tester02\");",
							"        pm.expect(user.visibilityStatus, `User ${user.id} in ${listName} has correct visibilityStatus`).to.eql(\"NORMAL\");",
							"        pm.expect(user.hasActiveReports, `User ${user.id} in ${listName} has correct hasActiveReports`).to.eql(true);",
							"        pm.expect(user.isHiddenForUsers, `User ${user.id} in ${listName} has correct isHiddenForUsers`).to.eql(true);",
							"    };",
							"",
							"    checkList(\"followers\");",
							"    checkList(\"following\");",
							"});",
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "query ListFollowRelations {\n    listFollowRelations {\n        counter\n        meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n        affectedRows {\n            followers {\n                id\n                username\n                slug\n                img\n                visibilityStatus\n          isHiddenForUsers\n                hasActiveReports\n                isfollowed\n                isfollowing\n                isfriend\n            }\n            following {\n                id\n                username\n                slug\n                img\n                visibilityStatus\n          isHiddenForUsers\n                hasActiveReports\n                isfollowed\n                isfollowing\n                isfriend\n            }\n        }\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Confirm listFriends shows without filter",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11102\");",
							"});",
							"",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"pm.test(\"User from w_userid_t2 in listFriends has correct moderation data\", function () {",
							"    const response = pm.response.json();",
							"    const friends = response.data?.listFriends?.affectedRows || [];",
							"    const expectedUserId = pm.environment.get(\"w_userid_t2\");",
							"",
							"    if (!expectedUserId) {",
							"        throw new Error(\"Environment variable 'w_userid_t2' is not set.\");",
							"    }",
							"",
							"    const user = friends.find(u => u.userid === expectedUserId);",
							"",
							"    if (!user) {",
							"        throw new Error(`User with ID ${expectedUserId} not found in 'listFriends' response.`);",
							"    }",
							"",
							"    pm.expect(user.username, `Friend ${user.userid} has correct username`).to.eql(\"tester02\");",
							"    pm.expect(user.visibilityStatus, `Friend ${user.userid} has correct visibilityStatus`).to.eql(\"NORMAL\");",
							"    pm.expect(user.hasActiveReports, `Friend ${user.userid} has correct hasActiveReports`).to.eql(true);",
							"    pm.expect(user.isHiddenForUsers, `Friend ${user.userid} has correct isHiddenForUsers`).to.eql(true);",
							"});",
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "query ListFriends {\n    listFriends {\n        counter\n        meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n        affectedRows {\n            userid\n            img\n            username\n            slug\n            biography\n            visibilityStatus\n          isHiddenForUsers\n            hasActiveReports\n            updatedat\n        }\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Block tester 2",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11105\");",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							""
						],
						"type": "text/javascript",
						"packages": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "mutation UserBlock {\n    toggleBlockUserStatus(userid: \"{{w_userid_t2}}\") {\n        status\n        RequestId\n        ResponseCode\n        ResponseMessage\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Confirm listBlockedUsers shows without filter",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11107\");",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"pm.test(\"User from w_userid_t2 has correct blocked-user properties\", function () {",
							"    const res = pm.response.json();",
							"",
							"    const affected = res.data?.listBlockedUsers?.affectedRows || {};",
							"    const list = [",
							"        ...(affected.iBlocked || []),",
							"        ...(affected.blockedBy || [])",
							"    ];",
							"",
							"    const expectedUserId = pm.environment.get(\"w_userid_t2\");",
							"",
							"    if (!expectedUserId) {",
							"        throw new Error(\"Environment variable 'w_userid_t2' is not set.\");",
							"    }",
							"",
							"    const user = list.find(u => u.userid === expectedUserId);",
							"",
							"    if (!user) {",
							"        throw new Error(`User with ID ${expectedUserId} not found in blocked lists.`);",
							"    }",
							"",
							"    pm.expect(user.hasActiveReports, `User ${user.userid} should have hasActiveReports = true`).to.eql(true);",
							"    pm.expect(user.visibilityStatus, `User ${user.userid} should have visibilityStatus = \"NORMAL\"`).to.eql(\"NORMAL\");",
							"    pm.expect(user.isHiddenForUsers, `User ${user.userid} should have isHiddenForUsers = true`).to.eql(true);",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "query ListBlockedUsers {\n    listBlockedUsers(contentFilterBy: MYGRANDMAHATES) {\n        status\n        counter\n        ResponseCode\n        meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n        affectedRows {\n            iBlocked {\n                userid\n                img\n                username\n                slug\n                hasActiveReports\n                visibilityStatus\n          isHiddenForUsers\n            }\n            blockedBy {\n                userid\n                img\n                username\n                slug\n                hasActiveReports\n                visibilityStatus\n          isHiddenForUsers\n            }\n        }\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Unblock tester 2",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11106\");",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "mutation UserBlock {\n    toggleBlockUserStatus(userid: \"{{w_userid_t2}}\") {\n        status\n        RequestId\n        ResponseCode\n        ResponseMessage\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Login tester 1",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"10801\");",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"let response = pm.response.json();",
							"if (!pm.response.text().includes(\"error\")) {",
							"    pm.environment.set(\"accessToken\", response.data.login.accessToken);",
							"} else {",
							"    console.log(\"Error detected in response, environment variable not set.\");",
							"}",
							"if (!pm.response.text().includes(\"error\")) {",
							"    pm.environment.set(\"refreshToken\", response.data.login.refreshToken);",
							"} else {",
							"    console.log(\"Error detected in response, environment variable not set.\");",
							"}",
							"let token = pm.environment.get(\"accessToken\");",
							"pm.test(\"Access token exists\", function () {",
							"    pm.expect(token).to.be.a(\"string\");",
							"});",
							"",
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "noauth"
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "mutation {\n  login(email: \"{{w_email_t1}}\",\n    password: \"{{w_password_t1}}\"\n  ) {\n    meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n    accessToken\n    refreshToken\n  }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Moderation stats",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"12101\");",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"const res = pm.response.json();",
							"const stats = res?.data?.moderationStats?.affectedRows;",
							"",
							"pm.test(\"Moderation stats match expected values\", function () {",
							"    pm.expect(stats.AmountAwaitingReview).to.eql(4);",
							"    pm.expect(stats.AmountHidden).to.eql(0);",
							"    pm.expect(stats.AmountRestored).to.eql(0);",
							"    pm.expect(stats.AmountIllegal).to.eql(0);",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "query ModerationStats {\n    moderationStats {\n        meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n        affectedRows {\n            AmountAwaitingReview\n            AmountHidden\n            AmountRestored\n            AmountIllegal\n        }\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Moderation items",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"12102\");",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"pm.test(\"Save moderationTicketIds by env IDs\", function () {",
							"    const response = pm.response.json();",
							"    const items = response.data?.moderationItems?.affectedRows || [];",
							"",
							"    const postIdEnv = pm.environment.get(\"postid\");",
							"    const commentIdEnv = pm.environment.get(\"commentid\");",
							"    const userIdT2 = pm.environment.get(\"w_userid_t2\");",
							"    const userIdT3 = pm.environment.get(\"w_userid_t3\");",
							"",
							"    if (!postIdEnv || !commentIdEnv || !userIdT2 || !userIdT3) {",
							"        throw new Error(\"One of the required environment variables (postid, commentid, w_userid_t2, w_userid_t3) is not set.\");",
							"    }",
							"",
							"    items.forEach(item => {",
							"        const type = item.targettype;",
							"        const id = item.moderationTicketId;",
							"",
							"        if (!id) return;",
							"",
							"        if (type === \"post\" && item.targetcontent?.post?.id === postIdEnv) {",
							"            pm.environment.set(\"moderationTicketIdPost\", id);",
							"        } else if (type === \"comment\" && item.targetcontent?.comment?.commentid === commentIdEnv) {",
							"            pm.environment.set(\"moderationTicketIdComment\", id);",
							"        } else if (type === \"user\") {",
							"            const userId = item.targetcontent?.user?.userid;",
							"            if (userId === userIdT2) {",
							"                pm.environment.set(\"moderationTicketIdT02\", id);",
							"            } else if (userId === userIdT3) {",
							"                pm.environment.set(\"moderationTicketIdT03\", id);",
							"            }",
							"        }",
							"    });",
							"});",
							"",
							"pm.test(\"Check statuses by env IDs\", function () {",
							"    const response = pm.response.json();",
							"    const items = response.data?.moderationItems?.affectedRows || [];",
							"",
							"    const postIdEnv = pm.environment.get(\"postid\");",
							"    const commentIdEnv = pm.environment.get(\"commentid\");",
							"    const userIdT2 = pm.environment.get(\"w_userid_t2\");",
							"    const userIdT3 = pm.environment.get(\"w_userid_t3\");",
							"",
							"    items.forEach(item => {",
							"        const type = item.targettype;",
							"        const id = item.moderationTicketId;",
							"",
							"        if (type === \"post\" && item.targetcontent?.post?.id === postIdEnv) {",
							"            pm.expect(item.status, `Post ${postIdEnv} status`).to.eql(\"waiting_for_review\");",
							"        } else if (type === \"comment\" && item.targetcontent?.comment?.commentid === commentIdEnv) {",
							"            pm.expect(item.status, `Comment ${commentIdEnv} status`).to.eql(\"waiting_for_review\");",
							"        } else if (type === \"user\") {",
							"            const userId = item.targetcontent?.user?.userid;",
							"            if (userId === userIdT2) {",
							"                pm.expect(item.status, `User ${userIdT2} status`).to.eql(\"waiting_for_review\");",
							"            } else if (userId === userIdT3) {",
							"                pm.expect(item.status, `User ${userIdT3} status`).to.eql(\"waiting_for_review\");",
							"            }",
							"        }",
							"    });",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "query ModerationItems {\n    moderationItems {\n        meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n        affectedRows {\n            targetContentId\n            moderationTicketId\n            moderationTicketId\n            targettype\n            reportscount\n            status\n            createdat\n            targetcontent {\n                post {\n                    id\n                    contenttype\n                    title\n                    media\n                    cover\n                    mediadescription\n                    createdat\n                    amountreports\n                    amountlikes\n                    amountviews\n                    amountcomments\n                    amountdislikes\n                    amounttrending\n                    isliked\n                    isviewed\n                    isreported\n                    isdisliked\n                    issaved\n                    tags\n                    url\n                    user {\n                        id\n                        username\n                        slug\n                        img\n                        isfollowed\n                        isfollowing\n                        isfriend\n                    }\n                    comments {\n                        commentid\n                        userid\n                        postid\n                        parentid\n                        content\n                        createdat\n                        amountlikes\n                        amountreplies\n                        amountreports\n                        isliked\n                        user {\n                            id\n                            username\n                            slug\n                            img\n                            isfollowed\n                            isfollowing\n                            isfriend\n                        }\n                    }\n                }\n                comment {\n                    commentid\n                    userid\n                    postid\n                    parentid\n                    content\n                    createdat\n                    amountlikes\n                    amountreplies\n                    amountreports\n                    isliked\n                    user {\n                        id\n                        username\n                        slug\n                        img\n                        isfollowed\n                        isfollowing\n                        isfriend\n                    }\n                }\n                user {\n                    userid\n                    img\n                    username\n                    slug\n                    biography\n                    updatedat\n                }\n            }\n            reporters {\n                userid\n                img\n                username\n                slug\n                biography\n                updatedat\n            }\n        }\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Perform moderation",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"12103\");",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "mutation PerformModeration {\n    performModeration(moderationTicketId: \"{{moderationTicketIdT03}}\", moderationAction: hidden) {\n        status\n        RequestId\n        ResponseCode\n        ResponseMessage\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Perform remoderation (fail)",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"32103\");",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"error\"');",
							"});",
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "mutation PerformModeration {\n    performModeration(moderationTicketId: \"{{moderationTicketIdT03}}\", moderationAction: illegal) {\n        status\n        RequestId\n        ResponseCode\n        ResponseMessage\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Perform remoderation (fail)",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"32103\");",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"error\"');",
							"});",
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "mutation PerformModeration {\n    performModeration(moderationTicketId: \"{{moderationTicketIdT03}}\", moderationAction: restored) {\n        status\n        RequestId\n        ResponseCode\n        ResponseMessage\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Perform remoderation (fail)",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"32103\");",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"error\"');",
							"});",
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "mutation PerformModeration {\n    performModeration(moderationTicketId: \"{{moderationTicketIdT03}}\", moderationAction: hidden) {\n        status\n        RequestId\n        ResponseCode\n        ResponseMessage\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Moderation stats",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"12101\");",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"const res = pm.response.json();",
							"const stats = res?.data?.moderationStats?.affectedRows;",
							"",
							"pm.test(\"Moderation stats match expected values\", function () {",
							"    pm.expect(stats.AmountAwaitingReview).to.eql(3);",
							"    pm.expect(stats.AmountHidden).to.eql(1);",
							"    pm.expect(stats.AmountRestored).to.eql(0);",
							"    pm.expect(stats.AmountIllegal).to.eql(0);",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "query ModerationStats {\n    moderationStats {\n        meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n        affectedRows {\n            AmountAwaitingReview\n            AmountHidden\n            AmountRestored\n            AmountIllegal\n        }\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Confirm likes",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    const responseText = pm.response.text();",
							"    pm.expect(responseText.includes(\"11205\")).to.be.true;",
							"});",
							"",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"let postInteractionResponse = {};",
							"try {",
							"    postInteractionResponse = pm.response.json();",
							"} catch (e) {",
							"    console.log(\"Failed to parse JSON:\", e);",
							"}",
							"",
							"let affectedRow = postInteractionResponse?.data?.postInteractions?.affectedRows?.[0] || {};",
							"",
							"if (!pm.response.text().includes(\"error\")) {",
							"    const expectedId = pm.environment.get(\"w_userid_t3\");",
							"    const expectedVisibilityStatus = \"HIDDEN\";",
							"    const expectedisHiddenForUsers = true;",
							"    const expectedhasActiveReports = false;",
							"",
							"    if (affectedRow?.id) {",
							"        pm.test(\"Affected user ID matches w_userid_t3\", function () {",
							"            pm.expect(affectedRow.id).to.eql(expectedId);",
							"        });",
							"        pm.test(\"VisibilityStatus is correct\", function () {",
							"            pm.expect(affectedRow.visibilityStatus).to.eql(expectedVisibilityStatus);",
							"        });",
							"        pm.test(\"IsHiddenForUsers is correct\", function () {",
							"            pm.expect(affectedRow.isHiddenForUsers).to.eql(expectedisHiddenForUsers);",
							"        });",
							"        pm.test(\"HasActiveReports is correct\", function () {",
							"            pm.expect(affectedRow.hasActiveReports).to.eql(expectedhasActiveReports);",
							"        });",
							"",
							"        console.log(\"Affected ID:\", affectedRow.id);",
							"        console.log(\"VisibilityStatus:\", affectedRow.visibilityStatus);",
							"        console.log(\"IsHiddenForUsers:\", affectedRow.isHiddenForUsers);",
							"        console.log(\"HasActiveReports:\", affectedRow.hasActiveReports);",
							"    } else {",
							"        console.log(\"No affected row found.\");",
							"    }",
							"} else {",
							"    console.log(\"Error detected in response, skipping tests.\");",
							"}"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "query PostInteractions {\n    postInteractions(getOnly: LIKE, contentFilterBy: MYGRANDMALIKES, postOrCommentId: \"{{postid}}\") {\n        meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n        affectedRows {\n            id\n            username\n            slug\n            img\n            visibilityStatus\n          isHiddenForUsers\n            hasActiveReports\n            isfollowed\n            isfollowing\n            isfriend\n        }\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Confirm dislikes",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    const responseText = pm.response.text();",
							"    pm.expect(responseText.includes(\"11205\")).to.be.true;",
							"});",
							"",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"let postInteractionResponse = {};",
							"try {",
							"    postInteractionResponse = pm.response.json();",
							"} catch (e) {",
							"    console.log(\"Failed to parse JSON:\", e);",
							"}",
							"",
							"let affectedRow = postInteractionResponse?.data?.postInteractions?.affectedRows?.[0] || {};",
							"",
							"if (!pm.response.text().includes(\"error\")) {",
							"    const expectedId = pm.environment.get(\"w_userid_t3\");",
							"    const expectedVisibilityStatus = \"HIDDEN\";",
							"    const expectedisHiddenForUsers = true;",
							"    const expectedhasActiveReports = false;",
							"",
							"    if (affectedRow?.id) {",
							"        pm.test(\"Affected user ID matches w_userid_t3\", function () {",
							"            pm.expect(affectedRow.id).to.eql(expectedId);",
							"        });",
							"        pm.test(\"VisibilityStatus is correct\", function () {",
							"            pm.expect(affectedRow.visibilityStatus).to.eql(expectedVisibilityStatus);",
							"        });",
							"        pm.test(\"IsHiddenForUsers is correct\", function () {",
							"            pm.expect(affectedRow.isHiddenForUsers).to.eql(expectedisHiddenForUsers);",
							"        });",
							"        pm.test(\"HasActiveReports is correct\", function () {",
							"            pm.expect(affectedRow.hasActiveReports).to.eql(expectedhasActiveReports);",
							"        });",
							"",
							"        console.log(\"Affected ID:\", affectedRow.id);",
							"        console.log(\"VisibilityStatus:\", affectedRow.visibilityStatus);",
							"        console.log(\"IsHiddenForUsers:\", affectedRow.isHiddenForUsers);",
							"        console.log(\"HasActiveReports:\", affectedRow.hasActiveReports);",
							"    } else {",
							"        console.log(\"No affected row found.\");",
							"    }",
							"} else {",
							"    console.log(\"Error detected in response, skipping tests.\");",
							"}"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "query PostInteractions {\n    postInteractions(getOnly: DISLIKE, contentFilterBy: MYGRANDMALIKES, postOrCommentId: \"{{postid}}\") {\n        meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n        affectedRows {\n            id\n            username\n            slug\n            img\n            visibilityStatus\n          isHiddenForUsers\n            hasActiveReports\n            isfollowed\n            isfollowing\n            isfriend\n        }\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Confirm views",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    const responseText = pm.response.text();",
							"    pm.expect(responseText.includes(\"11205\")).to.be.true;",
							"});",
							"",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"let postInteractionResponse = {};",
							"try {",
							"    postInteractionResponse = pm.response.json();",
							"} catch (e) {",
							"    console.log(\"Failed to parse JSON:\", e);",
							"}",
							"",
							"let affectedRow = postInteractionResponse?.data?.postInteractions?.affectedRows?.[0] || {};",
							"",
							"if (!pm.response.text().includes(\"error\")) {",
							"    const expectedId = pm.environment.get(\"w_userid_t3\");",
							"    const expectedVisibilityStatus = \"HIDDEN\";",
							"    const expectedisHiddenForUsers = true;",
							"    const expectedhasActiveReports = false;",
							"",
							"    if (affectedRow?.id) {",
							"        pm.test(\"Affected user ID matches w_userid_t3\", function () {",
							"            pm.expect(affectedRow.id).to.eql(expectedId);",
							"        });",
							"        pm.test(\"VisibilityStatus is correct\", function () {",
							"            pm.expect(affectedRow.visibilityStatus).to.eql(expectedVisibilityStatus);",
							"        });",
							"        pm.test(\"IsHiddenForUsers is correct\", function () {",
							"            pm.expect(affectedRow.isHiddenForUsers).to.eql(expectedisHiddenForUsers);",
							"        });",
							"        pm.test(\"HasActiveReports is correct\", function () {",
							"            pm.expect(affectedRow.hasActiveReports).to.eql(expectedhasActiveReports);",
							"        });",
							"",
							"        console.log(\"Affected ID:\", affectedRow.id);",
							"        console.log(\"VisibilityStatus:\", affectedRow.visibilityStatus);",
							"        console.log(\"IsHiddenForUsers:\", affectedRow.isHiddenForUsers);",
							"        console.log(\"HasActiveReports:\", affectedRow.hasActiveReports);",
							"    } else {",
							"        console.log(\"No affected row found.\");",
							"    }",
							"} else {",
							"    console.log(\"Error detected in response, skipping tests.\");",
							"}"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "query PostInteractions {\n    postInteractions(getOnly: VIEW, contentFilterBy: MYGRANDMALIKES, postOrCommentId: \"{{postid}}\") {\n        meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n        affectedRows {\n            id\n            username\n            slug\n            img\n            visibilityStatus\n          isHiddenForUsers\n            hasActiveReports\n            isfollowed\n            isfollowing\n            isfriend\n        }\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Confirm comments likes",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    const responseText = pm.response.text();",
							"    pm.expect(responseText.includes(\"11205\")).to.be.true;",
							"});",
							"",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"let postInteractionResponse = {};",
							"try {",
							"    postInteractionResponse = pm.response.json();",
							"} catch (e) {",
							"    console.log(\"Failed to parse JSON:\", e);",
							"}",
							"",
							"let affectedRow = postInteractionResponse?.data?.postInteractions?.affectedRows?.[0] || {};",
							"",
							"if (!pm.response.text().includes(\"error\")) {",
							"    const expectedId = pm.environment.get(\"w_userid_t3\");",
							"    const expectedVisibilityStatus = \"HIDDEN\";",
							"    const expectedisHiddenForUsers = true;",
							"    const expectedhasActiveReports = false;",
							"",
							"    if (affectedRow?.id) {",
							"        pm.test(\"Affected user ID matches w_userid_t3\", function () {",
							"            pm.expect(affectedRow.id).to.eql(expectedId);",
							"        });",
							"        pm.test(\"VisibilityStatus is correct\", function () {",
							"            pm.expect(affectedRow.visibilityStatus).to.eql(expectedVisibilityStatus);",
							"        });",
							"        pm.test(\"IsHiddenForUsers is correct\", function () {",
							"            pm.expect(affectedRow.isHiddenForUsers).to.eql(expectedisHiddenForUsers);",
							"        });",
							"        pm.test(\"HasActiveReports is correct\", function () {",
							"            pm.expect(affectedRow.hasActiveReports).to.eql(expectedhasActiveReports);",
							"        });",
							"",
							"        console.log(\"Affected ID:\", affectedRow.id);",
							"        console.log(\"VisibilityStatus:\", affectedRow.visibilityStatus);",
							"        console.log(\"IsHiddenForUsers:\", affectedRow.isHiddenForUsers);",
							"        console.log(\"HasActiveReports:\", affectedRow.hasActiveReports);",
							"    } else {",
							"        console.log(\"No affected row found.\");",
							"    }",
							"} else {",
							"    console.log(\"Error detected in response, skipping tests.\");",
							"}"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "query PostInteractions {\n    postInteractions(getOnly: COMMENTLIKE, contentFilterBy: MYGRANDMALIKES, postOrCommentId: \"{{commentid}}\") {\n        meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n        affectedRows {\n            id\n            username\n            slug\n            img\n            visibilityStatus\n          isHiddenForUsers\n            hasActiveReports\n            isfollowed\n            isfollowing\n            isfriend\n        }\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Confirm likes without filter",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    const responseText = pm.response.text();",
							"    pm.expect(responseText.includes(\"11205\")).to.be.true;",
							"});",
							"",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"let postInteractionResponse = {};",
							"try {",
							"    postInteractionResponse = pm.response.json();",
							"} catch (e) {",
							"    console.log(\"Failed to parse JSON:\", e);",
							"}",
							"",
							"let affectedRow = postInteractionResponse?.data?.postInteractions?.affectedRows?.[0] || {};",
							"",
							"if (!pm.response.text().includes(\"error\")) {",
							"    const expectedId = pm.environment.get(\"w_userid_t3\");",
							"    const expectedVisibilityStatus = \"NORMAL\";",
							"",
							"    if (affectedRow?.id) {",
							"        pm.test(\"Affected user ID matches w_userid_t3\", function () {",
							"            pm.expect(affectedRow.id).to.eql(expectedId);",
							"        });",
							"        pm.test(\"Username is tester03\", function () {",
							"            pm.expect(affectedRow.visibilityStatus).to.eql(expectedVisibilityStatus);",
							"        });",
							"",
							"        console.log(\"Affected ID:\", affectedRow.id);",
							"        console.log(\"VisibilityStatus:\", affectedRow.visibilityStatus);",
							"    } else {",
							"        console.log(\"No affected row found.\");",
							"    }",
							"} else {",
							"    console.log(\"Error detected in response, skipping tests.\");",
							"}"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "query PostInteractions {\n    postInteractions(getOnly: LIKE, contentFilterBy: MYGRANDMAHATES, postOrCommentId: \"{{postid}}\") {\n        meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n        affectedRows {\n            id\n            username\n            slug\n            img\n            visibilityStatus\n          isHiddenForUsers\n            hasActiveReports\n            isfollowed\n            isfollowing\n            isfriend\n        }\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Confirm dislikes without filter",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    const responseText = pm.response.text();",
							"    pm.expect(responseText.includes(\"11205\")).to.be.true;",
							"});",
							"",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"let postInteractionResponse = {};",
							"try {",
							"    postInteractionResponse = pm.response.json();",
							"} catch (e) {",
							"    console.log(\"Failed to parse JSON:\", e);",
							"}",
							"",
							"let affectedRow = postInteractionResponse?.data?.postInteractions?.affectedRows?.[0] || {};",
							"",
							"if (!pm.response.text().includes(\"error\")) {",
							"    const expectedId = pm.environment.get(\"w_userid_t3\");",
							"    const expectedVisibilityStatus = \"NORMAL\";",
							"",
							"    if (affectedRow?.id) {",
							"        pm.test(\"Affected user ID matches w_userid_t3\", function () {",
							"            pm.expect(affectedRow.id).to.eql(expectedId);",
							"        });",
							"        pm.test(\"Username is tester03\", function () {",
							"            pm.expect(affectedRow.visibilityStatus).to.eql(expectedVisibilityStatus);",
							"        });",
							"",
							"        console.log(\"Affected ID:\", affectedRow.id);",
							"        console.log(\"VisibilityStatus:\", affectedRow.visibilityStatus);",
							"    } else {",
							"        console.log(\"No affected row found.\");",
							"    }",
							"} else {",
							"    console.log(\"Error detected in response, skipping tests.\");",
							"}"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "query PostInteractions {\n    postInteractions(getOnly: DISLIKE, contentFilterBy: MYGRANDMAHATES, postOrCommentId: \"{{postid}}\") {\n        meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n        affectedRows {\n            id\n            username\n            slug\n            img\n            visibilityStatus\n          isHiddenForUsers\n            hasActiveReports\n            isfollowed\n            isfollowing\n            isfriend\n        }\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Confirm views without filter",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    const responseText = pm.response.text();",
							"    pm.expect(responseText.includes(\"11205\")).to.be.true;",
							"});",
							"",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"let postInteractionResponse = {};",
							"try {",
							"    postInteractionResponse = pm.response.json();",
							"} catch (e) {",
							"    console.log(\"Failed to parse JSON:\", e);",
							"}",
							"",
							"let affectedRow = postInteractionResponse?.data?.postInteractions?.affectedRows?.[0] || {};",
							"",
							"if (!pm.response.text().includes(\"error\")) {",
							"    const expectedId = pm.environment.get(\"w_userid_t3\");",
							"    const expectedVisibilityStatus = \"NORMAL\";",
							"",
							"    if (affectedRow?.id) {",
							"        pm.test(\"Affected user ID matches w_userid_t3\", function () {",
							"            pm.expect(affectedRow.id).to.eql(expectedId);",
							"        });",
							"        pm.test(\"Username is tester03\", function () {",
							"            pm.expect(affectedRow.visibilityStatus).to.eql(expectedVisibilityStatus);",
							"        });",
							"",
							"        console.log(\"Affected ID:\", affectedRow.id);",
							"        console.log(\"VisibilityStatus:\", affectedRow.visibilityStatus);",
							"    } else {",
							"        console.log(\"No affected row found.\");",
							"    }",
							"} else {",
							"    console.log(\"Error detected in response, skipping tests.\");",
							"}"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "query PostInteractions {\n    postInteractions(getOnly: VIEW, contentFilterBy: MYGRANDMAHATES, postOrCommentId: \"{{postid}}\") {\n        meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n        affectedRows {\n            id\n            username\n            slug\n            img\n            visibilityStatus\n          isHiddenForUsers\n            hasActiveReports\n            isfollowed\n            isfollowing\n            isfriend\n        }\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Confirm comments likes without filter",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    const responseText = pm.response.text();",
							"    pm.expect(responseText.includes(\"11205\")).to.be.true;",
							"});",
							"",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"let postInteractionResponse = {};",
							"try {",
							"    postInteractionResponse = pm.response.json();",
							"} catch (e) {",
							"    console.log(\"Failed to parse JSON:\", e);",
							"}",
							"",
							"let affectedRow = postInteractionResponse?.data?.postInteractions?.affectedRows?.[0] || {};",
							"",
							"if (!pm.response.text().includes(\"error\")) {",
							"    const expectedId = pm.environment.get(\"w_userid_t3\");",
							"    const expectedVisibilityStatus = \"NORMAL\";",
							"",
							"    if (affectedRow?.id) {",
							"        pm.test(\"Affected user ID matches w_userid_t3\", function () {",
							"            pm.expect(affectedRow.id).to.eql(expectedId);",
							"        });",
							"        pm.test(\"Username is tester03\", function () {",
							"            pm.expect(affectedRow.visibilityStatus).to.eql(expectedVisibilityStatus);",
							"        });",
							"",
							"        console.log(\"Affected ID:\", affectedRow.id);",
							"        console.log(\"VisibilityStatus:\", affectedRow.visibilityStatus);",
							"    } else {",
							"        console.log(\"No affected row found.\");",
							"    }",
							"} else {",
							"    console.log(\"Error detected in response, skipping tests.\");",
							"}"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "query PostInteractions {\n    postInteractions(getOnly: COMMENTLIKE, contentFilterBy: MYGRANDMAHATES, postOrCommentId: \"{{commentid}}\") {\n        meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n        affectedRows {\n            id\n            username\n            slug\n            img\n            visibilityStatus\n          isHiddenForUsers\n            hasActiveReports\n            isfollowed\n            isfollowing\n            isfriend\n        }\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Restore comment",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"12103\");",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "mutation PerformModeration {\n    performModeration(moderationTicketId: \"{{moderationTicketIdComment}}\", moderationAction: restored) {\n        status\n        RequestId\n        ResponseCode\n        ResponseMessage\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Restore post",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"12103\");",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "mutation PerformModeration {\n    performModeration(moderationTicketId: \"{{moderationTicketIdPost}}\", moderationAction: restored) {\n        status\n        RequestId\n        ResponseCode\n        ResponseMessage\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Restore tester 2",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"12103\");",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "mutation PerformModeration {\n    performModeration(moderationTicketId: \"{{moderationTicketIdT02}}\", moderationAction: restored) {\n        status\n        RequestId\n        ResponseCode\n        ResponseMessage\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Login t6",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"10801\");",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"let response = pm.response.json();",
							"if (!pm.response.text().includes(\"error\")) {",
							"    pm.environment.set(\"accessToken\", response.data.login.accessToken);",
							"} else {",
							"    console.log(\"Error detected in response, environment variable not set.\");",
							"}",
							"if (!pm.response.text().includes(\"error\")) {",
							"    pm.environment.set(\"refreshToken\", response.data.login.refreshToken);",
							"} else {",
							"    console.log(\"Error detected in response, environment variable not set.\");",
							"}",
							"let token = pm.environment.get(\"accessToken\");",
							"pm.test(\"Access token exists\", function () {",
							"    pm.expect(token).to.be.a(\"string\");",
							"});",
							"",
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "mutation Login {\n  login(email: \"{{email_t6}}\",\n    password: \"{{password_T}}\"\n  ) {\n    meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n    accessToken\n    refreshToken\n  }\n}",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Follow t5",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11104\");",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"pm.test(\"Account is not followed\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"true\");",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "mutation UserFollow {\n    toggleUserFollowStatus(userid: \"{{userid_t5}}\") {\n        isfollowing\n        meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Block t5",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11105\");",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "mutation UserBlock {\n    toggleBlockUserStatus(userid: \"{{userid_t5}}\") {\n        status\n        RequestId\n        ResponseCode\n        ResponseMessage\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Confirm listPosts (feed) shows after moderation",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11501\");",
							"});",
							"",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"pm.test(\"Comment and user have correct moderation data\", function () {",
							"    const response = pm.response.json();",
							"    const posts = response.data?.listPosts?.affectedRows || [];",
							"    const expectedCommentId = pm.environment.get(\"commentid\");",
							"",
							"    if (!expectedCommentId) {",
							"        throw new Error(\"Environment variable 'commentid' is not set.\");",
							"    }",
							"",
							"    let commentFound = null;",
							"",
							"    for (const post of posts) {",
							"        const comments = post.comments || [];",
							"        commentFound = comments.find(c => c.commentid === expectedCommentId);",
							"        if (commentFound) break;",
							"    }",
							"",
							"    if (!commentFound) {",
							"        throw new Error(`Comment with ID ${expectedCommentId} not found.`);",
							"    }",
							"",
							"    pm.expect(commentFound.content, `Comment ${expectedCommentId} content`).to.eql(\"moderation_comment\");",
							"    pm.expect(commentFound.user?.username, `Comment ${expectedCommentId} username`).to.eql(\"tester02\");",
							"    pm.expect(commentFound.visibilityStatus, `Comment ${expectedCommentId} visibilityStatus`).to.eql(\"NORMAL\");",
							"    pm.expect(commentFound.hasActiveReports, `Comment ${expectedCommentId} hasActiveReports`).to.eql(false);",
							"    pm.expect(commentFound.isHiddenForUsers, `Comment ${expectedCommentId} isHiddenForUsers`).to.eql(false);",
							"});",
							"",
							"pm.test(\"Post and user have correct moderation data\", function () {",
							"    const response = pm.response.json();",
							"    const posts = response.data?.listPosts?.affectedRows || [];",
							"    const expectedPostId = pm.environment.get(\"postid\");",
							"",
							"    if (!expectedPostId) {",
							"        throw new Error(\"Environment variable 'postid' is not set.\");",
							"    }",
							"",
							"    const postFound = posts.find(p => p.id === expectedPostId);",
							"",
							"    if (!postFound) {",
							"        throw new Error(`Post with ID ${expectedPostId} not found.`);",
							"    }",
							"",
							"    pm.expect(postFound.title, `Post ${expectedPostId} title`).to.eql(\"moderation_post\");",
							"    pm.expect(postFound.visibilityStatus, `Post ${expectedPostId} visibilityStatus`).to.eql(\"NORMAL\");",
							"    pm.expect(postFound.hasActiveReports, `Post ${expectedPostId} hasActiveReports`).to.eql(false);",
							"    pm.expect(postFound.isHiddenForUsers, `Post ${expectedPostId} isHiddenForUsers`).to.eql(false);",
							"    pm.expect(postFound.user?.username, `User ${expectedPostId} username`).to.eql(\"tester02\");",
							"    pm.expect(postFound.user?.visibilityStatus, `User ${expectedPostId} visibilityStatus`).to.eql(\"NORMAL\");",
							"    pm.expect(postFound.user?.hasActiveReports, `User ${expectedPostId} hasActiveReports`).to.eql(false);",
							"    pm.expect(postFound.user?.isHiddenForUsers, `User ${expectedPostId} isHiddenForUsers`).to.eql(false);",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "query ListPosts {\n    listPosts(contentFilterBy: MYGRANDMALIKES) {\n        counter\n        meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n        affectedRows {\n            id\n            contenttype\n            title\n            media\n            cover\n            mediadescription\n            createdat\n            visibilityStatus\n          isHiddenForUsers\n            hasActiveReports\n            amountreports\n            amountlikes\n            amountviews\n            amountcomments\n            amountdislikes\n            amounttrending\n            isliked\n            isviewed\n            isreported\n            isdisliked\n            issaved\n            tags\n            url\n            user {\n                id\n                username\n                slug\n                img\n                visibilityStatus\n          isHiddenForUsers\n                hasActiveReports\n                isfollowed\n                isfollowing\n                isfriend\n            }\n            comments {\n                commentid\n                userid\n                postid\n                parentid\n                content\n                createdat\n                visibilityStatus\n          isHiddenForUsers\n                hasActiveReports\n                amountlikes\n                amountreplies\n                amountreports\n                isliked\n                user {\n                    id\n                    username\n                    slug\n                    img\n                    visibilityStatus\n          isHiddenForUsers\n                    hasActiveReports\n                    isfollowed\n                    isfollowing\n                    isfriend\n                }\n            }\n        }\n    }\n}\n\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Confirm listPosts (postid) shows after moderation",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11501\");",
							"});",
							"",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"pm.test(\"Comment and user have correct moderation data\", function () {",
							"    const response = pm.response.json();",
							"    const posts = response.data?.listPosts?.affectedRows || [];",
							"    const expectedCommentId = pm.environment.get(\"commentid\");",
							"",
							"    if (!expectedCommentId) {",
							"        throw new Error(\"Environment variable 'commentid' is not set.\");",
							"    }",
							"",
							"    let commentFound = null;",
							"",
							"    for (const post of posts) {",
							"        const comments = post.comments || [];",
							"        commentFound = comments.find(c => c.commentid === expectedCommentId);",
							"        if (commentFound) break;",
							"    }",
							"",
							"    if (!commentFound) {",
							"        throw new Error(`Comment with ID ${expectedCommentId} not found.`);",
							"    }",
							"",
							"    pm.expect(commentFound.content, `Comment ${expectedCommentId} content`).to.eql(\"moderation_comment\");",
							"    pm.expect(commentFound.user?.username, `Comment ${expectedCommentId} username`).to.eql(\"tester02\");",
							"    pm.expect(commentFound.visibilityStatus, `Comment ${expectedCommentId} visibilityStatus`).to.eql(\"NORMAL\");",
							"    pm.expect(commentFound.hasActiveReports, `Comment ${expectedCommentId} hasActiveReports`).to.eql(false);",
							"    pm.expect(commentFound.isHiddenForUsers, `Comment ${expectedCommentId} isHiddenForUsers`).to.eql(false);",
							"});",
							"",
							"pm.test(\"Post and user have correct moderation data\", function () {",
							"    const response = pm.response.json();",
							"    const posts = response.data?.listPosts?.affectedRows || [];",
							"    const expectedPostId = pm.environment.get(\"postid\");",
							"",
							"    if (!expectedPostId) {",
							"        throw new Error(\"Environment variable 'postid' is not set.\");",
							"    }",
							"",
							"    const postFound = posts.find(p => p.id === expectedPostId);",
							"",
							"    if (!postFound) {",
							"        throw new Error(`Post with ID ${expectedPostId} not found.`);",
							"    }",
							"",
							"    pm.expect(postFound.title, `Post ${expectedPostId} title`).to.eql(\"moderation_post\");",
							"    pm.expect(postFound.visibilityStatus, `Post ${expectedPostId} visibilityStatus`).to.eql(\"NORMAL\");",
							"    pm.expect(postFound.hasActiveReports, `Post ${expectedPostId} hasActiveReports`).to.eql(false);",
							"    pm.expect(postFound.isHiddenForUsers, `Post ${expectedPostId} isHiddenForUsers`).to.eql(false);",
							"    pm.expect(postFound.user?.username, `User ${expectedPostId} username`).to.eql(\"tester02\");",
							"    pm.expect(postFound.user?.visibilityStatus, `User ${expectedPostId} visibilityStatus`).to.eql(\"NORMAL\");",
							"    pm.expect(postFound.user?.hasActiveReports, `User ${expectedPostId} hasActiveReports`).to.eql(false);",
							"    pm.expect(postFound.user?.isHiddenForUsers, `User ${expectedPostId} isHiddenForUsers`).to.eql(false);",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "query ListPosts {\n    listPosts(contentFilterBy: MYGRANDMALIKES, postid: \"{{postid}}\") {\n        counter\n        meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n        affectedRows {\n            id\n            contenttype\n            title\n            media\n            cover\n            mediadescription\n            createdat\n            visibilityStatus\n          isHiddenForUsers\n            hasActiveReports\n            amountreports\n            amountlikes\n            amountviews\n            amountcomments\n            amountdislikes\n            amounttrending\n            isliked\n            isviewed\n            isreported\n            isdisliked\n            issaved\n            tags\n            url\n            user {\n                id\n                username\n                slug\n                img\n                visibilityStatus\n          isHiddenForUsers\n                hasActiveReports\n                isfollowed\n                isfollowing\n                isfriend\n            }\n            comments {\n                commentid\n                userid\n                postid\n                parentid\n                content\n                createdat\n                visibilityStatus\n          isHiddenForUsers\n                hasActiveReports\n                amountlikes\n                amountreplies\n                amountreports\n                isliked\n                user {\n                    id\n                    username\n                    slug\n                    img\n                    visibilityStatus\n          isHiddenForUsers\n                    hasActiveReports\n                    isfollowed\n                    isfollowing\n                    isfriend\n                }\n            }\n        }\n    }\n}\n\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Confirm listPosts (profile) shows after moderation",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11501\");",
							"});",
							"",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"pm.test(\"Comment and user have correct moderation data\", function () {",
							"    const response = pm.response.json();",
							"    const posts = response.data?.listPosts?.affectedRows || [];",
							"    const expectedCommentId = pm.environment.get(\"commentid\");",
							"",
							"    if (!expectedCommentId) {",
							"        throw new Error(\"Environment variable 'commentid' is not set.\");",
							"    }",
							"",
							"    let commentFound = null;",
							"",
							"    for (const post of posts) {",
							"        const comments = post.comments || [];",
							"        commentFound = comments.find(c => c.commentid === expectedCommentId);",
							"        if (commentFound) break;",
							"    }",
							"",
							"    if (!commentFound) {",
							"        throw new Error(`Comment with ID ${expectedCommentId} not found.`);",
							"    }",
							"",
							"    pm.expect(commentFound.content, `Comment ${expectedCommentId} content`).to.eql(\"moderation_comment\");",
							"    pm.expect(commentFound.user?.username, `Comment ${expectedCommentId} username`).to.eql(\"tester02\");",
							"    pm.expect(commentFound.visibilityStatus, `Comment ${expectedCommentId} visibilityStatus`).to.eql(\"NORMAL\");",
							"    pm.expect(commentFound.hasActiveReports, `Comment ${expectedCommentId} hasActiveReports`).to.eql(false);",
							"    pm.expect(commentFound.isHiddenForUsers, `Comment ${expectedCommentId} isHiddenForUsers`).to.eql(false);",
							"});",
							"",
							"pm.test(\"Post and user have correct moderation data\", function () {",
							"    const response = pm.response.json();",
							"    const posts = response.data?.listPosts?.affectedRows || [];",
							"    const expectedPostId = pm.environment.get(\"postid\");",
							"",
							"    if (!expectedPostId) {",
							"        throw new Error(\"Environment variable 'postid' is not set.\");",
							"    }",
							"",
							"    const postFound = posts.find(p => p.id === expectedPostId);",
							"",
							"    if (!postFound) {",
							"        throw new Error(`Post with ID ${expectedPostId} not found.`);",
							"    }",
							"",
							"    pm.expect(postFound.title, `Post ${expectedPostId} title`).to.eql(\"moderation_post\");",
							"    pm.expect(postFound.visibilityStatus, `Post ${expectedPostId} visibilityStatus`).to.eql(\"NORMAL\");",
							"    pm.expect(postFound.hasActiveReports, `Post ${expectedPostId} hasActiveReports`).to.eql(false);",
							"    pm.expect(postFound.isHiddenForUsers, `Post ${expectedPostId} isHiddenForUsers`).to.eql(false);",
							"    pm.expect(postFound.user?.username, `User ${expectedPostId} username`).to.eql(\"tester02\");",
							"    pm.expect(postFound.user?.visibilityStatus, `User ${expectedPostId} visibilityStatus`).to.eql(\"NORMAL\");",
							"    pm.expect(postFound.user?.hasActiveReports, `User ${expectedPostId} hasActiveReports`).to.eql(false);",
							"    pm.expect(postFound.user?.isHiddenForUsers, `User ${expectedPostId} isHiddenForUsers`).to.eql(false);",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "query ListPosts {\n    listPosts(contentFilterBy: MYGRANDMALIKES, userid: \"{{w_userid_t2}}\") {\n        counter\n        meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n        affectedRows {\n            id\n            contenttype\n            title\n            media\n            cover\n            mediadescription\n            createdat\n            visibilityStatus\n          isHiddenForUsers\n            hasActiveReports\n            amountreports\n            amountlikes\n            amountviews\n            amountcomments\n            amountdislikes\n            amounttrending\n            isliked\n            isviewed\n            isreported\n            isdisliked\n            issaved\n            tags\n            url\n            user {\n                id\n                username\n                slug\n                img\n                visibilityStatus\n          isHiddenForUsers\n                hasActiveReports\n                isfollowed\n                isfollowing\n                isfriend\n            }\n            comments {\n                commentid\n                userid\n                postid\n                parentid\n                content\n                createdat\n                visibilityStatus\n          isHiddenForUsers\n                hasActiveReports\n                amountlikes\n                amountreplies\n                amountreports\n                isliked\n                user {\n                    id\n                    username\n                    slug\n                    img\n                    visibilityStatus\n          isHiddenForUsers\n                    hasActiveReports\n                    isfollowed\n                    isfollowing\n                    isfriend\n                }\n            }\n        }\n    }\n}\n\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Confirm listPosts (title) shows after moderation",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11501\");",
							"});",
							"",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"pm.test(\"Comment and user have correct moderation data\", function () {",
							"    const response = pm.response.json();",
							"    const posts = response.data?.listPosts?.affectedRows || [];",
							"    const expectedCommentId = pm.environment.get(\"commentid\");",
							"",
							"    if (!expectedCommentId) {",
							"        throw new Error(\"Environment variable 'commentid' is not set.\");",
							"    }",
							"",
							"    let commentFound = null;",
							"",
							"    for (const post of posts) {",
							"        const comments = post.comments || [];",
							"        commentFound = comments.find(c => c.commentid === expectedCommentId);",
							"        if (commentFound) break;",
							"    }",
							"",
							"    if (!commentFound) {",
							"        throw new Error(`Comment with ID ${expectedCommentId} not found.`);",
							"    }",
							"",
							"    pm.expect(commentFound.content, `Comment ${expectedCommentId} content`).to.eql(\"moderation_comment\");",
							"    pm.expect(commentFound.user?.username, `Comment ${expectedCommentId} username`).to.eql(\"tester02\");",
							"    pm.expect(commentFound.visibilityStatus, `Comment ${expectedCommentId} visibilityStatus`).to.eql(\"NORMAL\");",
							"    pm.expect(commentFound.hasActiveReports, `Comment ${expectedCommentId} hasActiveReports`).to.eql(false);",
							"    pm.expect(commentFound.isHiddenForUsers, `Comment ${expectedCommentId} isHiddenForUsers`).to.eql(false);",
							"});",
							"",
							"pm.test(\"Post and user have correct moderation data\", function () {",
							"    const response = pm.response.json();",
							"    const posts = response.data?.listPosts?.affectedRows || [];",
							"    const expectedPostId = pm.environment.get(\"postid\");",
							"",
							"    if (!expectedPostId) {",
							"        throw new Error(\"Environment variable 'postid' is not set.\");",
							"    }",
							"",
							"    const postFound = posts.find(p => p.id === expectedPostId);",
							"",
							"    if (!postFound) {",
							"        throw new Error(`Post with ID ${expectedPostId} not found.`);",
							"    }",
							"",
							"    pm.expect(postFound.title, `Post ${expectedPostId} title`).to.eql(\"moderation_post\");",
							"    pm.expect(postFound.visibilityStatus, `Post ${expectedPostId} visibilityStatus`).to.eql(\"NORMAL\");",
							"    pm.expect(postFound.hasActiveReports, `Post ${expectedPostId} hasActiveReports`).to.eql(false);",
							"    pm.expect(postFound.isHiddenForUsers, `Post ${expectedPostId} isHiddenForUsers`).to.eql(false);",
							"    pm.expect(postFound.user?.username, `User ${expectedPostId} username`).to.eql(\"tester02\");",
							"    pm.expect(postFound.user?.visibilityStatus, `User ${expectedPostId} visibilityStatus`).to.eql(\"NORMAL\");",
							"    pm.expect(postFound.user?.hasActiveReports, `User ${expectedPostId} hasActiveReports`).to.eql(false);",
							"    pm.expect(postFound.user?.isHiddenForUsers, `User ${expectedPostId} isHiddenForUsers`).to.eql(false);",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "query ListPosts {\n    listPosts(contentFilterBy: MYGRANDMALIKES, title: \"moderation_post\") {\n        counter\n        meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n        affectedRows {\n            id\n            contenttype\n            title\n            media\n            cover\n            mediadescription\n            createdat\n            visibilityStatus\n          isHiddenForUsers\n            hasActiveReports\n            amountreports\n            amountlikes\n            amountviews\n            amountcomments\n            amountdislikes\n            amounttrending\n            isliked\n            isviewed\n            isreported\n            isdisliked\n            issaved\n            tags\n            url\n            user {\n                id\n                username\n                slug\n                img\n                visibilityStatus\n          isHiddenForUsers\n                hasActiveReports\n                isfollowed\n                isfollowing\n                isfriend\n            }\n            comments {\n                commentid\n                userid\n                postid\n                parentid\n                content\n                createdat\n                visibilityStatus\n          isHiddenForUsers\n                hasActiveReports\n                amountlikes\n                amountreplies\n                amountreports\n                isliked\n                user {\n                    id\n                    username\n                    slug\n                    img\n                    visibilityStatus\n          isHiddenForUsers\n                    hasActiveReports\n                    isfollowed\n                    isfollowing\n                    isfriend\n                }\n            }\n        }\n    }\n}\n\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Confirm listPosts (username) shows after moderation",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11501\");",
							"});",
							"",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"pm.test(\"All posts by w_userid_t2 have correct moderation data\", function () {",
							"    const response = pm.response.json();",
							"    const posts = response.data?.listPosts?.affectedRows || [];",
							"    const expectedUserId = pm.environment.get(\"w_userid_t2\");",
							"",
							"    if (!expectedUserId) {",
							"        throw new Error(\"Environment variable 'w_userid_t2' is not set.\");",
							"    }",
							"",
							"    posts.forEach(post => {",
							"        if (post.user?.id === expectedUserId) {",
							"            pm.expect(post.user.username, `User ID ${post.id} has correct username`).to.eql(\"tester02\");",
							"            pm.expect(post.user.visibilityStatus, `User ID ${post.id} has correct visibilityStatus`).to.eql(\"NORMAL\");",
							"            pm.expect(post.user.hasActiveReports, `User ID ${post.id} has correct hasActiveReports`).to.eql(false);",
							"            pm.expect(post.user.isHiddenForUsers, `User ID ${post.id} has correct isHiddenForUsers`).to.eql(false);",
							"        }",
							"    });",
							"});",
							"",
							"pm.test(\"All comments by w_userid_t2 have correct moderation data\", function () {",
							"    const response = pm.response.json();",
							"    const posts = response.data?.listPosts?.affectedRows || [];",
							"    const expectedUserId = pm.environment.get(\"w_userid_t2\");",
							"",
							"    if (!expectedUserId) {",
							"        throw new Error(\"Environment variable 'w_userid_t2' is not set.\");",
							"    }",
							"",
							"    posts.forEach(post => {",
							"        const comments = post.comments || [];",
							"        comments.forEach(comment => {",
							"            if (comment.user?.id === expectedUserId) {",
							"                pm.expect(comment.user.username, `Comment ID ${comment.commentid} in post ${post.id} has correct username`).to.eql(\"tester02\");",
							"                pm.expect(comment.user.visibilityStatus, `Comment ID ${comment.commentid} in post ${post.id} has correct visibilityStatus`).to.eql(\"NORMAL\");",
							"                pm.expect(comment.user.hasActiveReports, `Comment ID ${comment.commentid} in post ${post.id} has correct hasActiveReports`).to.eql(false);",
							"                pm.expect(comment.user.isHiddenForUsers, `Comment ID ${comment.commentid} in post ${post.id} has correct isHiddenForUsers`).to.eql(false);",
							"            }",
							"        });",
							"    });",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "query ListPosts {\n    listPosts(contentFilterBy: MYGRANDMALIKES, limit:20) {\n        counter\n        meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n        affectedRows {\n            id\n            contenttype\n            title\n            media\n            cover\n            mediadescription\n            createdat\n            visibilityStatus\n          isHiddenForUsers\n            hasActiveReports\n            amountreports\n            amountlikes\n            amountviews\n            amountcomments\n            amountdislikes\n            amounttrending\n            isliked\n            isviewed\n            isreported\n            isdisliked\n            issaved\n            tags\n            url\n            user {\n                id\n                username\n                slug\n                img\n                visibilityStatus\n          isHiddenForUsers\n                hasActiveReports\n                isfollowed\n                isfollowing\n                isfriend\n            }\n            comments {\n                commentid\n                userid\n                postid\n                parentid\n                content\n                createdat\n                visibilityStatus\n          isHiddenForUsers\n                hasActiveReports\n                amountlikes\n                amountreplies\n                amountreports\n                isliked\n                user {\n                    id\n                    username\n                    slug\n                    img\n                    visibilityStatus\n          isHiddenForUsers\n                    hasActiveReports\n                    isfollowed\n                    isfollowing\n                    isfriend\n                }\n            }\n        }\n    }\n}\n\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Confirm listUsersV2 shows after moderation",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11009\");",
							"});",
							"",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"pm.test(\"User from w_userid_t2 in listUsersV2 has correct moderation data\", function () {",
							"    const response = pm.response.json();",
							"    const users = response.data?.listUsersV2?.affectedRows || [];",
							"    const expectedUserId = pm.environment.get(\"w_userid_t2\");",
							"",
							"    if (!expectedUserId) {",
							"        throw new Error(\"Environment variable 'w_userid_t2' is not set.\");",
							"    }",
							"",
							"    const user = users.find(u => u.id === expectedUserId);",
							"",
							"    if (!user) {",
							"        throw new Error(`User with ID ${expectedUserId} not found in listUsersV2 response.`);",
							"    }",
							"",
							"    pm.expect(user.username, `User ${user.id} should have correct username`).to.eql(\"tester02\");",
							"    pm.expect(user.visibilityStatus, `User ${user.id} should have correct visibilityStatus`).to.eql(\"NORMAL\");",
							"    pm.expect(user.hasActiveReports, `User ${user.id} should have correct hasActiveReports`).to.eql(false);",
							"    pm.expect(user.isHiddenForUsers, `User ${user.id} should have correct isHiddenForUsers`).to.eql(false);",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "query ListUsersV2 {\n    listUsersV2(contentFilterBy: MYGRANDMALIKES, limit:20) {\n        counter\n        meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n        affectedRows {\n            id\n            username\n            status\n            slug\n            img\n            biography\n            visibilityStatus\n          isHiddenForUsers\n            hasActiveReports\n            createdat\n            updatedat\n        }\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Confirm listUsersV2 shows after moderation",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11009\");",
							"});",
							"",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"pm.test(\"User with w_userid_t2 should have correct moderation data\", function () {",
							"    const response = pm.response.json();",
							"    const users = response.data?.listUsersV2?.affectedRows || [];",
							"    const expectedUserId = pm.environment.get(\"w_userid_t2\");",
							"",
							"    if (!expectedUserId) {",
							"        throw new Error(\"Environment variable 'w_userid_t2' is not set.\");",
							"    }",
							"",
							"    const user = users.find(u => u.id === expectedUserId);",
							"",
							"    if (!user) {",
							"        throw new Error(`User with ID ${expectedUserId} not found in listUsersV2 response.`);",
							"    }",
							"",
							"    pm.expect(user.username, `User ${user.id} should have correct username`).to.eql(\"tester02\");",
							"    pm.expect(user.visibilityStatus, `User ${user.id} should have correct visibilityStatus`).to.eql(\"NORMAL\");",
							"    pm.expect(user.hasActiveReports, `User ${user.id} should have correct hasActiveReports`).to.eql(false);",
							"    pm.expect(user.isHiddenForUsers, `User ${user.id} should have correct isHiddenForUsers`).to.eql(false);",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "query ListUsersV2 {\n    listUsersV2(contentFilterBy: MYGRANDMALIKES, userid: \"{{w_userid_t2}}\") {\n        counter\n        meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n        affectedRows {\n            id\n            username\n            status\n            slug\n            img\n            biography\n            visibilityStatus\n          isHiddenForUsers\n            hasActiveReports\n            createdat\n            updatedat\n        }\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Confirm listUsersV2 shows after moderation",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11009\");",
							"});",
							"",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"pm.test(\"User with w_userid_t2 should have correct moderation data\", function () {",
							"    const response = pm.response.json();",
							"    const users = response.data?.listUsersV2?.affectedRows || [];",
							"    const expectedUserId = pm.environment.get(\"w_userid_t2\");",
							"",
							"    if (!expectedUserId) {",
							"        throw new Error(\"Environment variable 'w_userid_t2' is not set.\");",
							"    }",
							"",
							"    const user = users.find(u => u.id === expectedUserId);",
							"",
							"    if (!user) {",
							"        throw new Error(`User with ID ${expectedUserId} not found in listUsersV2 response.`);",
							"    }",
							"",
							"    pm.expect(user.username, `User ${user.id} should have correct username`).to.eql(\"tester02\");",
							"    pm.expect(user.visibilityStatus, `User ${user.id} should have correct visibilityStatus`).to.eql(\"NORMAL\");",
							"    pm.expect(user.hasActiveReports, `User ${user.id} should have correct hasActiveReports`).to.eql(false);",
							"    pm.expect(user.isHiddenForUsers, `User ${user.id} should have correct isHiddenForUsers`).to.eql(false);",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "query ListUsersV2 {\n    listUsersV2(contentFilterBy: MYGRANDMALIKES, username: \"tester02\") {\n        counter\n        meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n        affectedRows {\n            id\n            username\n            status\n            slug\n            img\n            biography\n            visibilityStatus\n          isHiddenForUsers\n            hasActiveReports\n            createdat\n            updatedat\n        }\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Confirm getProfile shows after moderation",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11008\");",
							"});",
							"",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"pm.test(\"getProfile returns correct moderation data\", function () {",
							"    const response = pm.response.json();",
							"    const profile = response.data?.getProfile?.affectedRows;",
							"    const expectedUserId = pm.environment.get(\"w_userid_t2\");",
							"",
							"    if (!expectedUserId) {",
							"        throw new Error(\"Environment variable 'w_userid_t2' is not set.\");",
							"    }",
							"",
							"    if (!profile || profile.id !== expectedUserId) {",
							"        throw new Error(`Profile ID does not match w_userid_t2. Found: ${profile?.id}, Expected: ${expectedUserId}`);",
							"    }",
							"",
							"    pm.expect(profile.username, `User ${profile.id} has correct username`).to.eql(\"tester02\");",
							"    pm.expect(profile.visibilityStatus, `User ${profile.id} has correct visibilityStatus`).to.eql(\"NORMAL\");",
							"    pm.expect(profile.hasActiveReports, `User ${profile.id} has correct hasActiveReports`).to.eql(false);",
							"    pm.expect(profile.isHiddenForUsers, `User ${profile.id} should have isHiddenForUsers 'false'`).to.eql(false);",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "query GetProfile {\n    getProfile(contentFilterBy: MYGRANDMALIKES, userid: \"{{w_userid_t2}}\") {\n        meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n        affectedRows {\n            id\n            username\n            status\n            slug\n            img\n            biography\n            visibilityStatus\n          isHiddenForUsers\n            hasActiveReports\n            isfollowed\n            isfollowing\n            amountposts\n            amounttrending\n            amountfollowed\n            amountfollower\n            amountfriends\n            amountblocked\n            amountreports\n        }\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Confirm list comments shows after moderation",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11601\");",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"pm.test(\"Comment has correct moderation data\", function () {",
							"    const response = pm.response.json();",
							"    const comments = response.data?.listComments?.affectedRows || [];",
							"    const expectedCommentId = pm.environment.get(\"commentid\");",
							"",
							"    if (!expectedCommentId) {",
							"        throw new Error(\"Environment variable 'commentid' is not set.\");",
							"    }",
							"",
							"    const commentFound = comments.find(c => c.commentid === expectedCommentId);",
							"",
							"    if (!commentFound) {",
							"        throw new Error(`Comment with ID ${expectedCommentId} not found in affectedRows.`);",
							"    }",
							"",
							"    pm.expect(commentFound.visibilityStatus, `Comment ${expectedCommentId} visibilityStatus`)",
							"        .to.eql(\"NORMAL\");",
							"",
							"    pm.expect(commentFound.hasActiveReports, `Comment ${expectedCommentId} hasActiveReports`)",
							"        .to.eql(false);",
							"",
							"    pm.expect(commentFound.isHiddenForUsers, `Comment ${expectedCommentId} isHiddenForUsers`)",
							"        .to.eql(false);",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "query ListComments {\n    listComments(\n        postid: \"{{postid}}\"\n        contentFilterBy: MYGRANDMALIKES\n        commentOffset: null\n        commentLimit: null\n    ) {\n        meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n        counter\n        affectedRows {\n            commentid\n            userid\n            postid\n            parentid\n            content\n            createdat\n            amountlikes\n            amountreplies\n            isliked\n            visibilityStatus\n          isHiddenForUsers\n            hasActiveReports\n            user {\n                id\n                username\n                slug\n                img\n                isfollowed\n                isfollowing\n                isfriend\n                visibilityStatus\n          isHiddenForUsers\n                hasActiveReports\n            }\n        }\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Report restored comment (fail)",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"32104\");",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"error\"');",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "mutation ReportComment {\n    reportComment(\n        commentid: \"{{commentid}}\"\n    ) {\n        status\n        RequestId\n        ResponseCode\n        ResponseMessage\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Report restored post (fail)",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"32104\");",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"error\"');",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "mutation ResolveActionPost {\n    resolvePostAction(\n        postid: \"{{postid}}\"\n        action: REPORT\n    ) {\n        status\n        RequestId\n        ResponseCode\n        ResponseMessage\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Report restored tester 2 (fail)",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"32104\");",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"error\"');",
							"});",
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "mutation ReportUser {\n    reportUser(userid: \"{{w_userid_t2}}\") {\n        status\n        RequestId\n        ResponseCode\n        ResponseMessage\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Create post",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    const responseText = pm.response.text();",
							"    pm.expect(",
							"        responseText.includes(\"11513\") || responseText.includes(\"11508\")",
							"    ).to.be.true;",
							"});",
							"",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"let postResponse = {};",
							"try {",
							"    postResponse = pm.response.json();",
							"} catch (err) {",
							"    console.log(\"Failed to parse response as JSON:\", err);",
							"}",
							"",
							"if (!pm.response.text().includes(\"error\")) {",
							"    try {",
							"        const postId = postResponse?.data?.createPost?.affectedRows?.id;",
							"        if (postId) {",
							"            pm.environment.set(\"postid\", postId);",
							"            console.log(\"postid set to:\", postId);",
							"        } else {",
							"            console.log(\"No postid found in response.\");",
							"        }",
							"    } catch (err) {",
							"        console.log(\"Couldn't access post ID:\", err);",
							"    }",
							"} else {",
							"    console.log(\"Error detected in response, skipping postid set.\");",
							"}",
							"",
							"let postResponseCode = \"\";",
							"try {",
							"    postResponseCode = postResponse?.data?.createPost?.ResponseCode || \"\";",
							"} catch (err) {",
							"    console.log(\"Couldn't access ResponseCode:\", err);",
							"}",
							"",
							"if (postResponseCode === \"11513\") {",
							"    pm.environment.set(\"isDailyFreePost\", \"true\");",
							"    console.log(\"This was a Daily Free Post (code 11513).\");",
							"} else {",
							"    pm.environment.unset(\"isDailyFreePost\");",
							"    console.log(\"Not a Daily Free Post (code not 11513).\");",
							"}"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "mutation CreatePost {\n    createPost(\n        input: {\n            title: \"moderation_post2\"\n            media: [\"{{new_profile_pic}}\"]\n            mediadescription: \"{{invalid_email}}\"\n            contenttype: image\n        }\n        action: POST  \n    ) {\n        meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n        affectedRows {\n            id\n            contenttype\n            title\n            media\n            cover\n            mediadescription\n            createdat\n            amountlikes\n            amountviews\n            amountcomments\n            amountdislikes\n            amounttrending\n            isliked\n            isviewed\n            isreported\n            isdisliked\n            issaved\n            tags\n        }\n         \n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Create comment",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"let commentResponse = {};",
							"try {",
							"    commentResponse = pm.response.json();",
							"} catch (e) {",
							"    console.log(\"Failed to parse JSON:\", e);",
							"}",
							"",
							"let commentResponseCode = \"\";",
							"let status = \"\";",
							"",
							"try {",
							"    status = commentResponse?.data?.createComment?.meta?.status || \"\";",
							"    commentResponseCode = commentResponse?.data?.createComment?.meta?.ResponseCode || \"\";",
							"} catch (e) {",
							"    console.log(\"Error accessing response properties:\", e);",
							"}",
							"",
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect([\"11605\", \"11608\"]).to.include(commentResponseCode);",
							"});",
							"",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(status).to.eql(\"success\");",
							"});",
							"",
							"if (commentResponseCode === \"11608\") {",
							"    pm.environment.set(\"isDailyFreeComment\", \"true\");",
							"    console.log(\"This was a Daily Free Comment.\");",
							"} else {",
							"    pm.environment.unset(\"isDailyFreeComment\");",
							"    console.log(\"Not a Daily Free Comment.\");",
							"}",
							"let response = {};",
							"try {",
							"    response = pm.response.json();",
							"} catch (err) {",
							"    console.log(\"Failed to parse JSON:\", err);",
							"}",
							"if (!pm.response.text().includes(\"error\")) {",
							"    try {",
							"        const commentId = response?.data?.createComment?.affectedRows?.[0]?.commentid;",
							"        if (commentId) {",
							"            pm.environment.set(\"commentid\", commentId);",
							"            console.log(\"commentid set to:\", commentId);",
							"        } else {",
							"            console.log(\"No commentid found in response.\");",
							"        }",
							"    } catch (err) {",
							"        console.log(\"Error extracting commentid:\", err);",
							"    }",
							"} else {",
							"    console.log(\"Error detected in response, skipping commentid set.\");",
							"}"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "mutation createComment {\n    createComment(action: COMMENT, postid: \"{{postid}}\", content: \"moderation_comment2\") {\n        meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n        affectedRows {\n            commentid\n        }\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Login tester 1",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"10801\");",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"let response = pm.response.json();",
							"if (!pm.response.text().includes(\"error\")) {",
							"    pm.environment.set(\"accessToken\", response.data.login.accessToken);",
							"} else {",
							"    console.log(\"Error detected in response, environment variable not set.\");",
							"}",
							"if (!pm.response.text().includes(\"error\")) {",
							"    pm.environment.set(\"refreshToken\", response.data.login.refreshToken);",
							"} else {",
							"    console.log(\"Error detected in response, environment variable not set.\");",
							"}",
							"let token = pm.environment.get(\"accessToken\");",
							"pm.test(\"Access token exists\", function () {",
							"    pm.expect(token).to.be.a(\"string\");",
							"});",
							"",
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "noauth"
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "mutation {\n  login(email: \"{{w_email_t1}}\",\n    password: \"{{w_password_t1}}\"\n  ) {\n    meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n    accessToken\n    refreshToken\n  }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Report comment",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11604\");",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});"
						],
						"type": "text/javascript",
						"packages": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "mutation ReportComment {\n    reportComment(\n        commentid: \"{{commentid}}\"\n    ) {\n        status\n        RequestId\n        ResponseCode\n        ResponseMessage\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Report post",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11505\");",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});"
						],
						"type": "text/javascript",
						"packages": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							""
						],
						"type": "text/javascript",
						"packages": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "mutation ResolveActionPost {\n    resolvePostAction(\n        postid: \"{{postid}}\"\n        action: REPORT\n    ) {\n        status\n        RequestId\n        ResponseCode\n        ResponseMessage\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Report adv post",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11505\");",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "mutation ResolveActionPost {\n    resolvePostAction(\n        postid: \"{{existing_postid}}\"\n        action: REPORT\n    ) {\n        status\n        RequestId\n        ResponseCode\n        ResponseMessage\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Report adv post 2",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11505\");",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "mutation ResolveActionPost {\n    resolvePostAction(\n        postid: \"{{existing_postid_2}}\"\n        action: REPORT\n    ) {\n        status\n        RequestId\n        ResponseCode\n        ResponseMessage\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Report t6",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11012\");",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "mutation ReportUser {\n    reportUser(userid: \"{{userid_t6}}\") {\n        status\n        RequestId\n        ResponseCode\n        ResponseMessage\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Moderation items",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"12102\");",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"pm.test(\"Save moderationTicketIds by env IDs\", function () {",
							"    const r = pm.response.json();",
							"    const items = r.data?.moderationItems?.affectedRows || [];",
							"",
							"    const postId = pm.environment.get(\"postid\");",
							"    const commentId = pm.environment.get(\"commentid\");",
							"    const exPost1 = pm.environment.get(\"existing_postid\");",
							"    const exPost2 = pm.environment.get(\"existing_postid_2\");",
							"    const u2 = pm.environment.get(\"w_userid_t2\");",
							"    const u3 = pm.environment.get(\"w_userid_t3\");",
							"    const u6 = pm.environment.get(\"userid_t6\");",
							"",
							"    if (!postId || !commentId || !exPost1 || !exPost2 || !u2 || !u3 || !u6) throw new Error(\"Missing envs\");",
							"",
							"    let foundPost2 = false;",
							"    let foundComment2 = false;",
							"    let foundAdvPost1 = false;",
							"    let foundAdvPost2 = false;",
							"    let foundT02 = false;",
							"    let foundT03 = false;",
							"    let foundT06 = false;",
							"",
							"    items.forEach(i => {",
							"        const t = i.targettype;",
							"        const id = i.moderationTicketId;",
							"        if (!id) return;",
							"",
							"        if (t === \"post\" && i.targetcontent?.post?.id === postId) {",
							"            pm.environment.set(\"moderationTicketIdPost2\", id);",
							"            foundPost2 = true;",
							"        }",
							"",
							"        if (t === \"comment\" && i.targetcontent?.comment?.commentid === commentId) {",
							"            pm.environment.set(\"moderationTicketIdComment2\", id);",
							"            foundComment2 = true;",
							"        }",
							"",
							"        if (t === \"post\" && i.targetcontent?.post?.id === exPost1) {",
							"            pm.environment.set(\"moderationTicketIdAdvPost\", id);",
							"            foundAdvPost1 = true;",
							"        }",
							"",
							"        if (t === \"post\" && i.targetcontent?.post?.id === exPost2) {",
							"            pm.environment.set(\"moderationTicketIdAdvPost2\", id);",
							"            foundAdvPost2 = true;",
							"        }",
							"",
							"        if (t === \"user\") {",
							"            const uid = i.targetcontent?.user?.userid;",
							"            if (uid === u2) { pm.environment.set(\"moderationTicketIdT02\", id); foundT02 = true; }",
							"            if (uid === u3) { pm.environment.set(\"moderationTicketIdT03\", id); foundT03 = true; }",
							"            if (uid === u6) { pm.environment.set(\"moderationTicketIdt6\", id); foundT06 = true; }",
							"        }",
							"    });",
							"",
							"    if (!foundPost2) throw new Error(\"postid not found in moderationItems\");",
							"    if (!foundComment2) throw new Error(\"commentid not found in moderationItems\");",
							"    if (!foundAdvPost1) throw new Error(\"existing_postid not found\");",
							"    if (!foundAdvPost2) throw new Error(\"existing_postid_2 not found\");",
							"    if (!foundT02) throw new Error(\"userid_t2 not found\");",
							"    if (!foundT03) throw new Error(\"userid_t3 not found\");",
							"    if (!foundT06) throw new Error(\"userid_t6 not found\");",
							"});",
							"",
							"pm.test(\"Check statuses by env IDs\", function () {",
							"    const response = pm.response.json();",
							"    const items = response.data?.moderationItems?.affectedRows || [];",
							"",
							"    const postIdEnv = pm.environment.get(\"postid\");",
							"    const commentIdEnv = pm.environment.get(\"commentid\");",
							"    const userIdT2 = pm.environment.get(\"w_userid_t2\");",
							"    const userIdT3 = pm.environment.get(\"w_userid_t3\");",
							"",
							"    items.forEach(item => {",
							"        const type = item.targettype;",
							"        const id = item.moderationTicketId;",
							"",
							"        if (type === \"post\" && item.targetcontent?.post?.id === postIdEnv) {",
							"            pm.expect(item.status, `Post ${postIdEnv} status`).to.eql(\"waiting_for_review\");",
							"        } else if (type === \"comment\" && item.targetcontent?.comment?.commentid === commentIdEnv) {",
							"            pm.expect(item.status, `Comment ${commentIdEnv} status`).to.eql(\"waiting_for_review\");",
							"        } else if (type === \"user\") {",
							"            const userId = item.targetcontent?.user?.userid;",
							"            if (userId === userIdT2) {",
							"                pm.expect(item.status, `User ${userIdT2} status`).to.eql(\"restored\");",
							"            } else if (userId === userIdT3) {",
							"                pm.expect(item.status, `User ${userIdT3} status`).to.eql(\"hidden\");",
							"            }",
							"        }",
							"    });",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "query ModerationItems {\n    moderationItems {\n        meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n        affectedRows {\n            targetContentId\n            moderationTicketId\n            targettype\n            reportscount\n            status\n            createdat\n            targetcontent {\n                post {\n                    id\n                    contenttype\n                    title\n                    media\n                    cover\n                    mediadescription\n                    createdat\n                    amountreports\n                    amountlikes\n                    amountviews\n                    amountcomments\n                    amountdislikes\n                    amounttrending\n                    isliked\n                    isviewed\n                    isreported\n                    isdisliked\n                    issaved\n                    tags\n                    url\n                    user {\n                        id\n                        username\n                        slug\n                        img\n                        isfollowed\n                        isfollowing\n                        isfriend\n                    }\n                    comments {\n                        commentid\n                        userid\n                        postid\n                        parentid\n                        content\n                        createdat\n                        amountlikes\n                        amountreplies\n                        amountreports\n                        isliked\n                        user {\n                            id\n                            username\n                            slug\n                            img\n                            isfollowed\n                            isfollowing\n                            isfriend\n                        }\n                    }\n                }\n                comment {\n                    commentid\n                    userid\n                    postid\n                    parentid\n                    content\n                    createdat\n                    amountlikes\n                    amountreplies\n                    amountreports\n                    isliked\n                    user {\n                        id\n                        username\n                        slug\n                        img\n                        isfollowed\n                        isfollowing\n                        isfriend\n                    }\n                }\n                user {\n                    userid\n                    img\n                    username\n                    slug\n                    biography\n                    updatedat\n                }\n            }\n            reporters {\n                userid\n                img\n                username\n                slug\n                biography\n                updatedat\n            }\n        }\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Moderation stats",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"12101\");",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"const res = pm.response.json();",
							"const stats = res?.data?.moderationStats?.affectedRows;",
							"",
							"pm.test(\"Moderation stats match expected values\", function () {",
							"    pm.expect(stats.AmountAwaitingReview).to.eql(5);",
							"    pm.expect(stats.AmountHidden).to.eql(1);",
							"    pm.expect(stats.AmountRestored).to.eql(3);",
							"    pm.expect(stats.AmountIllegal).to.eql(0);",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "query ModerationStats {\n    moderationStats {\n        meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n        affectedRows {\n            AmountAwaitingReview\n            AmountHidden\n            AmountRestored\n            AmountIllegal\n        }\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Moderate hidden add",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"12103\");",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "mutation PerformModeration {\n    performModeration(moderationTicketId: \"{{moderationTicketIdAdvPost}}\", moderationAction: hidden) {\n        status\n        RequestId\n        ResponseCode\n        ResponseMessage\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Moderate illegal add",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"12103\");",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "mutation PerformModeration {\n    performModeration(moderationTicketId: \"{{moderationTicketIdAdvPost2}}\", moderationAction: illegal) {\n        status\n        RequestId\n        ResponseCode\n        ResponseMessage\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Login t5",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"10801\");",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"let response = pm.response.json();",
							"if (!pm.response.text().includes(\"error\")) {",
							"    pm.environment.set(\"accessToken\", response.data.login.accessToken);",
							"} else {",
							"    console.log(\"Error detected in response, environment variable not set.\");",
							"}",
							"if (!pm.response.text().includes(\"error\")) {",
							"    pm.environment.set(\"refreshToken\", response.data.login.refreshToken);",
							"} else {",
							"    console.log(\"Error detected in response, environment variable not set.\");",
							"}",
							"let token = pm.environment.get(\"accessToken\");",
							"pm.test(\"Access token exists\", function () {",
							"    pm.expect(token).to.be.a(\"string\");",
							"});",
							"",
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "mutation Login {\n  login(email: \"{{email_t5}}\",\n    password: \"{{password_T}}\"\n  ) {\n    meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n    accessToken\n    refreshToken\n  }\n}",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Report moderated hidden post (fail)",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"32102\");",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"error\"');",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "mutation ResolveActionPost {\n    resolvePostAction(\n        postid: \"{{existing_postid}}\"\n        action: REPORT\n    ) {\n        status\n        RequestId\n        ResponseCode\n        ResponseMessage\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Report moderated illegal post (fail)",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is 32102 or 31513\", function () {",
							"    const body = pm.response.text();",
							"    pm.expect(",
							"        body.includes(\"32102\") || body.includes(\"31513\"),",
							"        \"Expected ResponseCode to be 32102 or 31513\"",
							"    ).to.be.true;",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"error\"');",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "mutation ResolveActionPost {\n    resolvePostAction(\n        postid: \"{{existing_postid_2}}\"\n        action: REPORT\n    ) {\n        status\n        RequestId\n        ResponseCode\n        ResponseMessage\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Confirm listAdPost is placeholdered (postid)",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11501\");",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"pm.test(\"Post with existing_postid has correct moderation data\", function () {",
							"    const response = pm.response.json();",
							"    const items = response.data?.listAdvertisementPosts?.affectedRows || [];",
							"    const expectedPostId = pm.environment.get(\"existing_postid\");",
							"",
							"    if (!expectedPostId) {",
							"        throw new Error(\"Environment variable 'existing_postid' is not set.\");",
							"    }",
							"",
							"    const found = items.find(i => i.post?.id === expectedPostId);",
							"",
							"    if (!found) {",
							"        throw new Error(`Advertisement post with ID ${expectedPostId} not found.`);",
							"    }",
							"",
							"    pm.expect(found.post.visibilityStatus, `Post ${expectedPostId} visibilityStatus`).to.eql(\"HIDDEN\");",
							"    pm.expect(found.post.hasActiveReports, `Post ${expectedPostId} hasActiveReports`).to.eql(false);",
							"    pm.expect(found.post.isHiddenForUsers, `Post ${expectedPostId} isHiddenForUsers`).to.eql(true);",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "query ListAdvertisementPosts {\n    listAdvertisementPosts(postid: \"{{existing_postid}}\", contentFilterBy: MYGRANDMALIKES) {\n        counter\n        meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n        affectedRows {\n            post {\n                id\n                contenttype\n                title\n                media\n                cover\n                mediadescription\n                createdat\n                visibilityStatus\n          isHiddenForUsers\n                hasActiveReports\n                amountreports\n                amountlikes\n                amountviews\n                amountcomments\n                amountdislikes\n                amounttrending\n                isliked\n                isviewed\n                isreported\n                isdisliked\n                issaved\n                tags\n                url\n                user {\n                    id\n                    username\n                    slug\n                    img\n                    visibilityStatus\n          isHiddenForUsers\n                    hasActiveReports\n                    isfollowed\n                    isfollowing\n                    isfriend\n                }\n                comments {\n                    commentid\n                    userid\n                    postid\n                    parentid\n                    content\n                    createdat\n                    visibilityStatus\n          isHiddenForUsers\n                    hasActiveReports\n                    amountlikes\n                    amountreplies\n                    amountreports\n                    isliked\n                    user {\n                        id\n                        username\n                        slug\n                        img\n                        visibilityStatus\n          isHiddenForUsers\n                        hasActiveReports\n                        isfollowed\n                        isfollowing\n                        isfriend\n                    }\n                }\n            }\n            advertisement {\n                advertisementid\n                postid\n                advertisementtype\n                startdate\n                enddate\n                createdat\n                user {\n                    id\n                    username\n                    slug\n                    img\n                    visibilityStatus\n          isHiddenForUsers\n                    hasActiveReports\n                    isfollowed\n                    isfollowing\n                    isfriend\n                }\n            }\n        }\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Confirm listAdPost is placeholdered (postid)",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11501\");",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"pm.test(\"Post with existing_postid_2 has correct moderation data\", function () {",
							"    const response = pm.response.json();",
							"    const items = response.data?.listAdvertisementPosts?.affectedRows || [];",
							"    const expectedPostId = pm.environment.get(\"existing_postid_2\");",
							"",
							"    if (!expectedPostId) {",
							"        throw new Error(\"Environment variable 'existing_postid_2' is not set.\");",
							"    }",
							"",
							"    const found = items.find(i => i.post?.id === expectedPostId);",
							"",
							"    if (!found) {",
							"        throw new Error(`Advertisement post with ID ${expectedPostId} not found.`);",
							"    }",
							"",
							"    pm.expect(found.post.title, `Post ${expectedPostId} title`).to.eql(\"this post is illegal\");",
							"    pm.expect(found.post.visibilityStatus, `Post ${expectedPostId} visibilityStatus`).to.eql(\"ILLEGAL\");",
							"    pm.expect(found.post.hasActiveReports, `Post ${expectedPostId} hasActiveReports`).to.eql(false);",
							"    pm.expect(found.post.isHiddenForUsers, `Post ${expectedPostId} isHiddenForUsers`).to.eql(false);",
							"});",
							"",
							"pm.test(\"User w_userid_t3 has correct moderation data\", function () {",
							"    const response = pm.response.json();",
							"    const rows = response.data?.listAdvertisementPosts?.affectedRows || [];",
							"    const userIdT3 = pm.environment.get(\"w_userid_t3\");",
							"",
							"    if (!userIdT3) {",
							"        throw new Error(\"Env var w_userid_t3 is not set\");",
							"    }",
							"",
							"    let found = false;",
							"",
							"    rows.forEach(row => {",
							"        const user = row?.post?.user;",
							"        if (user?.id === userIdT3) {",
							"            found = true;",
							"            pm.expect(user.visibilityStatus).to.eql(\"HIDDEN\");",
							"            pm.expect(user.hasActiveReports).to.eql(false);",
							"            pm.expect(user.isHiddenForUsers).to.eql(true);",
							"        }",
							"    });",
							"",
							"    if (!found) {",
							"        throw new Error(`User with ID ${userIdT3} not found in listAdvertisementPosts`);",
							"    }",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "query ListAdvertisementPosts {\n    listAdvertisementPosts(postid: \"{{existing_postid_2}}\", contentFilterBy: MYGRANDMALIKES) {\n        counter\n        meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n        affectedRows {\n            post {\n                id\n                contenttype\n                title\n                media\n                cover\n                mediadescription\n                createdat\n                visibilityStatus\n          isHiddenForUsers\n                hasActiveReports\n                amountreports\n                amountlikes\n                amountviews\n                amountcomments\n                amountdislikes\n                amounttrending\n                isliked\n                isviewed\n                isreported\n                isdisliked\n                issaved\n                tags\n                url\n                user {\n                    id\n                    username\n                    slug\n                    img\n                    visibilityStatus\n          isHiddenForUsers\n                    hasActiveReports\n                    isfollowed\n                    isfollowing\n                    isfriend\n                }\n                comments {\n                    commentid\n                    userid\n                    postid\n                    parentid\n                    content\n                    createdat\n                    visibilityStatus\n          isHiddenForUsers\n                    hasActiveReports\n                    amountlikes\n                    amountreplies\n                    amountreports\n                    isliked\n                    user {\n                        id\n                        username\n                        slug\n                        img\n                        visibilityStatus\n          isHiddenForUsers\n                        hasActiveReports\n                        isfollowed\n                        isfollowing\n                        isfriend\n                    }\n                }\n            }\n            advertisement {\n                advertisementid\n                postid\n                advertisementtype\n                startdate\n                enddate\n                createdat\n                user {\n                    id\n                    username\n                    slug\n                    img\n                    visibilityStatus\n          isHiddenForUsers\n                    hasActiveReports\n                    isfollowed\n                    isfollowing\n                    isfriend\n                }\n            }\n        }\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Confirm listAdPost doesnt show (feed)",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11501\");",
							"});",
							"",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"pm.test(\"Counter is 2\", function () {",
							"    const json = pm.response.json();",
							"    pm.expect(json.data.listAdvertisementPosts.counter).to.eql(2);",
							"});",
							"",
							"pm.test(\"Posts are not in listAdvertisementPosts\", function () {",
							"    const body = pm.response.text();",
							"    const id1 = pm.environment.get(\"existing_postid\");",
							"    const id2 = pm.environment.get(\"existing_postid_2\");",
							"",
							"    if (!id1 || !id2) {",
							"        throw new Error(\"Environment variables existing_postid or existing_postid_2 are not set.\");",
							"    }",
							"",
							"    pm.expect(body).not.to.include(id1);",
							"    pm.expect(body).not.to.include(id2);",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "query ListAdvertisementPosts {\n    listAdvertisementPosts(limit:20, contentFilterBy: MYGRANDMALIKES) {\n        counter\n        meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n        affectedRows {\n            post {\n                id\n                contenttype\n                title\n                media\n                cover\n                mediadescription\n                createdat\n                visibilityStatus\n          isHiddenForUsers\n                hasActiveReports\n                amountreports\n                amountlikes\n                amountviews\n                amountcomments\n                amountdislikes\n                amounttrending\n                isliked\n                isviewed\n                isreported\n                isdisliked\n                issaved\n                tags\n                url\n                user {\n                    id\n                    username\n                    slug\n                    img\n                    visibilityStatus\n          isHiddenForUsers\n                    hasActiveReports\n                    isfollowed\n                    isfollowing\n                    isfriend\n                }\n                comments {\n                    commentid\n                    userid\n                    postid\n                    parentid\n                    content\n                    createdat\n                    visibilityStatus\n          isHiddenForUsers\n                    hasActiveReports\n                    amountlikes\n                    amountreplies\n                    amountreports\n                    isliked\n                    user {\n                        id\n                        username\n                        slug\n                        img\n                        visibilityStatus\n          isHiddenForUsers\n                        hasActiveReports\n                        isfollowed\n                        isfollowing\n                        isfriend\n                    }\n                }\n            }\n            advertisement {\n                advertisementid\n                postid\n                advertisementtype\n                startdate\n                enddate\n                createdat\n                user {\n                    id\n                    username\n                    slug\n                    img\n                    visibilityStatus\n          isHiddenForUsers\n                    hasActiveReports\n                    isfollowed\n                    isfollowing\n                    isfriend\n                }\n            }\n        }\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Confirm listAdPost is placeholdered (profile)",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11501\");",
							"});",
							"",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"pm.test(\"Post with existing_postid has correct moderation data\", function () {",
							"    const response = pm.response.json();",
							"    const items = response.data?.listAdvertisementPosts?.affectedRows || [];",
							"    const expectedPostId = pm.environment.get(\"existing_postid\");",
							"",
							"    if (!expectedPostId) {",
							"        throw new Error(\"Environment variable 'existing_postid' is not set.\");",
							"    }",
							"",
							"    const found = items.find(i => i.post?.id === expectedPostId);",
							"",
							"    if (!found) {",
							"        throw new Error(`Advertisement post with ID ${expectedPostId} not found.`);",
							"    }",
							"",
							"    pm.expect(found.post.visibilityStatus, `Post ${expectedPostId} visibilityStatus`).to.eql(\"HIDDEN\");",
							"    pm.expect(found.post.hasActiveReports, `Post ${expectedPostId} hasActiveReports`).to.eql(false);",
							"    pm.expect(found.post.isHiddenForUsers, `Post ${expectedPostId} isHiddenForUsers`).to.eql(true);",
							"});",
							"",
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "query ListAdvertisementPosts {\n    listAdvertisementPosts(userid: \"{{w_userid_t2}}\", contentFilterBy: MYGRANDMALIKES) {\n        counter\n        meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n        affectedRows {\n            post {\n                id\n                contenttype\n                title\n                media\n                cover\n                mediadescription\n                createdat\n                visibilityStatus\n          isHiddenForUsers\n                hasActiveReports\n                amountreports\n                amountlikes\n                amountviews\n                amountcomments\n                amountdislikes\n                amounttrending\n                isliked\n                isviewed\n                isreported\n                isdisliked\n                issaved\n                tags\n                url\n                user {\n                    id\n                    username\n                    slug\n                    img\n                    visibilityStatus\n          isHiddenForUsers\n                    hasActiveReports\n                    isfollowed\n                    isfollowing\n                    isfriend\n                }\n                comments {\n                    commentid\n                    userid\n                    postid\n                    parentid\n                    content\n                    createdat\n                    visibilityStatus\n          isHiddenForUsers\n                    hasActiveReports\n                    amountlikes\n                    amountreplies\n                    amountreports\n                    isliked\n                    user {\n                        id\n                        username\n                        slug\n                        img\n                        visibilityStatus\n          isHiddenForUsers\n                        hasActiveReports\n                        isfollowed\n                        isfollowing\n                        isfriend\n                    }\n                }\n            }\n            advertisement {\n                advertisementid\n                postid\n                advertisementtype\n                startdate\n                enddate\n                createdat\n                user {\n                    id\n                    username\n                    slug\n                    img\n                    visibilityStatus\n          isHiddenForUsers\n                    hasActiveReports\n                    isfollowed\n                    isfollowing\n                    isfriend\n                }\n            }\n        }\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Confirm listAdPost is placeholdered (profile)",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11501\");",
							"});",
							"",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"pm.test(\"Post with existing_postid_2 has correct moderation data\", function () {",
							"    const response = pm.response.json();",
							"    const items = response.data?.listAdvertisementPosts?.affectedRows || [];",
							"    const expectedPostId = pm.environment.get(\"existing_postid_2\");",
							"",
							"    if (!expectedPostId) {",
							"        throw new Error(\"Environment variable 'existing_postid_2' is not set.\");",
							"    }",
							"",
							"    const found = items.find(i => i.post?.id === expectedPostId);",
							"",
							"    if (!found) {",
							"        throw new Error(`Advertisement post with ID ${expectedPostId} not found.`);",
							"    }",
							"",
							"    pm.expect(found.post.title, `Post ${expectedPostId} title`).to.eql(\"this post is illegal\");",
							"    pm.expect(found.post.visibilityStatus, `Post ${expectedPostId} visibilityStatus`).to.eql(\"ILLEGAL\");",
							"    pm.expect(found.post.hasActiveReports, `Post ${expectedPostId} hasActiveReports`).to.eql(false);",
							"    pm.expect(found.post.isHiddenForUsers, `Post ${expectedPostId} isHiddenForUsers`).to.eql(false);",
							"});",
							"",
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "query ListAdvertisementPosts {\n    listAdvertisementPosts(userid: \"{{w_userid_t3}}\", contentFilterBy: MYGRANDMALIKES) {\n        counter\n        meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n        affectedRows {\n            post {\n                id\n                contenttype\n                title\n                media\n                cover\n                mediadescription\n                createdat\n                visibilityStatus\n          isHiddenForUsers\n                hasActiveReports\n                amountreports\n                amountlikes\n                amountviews\n                amountcomments\n                amountdislikes\n                amounttrending\n                isliked\n                isviewed\n                isreported\n                isdisliked\n                issaved\n                tags\n                url\n                user {\n                    id\n                    username\n                    slug\n                    img\n                    visibilityStatus\n          isHiddenForUsers\n                    hasActiveReports\n                    isfollowed\n                    isfollowing\n                    isfriend\n                }\n                comments {\n                    commentid\n                    userid\n                    postid\n                    parentid\n                    content\n                    createdat\n                    visibilityStatus\n          isHiddenForUsers\n                    hasActiveReports\n                    amountlikes\n                    amountreplies\n                    amountreports\n                    isliked\n                    user {\n                        id\n                        username\n                        slug\n                        img\n                        visibilityStatus\n          isHiddenForUsers\n                        hasActiveReports\n                        isfollowed\n                        isfollowing\n                        isfriend\n                    }\n                }\n            }\n            advertisement {\n                advertisementid\n                postid\n                advertisementtype\n                startdate\n                enddate\n                createdat\n                user {\n                    id\n                    username\n                    slug\n                    img\n                    visibilityStatus\n          isHiddenForUsers\n                    hasActiveReports\n                    isfollowed\n                    isfollowing\n                    isfriend\n                }\n            }\n        }\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Guest list post",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11501\");",
							"});",
							"",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"pm.test(\"Post has correct moderation data\", function () {",
							"    const response = pm.response.json();",
							"    const post = response.data?.guestListPost?.affectedRows;",
							"    const expectedPostId = pm.environment.get(\"existing_postid\");",
							"",
							"    if (!expectedPostId) {",
							"        throw new Error(\"Environment variable 'existing_postid' is not set.\");",
							"    }",
							"",
							"    if (!post || post.id !== expectedPostId) {",
							"        throw new Error(`Guest list post with ID ${expectedPostId} not found.`);",
							"    }",
							"",
							"    pm.expect(post.visibilityStatus, `Post ${expectedPostId} visibilityStatus`).to.eql(\"NORMAL\");",
							"    pm.expect(post.hasActiveReports, `Post ${expectedPostId} hasActiveReports`).to.eql(false);",
							"    pm.expect(post.isHiddenForUsers, `Post ${expectedPostId} isHiddenForUsers`).to.eql(true);",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "noauth"
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "query GuestListPost {\n    guestListPost(postid: \"{{existing_postid}}\") {\n        meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n        affectedRows {\n            id\n            contenttype\n            title\n            media\n            cover\n            mediadescription\n            createdat\n            visibilityStatus\n          isHiddenForUsers\n            hasActiveReports\n            amountreports\n            amountlikes\n            amountviews\n            amountcomments\n            amountdislikes\n            amounttrending\n            isliked\n            isviewed\n            isreported\n            isdisliked\n            issaved\n            tags\n            url\n            user {\n                id\n                username\n                slug\n                img\n                visibilityStatus\n          isHiddenForUsers\n                hasActiveReports\n                isfollowed\n                isfollowing\n                isfriend\n            }\n            comments {\n                commentid\n                userid\n                postid\n                parentid\n                content\n                createdat\n                visibilityStatus\n          isHiddenForUsers\n                hasActiveReports\n                amountlikes\n                amountreplies\n                amountreports\n                isliked\n                user {\n                    id\n                    username\n                    slug\n                    img\n                    visibilityStatus\n          isHiddenForUsers\n                    hasActiveReports\n                    isfollowed\n                    isfollowing\n                    isfriend\n                }\n            }\n        }\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Guest list post",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11501\");",
							"});",
							"",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"pm.test(\"Post with existing_postid_2 has correct moderation data\", function () {",
							"    const response = pm.response.json();",
							"    const post = response.data?.guestListPost?.affectedRows;",
							"    const expectedPostId = pm.environment.get(\"existing_postid_2\");",
							"",
							"    if (!expectedPostId) {",
							"        throw new Error(\"Environment variable 'existing_postid_2' is not set.\");",
							"    }",
							"",
							"    if (!post || post.id !== expectedPostId) {",
							"        throw new Error(`Guest list post with ID ${expectedPostId} not found.`);",
							"    }",
							"",
							"    pm.expect(post.title, `Post ${expectedPostId} title`).to.eql(\"this post is illegal\");",
							"    pm.expect(post.visibilityStatus, `Post ${expectedPostId} visibilityStatus`).to.eql(\"ILLEGAL\");",
							"    pm.expect(post.hasActiveReports, `Post ${expectedPostId} hasActiveReports`).to.eql(false);",
							"    pm.expect(post.isHiddenForUsers, `Post ${expectedPostId} isHiddenForUsers`).to.eql(false);",
							"});",
							"",
							"pm.test(\"User w_userid_3 has correct moderation data\", function () {",
							"    const response = pm.response.json();",
							"    const post = response.data?.guestListPost?.affectedRows;",
							"    const userIdT3 = pm.environment.get(\"w_userid_t3\");",
							"",
							"    if (!userIdT3) {",
							"        throw new Error(\"Environment variable 'w_userid_t3' is not set.\");",
							"    }",
							"",
							"    const user = post?.user;",
							"    if (!user || user.id !== userIdT3) {",
							"        throw new Error(`User with ID ${userIdT3} not found in guestListPost`);",
							"    }",
							"",
							"    pm.expect(user.username).to.eql(\"tester03\");",
							"    pm.expect(user.visibilityStatus).to.eql(\"NORMAL\");",
							"    pm.expect(user.hasActiveReports).to.eql(false);",
							"    pm.expect(user.isHiddenForUsers).to.eql(true);",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "noauth"
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "query GuestListPost {\n    guestListPost(postid: \"{{existing_postid_2}}\") {\n        meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n        affectedRows {\n            id\n            contenttype\n            title\n            media\n            cover\n            mediadescription\n            createdat\n            visibilityStatus\n          isHiddenForUsers\n            hasActiveReports\n            amountreports\n            amountlikes\n            amountviews\n            amountcomments\n            amountdislikes\n            amounttrending\n            isliked\n            isviewed\n            isreported\n            isdisliked\n            issaved\n            tags\n            url\n            user {\n                id\n                username\n                slug\n                img\n                visibilityStatus\n          isHiddenForUsers\n                hasActiveReports\n                isfollowed\n                isfollowing\n                isfriend\n            }\n            comments {\n                commentid\n                userid\n                postid\n                parentid\n                content\n                createdat\n                visibilityStatus\n          isHiddenForUsers\n                hasActiveReports\n                amountlikes\n                amountreplies\n                amountreports\n                isliked\n                user {\n                    id\n                    username\n                    slug\n                    img\n                    visibilityStatus\n          isHiddenForUsers\n                    hasActiveReports\n                    isfollowed\n                    isfollowing\n                    isfriend\n                }\n            }\n        }\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Login tester 2",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"10801\");",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"let response = pm.response.json();",
							"if (!pm.response.text().includes(\"error\")) {",
							"    pm.environment.set(\"accessToken\", response.data.login.accessToken);",
							"} else {",
							"    console.log(\"Error detected in response, environment variable not set.\");",
							"}",
							"if (!pm.response.text().includes(\"error\")) {",
							"    pm.environment.set(\"refreshToken\", response.data.login.refreshToken);",
							"} else {",
							"    console.log(\"Error detected in response, environment variable not set.\");",
							"}",
							"let token = pm.environment.get(\"accessToken\");",
							"pm.test(\"Access token exists\", function () {",
							"    pm.expect(token).to.be.a(\"string\");",
							"});",
							"",
							""
						],
						"type": "text/javascript",
						"packages": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							""
						],
						"type": "text/javascript",
						"packages": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "noauth"
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "mutation {\n  login(email: \"{{w_email_t2}}\",\n    password: \"{{w_password_t2}}\"\n  ) {\n    meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n    accessToken\n    refreshToken\n  }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Unblock tester 3",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11106\");",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "mutation UserBlock {\n    toggleBlockUserStatus(userid: \"{{w_userid_t3}}\") {\n        status\n        RequestId\n        ResponseCode\n        ResponseMessage\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Confirm listAdPost (postid) shows urself",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11501\");",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"pm.test(\"Post has correct moderation data\", function () {",
							"    const response = pm.response.json();",
							"    const items = response.data?.listAdvertisementPosts?.affectedRows || [];",
							"    const expectedPostId = pm.environment.get(\"existing_postid\");",
							"",
							"    if (!expectedPostId) {",
							"        throw new Error(\"Environment variable 'existing_postid' is not set.\");",
							"    }",
							"",
							"    const found = items.find(i => i.post?.id === expectedPostId);",
							"",
							"    if (!found) {",
							"        throw new Error(`Advertisement post with ID ${expectedPostId} not found.`);",
							"    }",
							"",
							"    pm.expect(found.post.visibilityStatus, `Post ${expectedPostId} visibilityStatus`).to.eql(\"NORMAL\");",
							"    pm.expect(found.post.hasActiveReports, `Post ${expectedPostId} hasActiveReports`).to.eql(false);",
							"    pm.expect(found.post.isHiddenForUsers, `Post ${expectedPostId} isHiddenForUsers`).to.eql(true);",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "query ListAdvertisementPosts {\n    listAdvertisementPosts(postid: \"{{existing_postid}}\", contentFilterBy: MYGRANDMALIKES) {\n        counter\n        meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n        affectedRows {\n            post {\n                id\n                contenttype\n                title\n                media\n                cover\n                mediadescription\n                createdat\n                visibilityStatus\n          isHiddenForUsers\n                hasActiveReports\n                amountreports\n                amountlikes\n                amountviews\n                amountcomments\n                amountdislikes\n                amounttrending\n                isliked\n                isviewed\n                isreported\n                isdisliked\n                issaved\n                tags\n                url\n                user {\n                    id\n                    username\n                    slug\n                    img\n                    visibilityStatus\n          isHiddenForUsers\n                    hasActiveReports\n                    isfollowed\n                    isfollowing\n                    isfriend\n                }\n                comments {\n                    commentid\n                    userid\n                    postid\n                    parentid\n                    content\n                    createdat\n                    visibilityStatus\n          isHiddenForUsers\n                    hasActiveReports\n                    amountlikes\n                    amountreplies\n                    amountreports\n                    isliked\n                    user {\n                        id\n                        username\n                        slug\n                        img\n                        visibilityStatus\n          isHiddenForUsers\n                        hasActiveReports\n                        isfollowed\n                        isfollowing\n                        isfriend\n                    }\n                }\n            }\n            advertisement {\n                advertisementid\n                postid\n                advertisementtype\n                startdate\n                enddate\n                createdat\n                user {\n                    id\n                    username\n                    slug\n                    img\n                    visibilityStatus\n          isHiddenForUsers\n                    hasActiveReports\n                    isfollowed\n                    isfollowing\n                    isfriend\n                }\n            }\n        }\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Confirm listAdPost (feed) shows urself",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11501\");",
							"});",
							"",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"pm.test(\"Counter is 3\", function () {",
							"    const json = pm.response.json();",
							"    pm.expect(json.data.listAdvertisementPosts.counter).to.eql(3);",
							"});",
							"",
							"pm.test(\"Illegal post is not in listAdvertisementPosts but ur hidden there\", function () {",
							"    const body = pm.response.text();",
							"    const id1 = pm.environment.get(\"existing_postid\");",
							"    const id2 = pm.environment.get(\"existing_postid_2\");",
							"",
							"    if (!id1 || !id2) {",
							"        throw new Error(\"Environment variables existing_postid or existing_postid_2 are not set.\");",
							"    }",
							"",
							"    pm.expect(body).to.include(id1);",
							"    pm.expect(body).not.to.include(id2);",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "query ListAdvertisementPosts {\n    listAdvertisementPosts(limit:20, contentFilterBy: MYGRANDMALIKES) {\n        counter\n        meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n        affectedRows {\n            post {\n                id\n                contenttype\n                title\n                media\n                cover\n                mediadescription\n                createdat\n                visibilityStatus\n          isHiddenForUsers\n                hasActiveReports\n                amountreports\n                amountlikes\n                amountviews\n                amountcomments\n                amountdislikes\n                amounttrending\n                isliked\n                isviewed\n                isreported\n                isdisliked\n                issaved\n                tags\n                url\n                user {\n                    id\n                    username\n                    slug\n                    img\n                    visibilityStatus\n          isHiddenForUsers\n                    hasActiveReports\n                    isfollowed\n                    isfollowing\n                    isfriend\n                }\n                comments {\n                    commentid\n                    userid\n                    postid\n                    parentid\n                    content\n                    createdat\n                    visibilityStatus\n          isHiddenForUsers\n                    hasActiveReports\n                    amountlikes\n                    amountreplies\n                    amountreports\n                    isliked\n                    user {\n                        id\n                        username\n                        slug\n                        img\n                        visibilityStatus\n          isHiddenForUsers\n                        hasActiveReports\n                        isfollowed\n                        isfollowing\n                        isfriend\n                    }\n                }\n            }\n            advertisement {\n                advertisementid\n                postid\n                advertisementtype\n                startdate\n                enddate\n                createdat\n                user {\n                    id\n                    username\n                    slug\n                    img\n                    visibilityStatus\n          isHiddenForUsers\n                    hasActiveReports\n                    isfollowed\n                    isfollowing\n                    isfriend\n                }\n            }\n        }\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Confirm listAdPost (profile) shows urself",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11501\");",
							"});",
							"",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"pm.test(\"Post has correct moderation data\", function () {",
							"    const response = pm.response.json();",
							"    const items = response.data?.listAdvertisementPosts?.affectedRows || [];",
							"    const expectedPostId = pm.environment.get(\"existing_postid\");",
							"",
							"    if (!expectedPostId) {",
							"        throw new Error(\"Environment variable 'existing_postid' is not set.\");",
							"    }",
							"",
							"    const found = items.find(i => i.post?.id === expectedPostId);",
							"",
							"    if (!found) {",
							"        throw new Error(`Advertisement post with ID ${expectedPostId} not found.`);",
							"    }",
							"",
							"    pm.expect(found.post.visibilityStatus, `Post ${expectedPostId} visibilityStatus`).to.eql(\"NORMAL\");",
							"    pm.expect(found.post.hasActiveReports, `Post ${expectedPostId} hasActiveReports`).to.eql(false);",
							"    pm.expect(found.post.isHiddenForUsers, `Post ${expectedPostId} isHiddenForUsers`).to.eql(true);",
							"});",
							"",
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "query ListAdvertisementPosts {\n    listAdvertisementPosts(userid: \"{{w_userid_t2}}\", contentFilterBy: MYGRANDMALIKES) {\n        counter\n        meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n        affectedRows {\n            post {\n                id\n                contenttype\n                title\n                media\n                cover\n                mediadescription\n                createdat\n                visibilityStatus\n          isHiddenForUsers\n                hasActiveReports\n                amountreports\n                amountlikes\n                amountviews\n                amountcomments\n                amountdislikes\n                amounttrending\n                isliked\n                isviewed\n                isreported\n                isdisliked\n                issaved\n                tags\n                url\n                user {\n                    id\n                    username\n                    slug\n                    img\n                    visibilityStatus\n          isHiddenForUsers\n                    hasActiveReports\n                    isfollowed\n                    isfollowing\n                    isfriend\n                }\n                comments {\n                    commentid\n                    userid\n                    postid\n                    parentid\n                    content\n                    createdat\n                    visibilityStatus\n          isHiddenForUsers\n                    hasActiveReports\n                    amountlikes\n                    amountreplies\n                    amountreports\n                    isliked\n                    user {\n                        id\n                        username\n                        slug\n                        img\n                        visibilityStatus\n          isHiddenForUsers\n                        hasActiveReports\n                        isfollowed\n                        isfollowing\n                        isfriend\n                    }\n                }\n            }\n            advertisement {\n                advertisementid\n                postid\n                advertisementtype\n                startdate\n                enddate\n                createdat\n                user {\n                    id\n                    username\n                    slug\n                    img\n                    visibilityStatus\n          isHiddenForUsers\n                    hasActiveReports\n                    isfollowed\n                    isfollowing\n                    isfriend\n                }\n            }\n        }\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Create comment on illegal (fail)",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"31513\");",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"error\"');",
							"});",
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "mutation createComment {\n    createComment(action: COMMENT, postid: \"{{existing_postid_2}}\", content: \"moderation_comment\") {\n        meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n        affectedRows {\n            commentid\n        }\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Like illegal post (fail)",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"31513\");",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"error\"');",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "mutation ResolveActionPost {\n    resolvePostAction(postid:\"{{existing_postid_2}}\" , action: LIKE) {\n        status\n        RequestId\n        ResponseCode\n        ResponseMessage\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Dislike illegal post (fail)",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"31513\");",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"error\"');",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "mutation ResolveActionPost {\n    resolvePostAction(postid:\"{{existing_postid_2}}\" , action: DISLIKE) {\n        status\n        RequestId\n        ResponseCode\n        ResponseMessage\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "View illegal post (fail)",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"31513\");",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"error\"');",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "mutation ResolveActionPost {\n    resolvePostAction(\n        postid: \"{{existing_postid_2}}\"\n        action: VIEW\n    ) {\n        status\n        RequestId\n        ResponseCode\n        ResponseMessage\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Save illegal post (fail)",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"31513\");",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"error\"');",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "mutation ResolveActionPost {\n    resolvePostAction(\n        postid: \"{{existing_postid_2}}\"\n        action: SAVE\n    ) {\n        status\n        RequestId\n        ResponseCode\n        ResponseMessage\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Share illegal post (fail)",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"31513\");",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"error\"');",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "mutation ResolveActionPost {\n    resolvePostAction(\n        postid: \"{{existing_postid_2}}\"\n        action: SHARE\n    ) {\n        status\n        RequestId\n        ResponseCode\n        ResponseMessage\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Login tester 3",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"10801\");",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"let response = pm.response.json();",
							"if (!pm.response.text().includes(\"error\")) {",
							"    pm.environment.set(\"accessToken\", response.data.login.accessToken);",
							"} else {",
							"    console.log(\"Error detected in response, environment variable not set.\");",
							"}",
							"if (!pm.response.text().includes(\"error\")) {",
							"    pm.environment.set(\"refreshToken\", response.data.login.refreshToken);",
							"} else {",
							"    console.log(\"Error detected in response, environment variable not set.\");",
							"}",
							"let token = pm.environment.get(\"accessToken\");",
							"pm.test(\"Access token exists\", function () {",
							"    pm.expect(token).to.be.a(\"string\");",
							"});",
							"",
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "noauth"
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "mutation {\n  login(email: \"{{w_email_t3}}\",\n    password: \"{{w_password_t3}}\"\n  ) {\n    meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n    accessToken\n    refreshToken\n  }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Confirm listAdPost is placeholdered (postid) urs",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11501\");",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"pm.test(\"Post with existing_postid_2 has correct moderation data\", function () {",
							"    const response = pm.response.json();",
							"    const items = response.data?.listAdvertisementPosts?.affectedRows || [];",
							"    const expectedPostId = pm.environment.get(\"existing_postid_2\");",
							"",
							"    if (!expectedPostId) {",
							"        throw new Error(\"Environment variable 'existing_postid_2' is not set.\");",
							"    }",
							"",
							"    const post = items.find(i => i.post?.id === expectedPostId);",
							"",
							"    if (!post) {",
							"        throw new Error(`Advertisement post with ID ${expectedPostId} not found.`);",
							"    }",
							"",
							"    pm.expect(post.post.title, `Post ${expectedPostId} title`).to.eql(\"this post is illegal\");",
							"    pm.expect(post.post.visibilityStatus, `Post ${expectedPostId} visibilityStatus`).to.eql(\"ILLEGAL\");",
							"    pm.expect(post.post.hasActiveReports, `Post ${expectedPostId} hasActiveReports`).to.eql(false);",
							"    pm.expect(post.post.isHiddenForUsers, `Post ${expectedPostId} isHiddenForUsers`).to.eql(false);",
							"});",
							"",
							"pm.test(\"User w_userid_t3 has correct moderation data\", function () {",
							"    const response = pm.response.json();",
							"    const rows = response.data?.listAdvertisementPosts?.affectedRows || [];",
							"    const userIdT3 = pm.environment.get(\"w_userid_t3\");",
							"",
							"    if (!userIdT3) {",
							"        throw new Error(\"Env var w_userid_t3 is not set\");",
							"    }",
							"",
							"    let found = false;",
							"",
							"    rows.forEach(row => {",
							"        const user = row?.post?.user;",
							"        if (user?.id === userIdT3) {",
							"            found = true;",
							"            pm.expect(user.username).to.eql(\"tester03\");",
							"            pm.expect(user.visibilityStatus).to.eql(\"NORMAL\");",
							"            pm.expect(user.hasActiveReports).to.eql(false);",
							"            pm.expect(user.isHiddenForUsers).to.eql(true);",
							"        }",
							"    });",
							"",
							"    if (!found) {",
							"        throw new Error(`User with ID ${userIdT3} not found in listAdvertisementPosts`);",
							"    }",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "query ListAdvertisementPosts {\n    listAdvertisementPosts(postid: \"{{existing_postid_2}}\", contentFilterBy: MYGRANDMALIKES) {\n        counter\n        meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n        affectedRows {\n            post {\n                id\n                contenttype\n                title\n                media\n                cover\n                mediadescription\n                createdat\n                visibilityStatus\n          isHiddenForUsers\n                hasActiveReports\n                amountreports\n                amountlikes\n                amountviews\n                amountcomments\n                amountdislikes\n                amounttrending\n                isliked\n                isviewed\n                isreported\n                isdisliked\n                issaved\n                tags\n                url\n                user {\n                    id\n                    username\n                    slug\n                    img\n                    visibilityStatus\n          isHiddenForUsers\n                    hasActiveReports\n                    isfollowed\n                    isfollowing\n                    isfriend\n                }\n                comments {\n                    commentid\n                    userid\n                    postid\n                    parentid\n                    content\n                    createdat\n                    visibilityStatus\n          isHiddenForUsers\n                    hasActiveReports\n                    amountlikes\n                    amountreplies\n                    amountreports\n                    isliked\n                    user {\n                        id\n                        username\n                        slug\n                        img\n                        visibilityStatus\n          isHiddenForUsers\n                        hasActiveReports\n                        isfollowed\n                        isfollowing\n                        isfriend\n                    }\n                }\n            }\n            advertisement {\n                advertisementid\n                postid\n                advertisementtype\n                startdate\n                enddate\n                createdat\n                user {\n                    id\n                    username\n                    slug\n                    img\n                    visibilityStatus\n          isHiddenForUsers\n                    hasActiveReports\n                    isfollowed\n                    isfollowing\n                    isfriend\n                }\n            }\n        }\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Confirm listAdPost doesnt show (feed) urs",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11501\");",
							"});",
							"",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"pm.test(\"Counter is 2\", function () {",
							"    const json = pm.response.json();",
							"    pm.expect(json.data.listAdvertisementPosts.counter).to.eql(2);",
							"});",
							"",
							"pm.test(\"Posts are not in listAdvertisementPosts\", function () {",
							"    const body = pm.response.text();",
							"    const id1 = pm.environment.get(\"existing_postid\");",
							"    const id2 = pm.environment.get(\"existing_postid_2\");",
							"",
							"    if (!id1 || !id2) {",
							"        throw new Error(\"Environment variables existing_postid or existing_postid_2 are not set.\");",
							"    }",
							"",
							"    pm.expect(body).not.to.include(id1);",
							"    pm.expect(body).not.to.include(id2);",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "query ListAdvertisementPosts {\n    listAdvertisementPosts(limit:20, contentFilterBy: MYGRANDMALIKES) {\n        counter\n        meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n        affectedRows {\n            post {\n                id\n                contenttype\n                title\n                media\n                cover\n                mediadescription\n                createdat\n                visibilityStatus\n          isHiddenForUsers\n                hasActiveReports\n                amountreports\n                amountlikes\n                amountviews\n                amountcomments\n                amountdislikes\n                amounttrending\n                isliked\n                isviewed\n                isreported\n                isdisliked\n                issaved\n                tags\n                url\n                user {\n                    id\n                    username\n                    slug\n                    img\n                    visibilityStatus\n          isHiddenForUsers\n                    hasActiveReports\n                    isfollowed\n                    isfollowing\n                    isfriend\n                }\n                comments {\n                    commentid\n                    userid\n                    postid\n                    parentid\n                    content\n                    createdat\n                    visibilityStatus\n          isHiddenForUsers\n                    hasActiveReports\n                    amountlikes\n                    amountreplies\n                    amountreports\n                    isliked\n                    user {\n                        id\n                        username\n                        slug\n                        img\n                        visibilityStatus\n          isHiddenForUsers\n                        hasActiveReports\n                        isfollowed\n                        isfollowing\n                        isfriend\n                    }\n                }\n            }\n            advertisement {\n                advertisementid\n                postid\n                advertisementtype\n                startdate\n                enddate\n                createdat\n                user {\n                    id\n                    username\n                    slug\n                    img\n                    visibilityStatus\n          isHiddenForUsers\n                    hasActiveReports\n                    isfollowed\n                    isfollowing\n                    isfriend\n                }\n            }\n        }\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Confirm listAdPost is placeholdered (profile) urs",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11501\");",
							"});",
							"",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"pm.test(\"Post with existing_postid_2 has correct moderation data\", function () {",
							"    const response = pm.response.json();",
							"    const items = response.data?.listAdvertisementPosts?.affectedRows || [];",
							"    const expectedPostId = pm.environment.get(\"existing_postid_2\");",
							"",
							"    if (!expectedPostId) {",
							"        throw new Error(\"Environment variable 'existing_postid_2' is not set.\");",
							"    }",
							"",
							"    const post = items.find(i => i.post?.id === expectedPostId);",
							"",
							"    if (!post) {",
							"        throw new Error(`Advertisement post with ID ${expectedPostId} not found.`);",
							"    }",
							"",
							"    pm.expect(post.post.title, `Post ${expectedPostId} title`).to.eql(\"this post is illegal\");",
							"    pm.expect(post.post.visibilityStatus, `Post ${expectedPostId} visibilityStatus`).to.eql(\"ILLEGAL\");",
							"    pm.expect(post.post.hasActiveReports, `Post ${expectedPostId} hasActiveReports`).to.eql(false);",
							"    pm.expect(post.post.isHiddenForUsers, `Post ${expectedPostId} isHiddenForUsers`).to.eql(false);",
							"});",
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "query ListAdvertisementPosts {\n    listAdvertisementPosts(userid: \"{{w_userid_t3}}\", contentFilterBy: MYGRANDMALIKES) {\n        counter\n        meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n        affectedRows {\n            post {\n                id\n                contenttype\n                title\n                media\n                cover\n                mediadescription\n                createdat\n                visibilityStatus\n          isHiddenForUsers\n                hasActiveReports\n                amountreports\n                amountlikes\n                amountviews\n                amountcomments\n                amountdislikes\n                amounttrending\n                isliked\n                isviewed\n                isreported\n                isdisliked\n                issaved\n                tags\n                url\n                user {\n                    id\n                    username\n                    slug\n                    img\n                    visibilityStatus\n          isHiddenForUsers\n                    hasActiveReports\n                    isfollowed\n                    isfollowing\n                    isfriend\n                }\n                comments {\n                    commentid\n                    userid\n                    postid\n                    parentid\n                    content\n                    createdat\n                    visibilityStatus\n          isHiddenForUsers\n                    hasActiveReports\n                    amountlikes\n                    amountreplies\n                    amountreports\n                    isliked\n                    user {\n                        id\n                        username\n                        slug\n                        img\n                        visibilityStatus\n          isHiddenForUsers\n                        hasActiveReports\n                        isfollowed\n                        isfollowing\n                        isfriend\n                    }\n                }\n            }\n            advertisement {\n                advertisementid\n                postid\n                advertisementtype\n                startdate\n                enddate\n                createdat\n                user {\n                    id\n                    username\n                    slug\n                    img\n                    visibilityStatus\n          isHiddenForUsers\n                    hasActiveReports\n                    isfollowed\n                    isfollowing\n                    isfriend\n                }\n            }\n        }\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Login tester 1",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"10801\");",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"let response = pm.response.json();",
							"if (!pm.response.text().includes(\"error\")) {",
							"    pm.environment.set(\"accessToken\", response.data.login.accessToken);",
							"} else {",
							"    console.log(\"Error detected in response, environment variable not set.\");",
							"}",
							"if (!pm.response.text().includes(\"error\")) {",
							"    pm.environment.set(\"refreshToken\", response.data.login.refreshToken);",
							"} else {",
							"    console.log(\"Error detected in response, environment variable not set.\");",
							"}",
							"let token = pm.environment.get(\"accessToken\");",
							"pm.test(\"Access token exists\", function () {",
							"    pm.expect(token).to.be.a(\"string\");",
							"});",
							"",
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "noauth"
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "mutation {\n  login(email: \"{{w_email_t1}}\",\n    password: \"{{w_password_t1}}\"\n  ) {\n    meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n    accessToken\n    refreshToken\n  }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Moderate illegal comment",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"12103\");",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "mutation PerformModeration {\n    performModeration(moderationTicketId: \"{{moderationTicketIdComment2}}\", moderationAction: illegal) {\n        status\n        RequestId\n        ResponseCode\n        ResponseMessage\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Login t5",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"10801\");",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"let response = pm.response.json();",
							"if (!pm.response.text().includes(\"error\")) {",
							"    pm.environment.set(\"accessToken\", response.data.login.accessToken);",
							"} else {",
							"    console.log(\"Error detected in response, environment variable not set.\");",
							"}",
							"if (!pm.response.text().includes(\"error\")) {",
							"    pm.environment.set(\"refreshToken\", response.data.login.refreshToken);",
							"} else {",
							"    console.log(\"Error detected in response, environment variable not set.\");",
							"}",
							"let token = pm.environment.get(\"accessToken\");",
							"pm.test(\"Access token exists\", function () {",
							"    pm.expect(token).to.be.a(\"string\");",
							"});",
							"",
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "mutation Login {\n  login(email: \"{{email_t5}}\",\n    password: \"{{password_T}}\"\n  ) {\n    meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n    accessToken\n    refreshToken\n  }\n}",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Report moderated illegal comment (fail)",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is 32102 or 31513\", function () {",
							"    const body = pm.response.text();",
							"    pm.expect(",
							"        body.includes(\"32102\") || body.includes(\"31608\"),",
							"        \"Expected ResponseCode to be 32102 or 31608\"",
							"    ).to.be.true;",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"error\"');",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "mutation ReportComment {\n    reportComment(\n        commentid: \"{{commentid}}\"\n    ) {\n        status\n        RequestId\n        ResponseCode\n        ResponseMessage\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Confirm comment is illegal",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11501\");",
							"});",
							"",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"pm.test(\"Comment has correct moderation data\", function () {",
							"    const response = pm.response.json();",
							"    const posts = response.data?.listPosts?.affectedRows || [];",
							"    const expectedCommentId = pm.environment.get(\"commentid\");",
							"",
							"    if (!expectedCommentId) {",
							"        throw new Error(\"Environment variable 'commentid' is not set.\");",
							"    }",
							"",
							"    let commentFound = null;",
							"",
							"    for (const post of posts) {",
							"        const comments = post.comments || [];",
							"        commentFound = comments.find(c => c.commentid === expectedCommentId);",
							"        if (commentFound) break;",
							"    }",
							"",
							"    if (!commentFound) {",
							"        throw new Error(`Comment with ID ${expectedCommentId} not found in any post.`);",
							"    }",
							"",
							"    pm.expect(commentFound.content, `Comment ${expectedCommentId} content`).to.eql(\"this comment is illegal\");",
							"    pm.expect(commentFound.visibilityStatus, `Comment ${expectedCommentId} visibilityStatus`).to.eql(\"ILLEGAL\");",
							"    pm.expect(commentFound.hasActiveReports, `Comment ${expectedCommentId} hasActiveReports`).to.eql(false);",
							"    pm.expect(commentFound.isHiddenForUsers, `Comment ${expectedCommentId} isHiddenForUsers`).to.eql(false);",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "query ListPosts {\n    listPosts(contentFilterBy: MYGRANDMALIKES, limit:20) {\n        counter\n        meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n        affectedRows {\n            id\n            contenttype\n            title\n            media\n            cover\n            mediadescription\n            createdat\n            visibilityStatus\n          isHiddenForUsers\n            hasActiveReports\n            amountreports\n            amountlikes\n            amountviews\n            amountcomments\n            amountdislikes\n            amounttrending\n            isliked\n            isviewed\n            isreported\n            isdisliked\n            issaved\n            tags\n            url\n            user {\n                id\n                username\n                slug\n                img\n                visibilityStatus\n          isHiddenForUsers\n                hasActiveReports\n                isfollowed\n                isfollowing\n                isfriend\n            }\n            comments {\n                commentid\n                userid\n                postid\n                parentid\n                content\n                createdat\n                visibilityStatus\n          isHiddenForUsers\n                hasActiveReports\n                amountlikes\n                amountreplies\n                amountreports\n                isliked\n                user {\n                    id\n                    username\n                    slug\n                    img\n                    visibilityStatus\n          isHiddenForUsers\n                    hasActiveReports\n                    isfollowed\n                    isfollowing\n                    isfriend\n                }\n            }\n        }\n    }\n}\n\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Confirm list comments is illegal",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11601\");",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"pm.test(\"Comment has correct moderation data\", function () {",
							"    const response = pm.response.json();",
							"    const comments = response.data?.listComments?.affectedRows || [];",
							"    const expectedCommentId = pm.environment.get(\"commentid\");",
							"",
							"    if (!expectedCommentId) {",
							"        throw new Error(\"Environment variable 'commentid' is not set.\");",
							"    }",
							"",
							"    const commentFound = comments.find(c => c.commentid === expectedCommentId);",
							"",
							"    if (!commentFound) {",
							"        throw new Error(`Comment with ID ${expectedCommentId} not found in affectedRows.`);",
							"    }",
							"",
							"    pm.expect(commentFound.visibilityStatus, `Comment ${expectedCommentId} visibilityStatus`)",
							"        .to.eql(\"ILLEGAL\");",
							"",
							"    pm.expect(commentFound.hasActiveReports, `Comment ${expectedCommentId} hasActiveReports`)",
							"        .to.eql(false);",
							"",
							"    pm.expect(commentFound.isHiddenForUsers, `Comment ${expectedCommentId} isHiddenForUsers`)",
							"        .to.eql(false);",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "query ListComments {\n    listComments(\n        postid: \"{{postid}}\"\n        contentFilterBy: MYGRANDMALIKES\n        commentOffset: null\n        commentLimit: null\n    ) {\n        meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n        counter\n        affectedRows {\n            commentid\n            userid\n            postid\n            parentid\n            content\n            createdat\n            amountlikes\n            amountreplies\n            isliked\n            visibilityStatus\n          isHiddenForUsers\n            hasActiveReports\n            user {\n                id\n                username\n                slug\n                img\n                isfollowed\n                isfollowing\n                isfriend\n                visibilityStatus\n          isHiddenForUsers\n                hasActiveReports\n            }\n        }\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Like illegal comment (fail)",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"31608\");",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"error\"');",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "mutation LikeComment {\n    likeComment(commentid: \"{{commentid}}\") {\n        status\n        RequestId\n        ResponseCode\n        ResponseMessage\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Guest list post",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11501\");",
							"});",
							"",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"pm.test(\"Comment has correct moderation data\", function () {",
							"    const response = pm.response.json();",
							"    const post = response.data?.guestListPost?.affectedRows;",
							"    const expectedCommentId = pm.environment.get(\"commentid\");",
							"",
							"    if (!expectedCommentId) {",
							"        throw new Error(\"Environment variable 'commentid' is not set.\");",
							"    }",
							"",
							"    const comments = post?.comments || [];",
							"    const commentFound = comments.find(c => c.commentid === expectedCommentId);",
							"",
							"    if (!commentFound) {",
							"        throw new Error(`Comment with ID ${expectedCommentId} not found.`);",
							"    }",
							"",
							"    pm.expect(commentFound.content, `Comment ${expectedCommentId} content`).to.eql(\"this comment is illegal\");",
							"    pm.expect(commentFound.visibilityStatus, `Comment ${expectedCommentId} visibilityStatus`).to.eql(\"ILLEGAL\");",
							"    pm.expect(commentFound.hasActiveReports, `Comment ${expectedCommentId} hasActiveReports`).to.eql(false);",
							"    pm.expect(commentFound.isHiddenForUsers, `Comment ${expectedCommentId} isHiddenForUsers`).to.eql(false);",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "noauth"
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "query GuestListPost {\n    guestListPost(postid: \"{{postid}}\") {\n        meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n        affectedRows {\n            id\n            contenttype\n            title\n            media\n            cover\n            mediadescription\n            createdat\n            visibilityStatus\n          isHiddenForUsers\n            hasActiveReports\n            amountreports\n            amountlikes\n            amountviews\n            amountcomments\n            amountdislikes\n            amounttrending\n            isliked\n            isviewed\n            isreported\n            isdisliked\n            issaved\n            tags\n            url\n            user {\n                id\n                username\n                slug\n                img\n                visibilityStatus\n          isHiddenForUsers\n                hasActiveReports\n                isfollowed\n                isfollowing\n                isfriend\n            }\n            comments {\n                commentid\n                userid\n                postid\n                parentid\n                content\n                createdat\n                visibilityStatus\n          isHiddenForUsers\n                hasActiveReports\n                amountlikes\n                amountreplies\n                amountreports\n                isliked\n                user {\n                    id\n                    username\n                    slug\n                    img\n                    visibilityStatus\n          isHiddenForUsers\n                    hasActiveReports\n                    isfollowed\n                    isfollowing\n                    isfriend\n                }\n            }\n        }\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Login tester 1",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"10801\");",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"let response = pm.response.json();",
							"if (!pm.response.text().includes(\"error\")) {",
							"    pm.environment.set(\"accessToken\", response.data.login.accessToken);",
							"} else {",
							"    console.log(\"Error detected in response, environment variable not set.\");",
							"}",
							"if (!pm.response.text().includes(\"error\")) {",
							"    pm.environment.set(\"refreshToken\", response.data.login.refreshToken);",
							"} else {",
							"    console.log(\"Error detected in response, environment variable not set.\");",
							"}",
							"let token = pm.environment.get(\"accessToken\");",
							"pm.test(\"Access token exists\", function () {",
							"    pm.expect(token).to.be.a(\"string\");",
							"});",
							"",
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "noauth"
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "mutation {\n  login(email: \"{{w_email_t1}}\",\n    password: \"{{w_password_t1}}\"\n  ) {\n    meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n    accessToken\n    refreshToken\n  }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Moderate illegal post",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"12103\");",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "mutation PerformModeration {\n    performModeration(moderationTicketId: \"{{moderationTicketIdPost2}}\", moderationAction: illegal) {\n        status\n        RequestId\n        ResponseCode\n        ResponseMessage\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Login t5",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"10801\");",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"let response = pm.response.json();",
							"if (!pm.response.text().includes(\"error\")) {",
							"    pm.environment.set(\"accessToken\", response.data.login.accessToken);",
							"} else {",
							"    console.log(\"Error detected in response, environment variable not set.\");",
							"}",
							"if (!pm.response.text().includes(\"error\")) {",
							"    pm.environment.set(\"refreshToken\", response.data.login.refreshToken);",
							"} else {",
							"    console.log(\"Error detected in response, environment variable not set.\");",
							"}",
							"let token = pm.environment.get(\"accessToken\");",
							"pm.test(\"Access token exists\", function () {",
							"    pm.expect(token).to.be.a(\"string\");",
							"});",
							"",
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "mutation Login {\n  login(email: \"{{email_t5}}\",\n    password: \"{{password_T}}\"\n  ) {\n    meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n    accessToken\n    refreshToken\n  }\n}",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Confirm post is not seen (feed)",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11501\");",
							"});",
							"",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"pm.test(\"Post is not there\", function () {",
							"    pm.expect(pm.response.text()).not.to.include(pm.environment.get(\"postid\"));",
							"});",
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "query ListPosts {\n    listPosts(limit:20) {\n        counter\n        meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n        affectedRows {\n            id\n            contenttype\n            title\n            media\n            cover\n            mediadescription\n            createdat\n            visibilityStatus\n          isHiddenForUsers\n            hasActiveReports\n            amountreports\n            amountlikes\n            amountviews\n            amountcomments\n            amountdislikes\n            amounttrending\n            isliked\n            isviewed\n            isreported\n            isdisliked\n            issaved\n            tags\n            url\n            user {\n                id\n                username\n                slug\n                img\n                visibilityStatus\n          isHiddenForUsers\n                hasActiveReports\n                isfollowed\n                isfollowing\n                isfriend\n            }\n            comments {\n                commentid\n                userid\n                postid\n                parentid\n                content\n                createdat\n                visibilityStatus\n          isHiddenForUsers\n                hasActiveReports\n                amountlikes\n                amountreplies\n                amountreports\n                isliked\n                user {\n                    id\n                    username\n                    slug\n                    img\n                    visibilityStatus\n          isHiddenForUsers\n                    hasActiveReports\n                    isfollowed\n                    isfollowing\n                    isfriend\n                }\n            }\n        }\n    }\n}\n\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Confirm post is placeholdered (profile)",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11501\");",
							"});",
							"",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"pm.test(\"Post and comment have correct moderation data\", function () {",
							"    const response = pm.response.json();",
							"    const posts = response.data?.listPosts?.affectedRows || [];",
							"",
							"    const expectedPostId = pm.environment.get(\"postid\");",
							"    const expectedCommentId = pm.environment.get(\"commentid\");",
							"",
							"    if (!expectedPostId) {",
							"        throw new Error(\"Environment variable 'postid' is not set.\");",
							"    }",
							"    if (!expectedCommentId) {",
							"        throw new Error(\"Environment variable 'commentid' is not set.\");",
							"    }",
							"",
							"    const post = posts.find(p => p.id === expectedPostId);",
							"    if (!post) {",
							"        throw new Error(`Post with ID ${expectedPostId} not found.`);",
							"    }",
							"",
							"    pm.expect(post.title, `Post ${expectedPostId} title`).to.eql(\"this post is illegal\");",
							"    pm.expect(post.visibilityStatus, `Post ${expectedPostId} visibilityStatus`).to.eql(\"ILLEGAL\");",
							"    pm.expect(post.hasActiveReports, `Post ${expectedPostId} hasActiveReports`).to.eql(false);",
							"    pm.expect(post.isHiddenForUsers, `Post ${expectedPostId} isHiddenForUsers`).to.eql(false);",
							"",
							"    const comment = post.comments?.find(c => c.commentid === expectedCommentId);",
							"    if (!comment) {",
							"        throw new Error(`Comment with ID ${expectedCommentId} not found in post ${expectedPostId}.`);",
							"    }",
							"",
							"    pm.expect(comment.content, `Comment ${expectedCommentId} content`).to.eql(\"this comment is illegal\");",
							"    pm.expect(comment.visibilityStatus, `Comment ${expectedCommentId} visibilityStatus`).to.eql(\"ILLEGAL\");",
							"    pm.expect(comment.hasActiveReports, `Comment ${expectedCommentId} hasActiveReports`).to.eql(false);",
							"    pm.expect(comment.isHiddenForUsers, `Comment ${expectedCommentId} isHiddenForUsers`).to.eql(false);",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "query ListPosts {\n    listPosts(userid: \"{{userid_t6}}\", contentFilterBy: MYGRANDMALIKES, limit:20) {\n        counter\n        meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n        affectedRows {\n            id\n            contenttype\n            title\n            media\n            cover\n            mediadescription\n            createdat\n            visibilityStatus\n          isHiddenForUsers\n            hasActiveReports\n            amountreports\n            amountlikes\n            amountviews\n            amountcomments\n            amountdislikes\n            amounttrending\n            isliked\n            isviewed\n            isreported\n            isdisliked\n            issaved\n            tags\n            url\n            user {\n                id\n                username\n                slug\n                img\n                visibilityStatus\n          isHiddenForUsers\n                hasActiveReports\n                isfollowed\n                isfollowing\n                isfriend\n            }\n            comments {\n                commentid\n                userid\n                postid\n                parentid\n                content\n                createdat\n                visibilityStatus\n          isHiddenForUsers\n                hasActiveReports\n                amountlikes\n                amountreplies\n                amountreports\n                isliked\n                user {\n                    id\n                    username\n                    slug\n                    img\n                    visibilityStatus\n          isHiddenForUsers\n                    hasActiveReports\n                    isfollowed\n                    isfollowing\n                    isfriend\n                }\n            }\n        }\n    }\n}\n\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Confirm post is not seen (title)",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"21501\");",
							"});",
							"",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"pm.test(\"Post is not there\", function () {",
							"    pm.expect(pm.response.text()).not.to.include(pm.environment.get(\"postid\"));",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "query ListPosts {\n    listPosts(title: \"moderation_post2\", contentFilterBy: MYGRANDMALIKES, limit:20) {\n        counter\n        meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n        affectedRows {\n            id\n            contenttype\n            title\n            media\n            cover\n            mediadescription\n            createdat\n            visibilityStatus\n          isHiddenForUsers\n            hasActiveReports\n            amountreports\n            amountlikes\n            amountviews\n            amountcomments\n            amountdislikes\n            amounttrending\n            isliked\n            isviewed\n            isreported\n            isdisliked\n            issaved\n            tags\n            url\n            user {\n                id\n                username\n                slug\n                img\n                visibilityStatus\n          isHiddenForUsers\n                hasActiveReports\n                isfollowed\n                isfollowing\n                isfriend\n            }\n            comments {\n                commentid\n                userid\n                postid\n                parentid\n                content\n                createdat\n                visibilityStatus\n          isHiddenForUsers\n                hasActiveReports\n                amountlikes\n                amountreplies\n                amountreports\n                isliked\n                user {\n                    id\n                    username\n                    slug\n                    img\n                    visibilityStatus\n          isHiddenForUsers\n                    hasActiveReports\n                    isfollowed\n                    isfollowing\n                    isfriend\n                }\n            }\n        }\n    }\n}\n\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Confirm post is placeholdered (postid)",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"Illegal post cover placeholder has default size & resolution\", function () {",
							"    const response = pm.response.json();",
							"    const posts = response.data?.listPosts?.affectedRows || [];",
							"    const expectedPostId = pm.environment.get(\"postid\");",
							"",
							"    if (!expectedPostId) {",
							"        throw new Error(\"Environment variable 'postid' is not set.\");",
							"    }",
							"",
							"    const postFound = posts.find(p => p.id === expectedPostId);",
							"",
							"    if (!postFound) {",
							"        throw new Error(`Post with ID ${expectedPostId} not found.`);",
							"    }",
							"",
							"    let coverArray;",
							"    try {",
							"        coverArray = JSON.parse(postFound.cover);",
							"    } catch (e) {",
							"        throw new Error(\"postFound.cover is not valid JSON array string\");",
							"    }",
							"",
							"    pm.expect(Array.isArray(coverArray), \"cover should be an array\").to.be.true;",
							"    pm.expect(coverArray.length, \"cover should contain exactly one item\").to.eql(1);",
							"",
							"    const coverItem = coverArray[0];",
							"    pm.expect(coverItem.options.size, \"illegal cover size\").to.eql(\"69.89 KB\");",
							"    pm.expect(coverItem.options.resolution, \"illegal cover resolution\").to.eql(\"1500x1500\");",
							"});",
							"",
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11501\");",
							"});",
							"",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"pm.test(\"Post has correct moderation data\", function () {",
							"    const response = pm.response.json();",
							"    const posts = response.data?.listPosts?.affectedRows || [];",
							"    const expectedPostId = pm.environment.get(\"postid\");",
							"",
							"    if (!expectedPostId) {",
							"        throw new Error(\"Environment variable 'postid' is not set.\");",
							"    }",
							"",
							"    const postFound = posts.find(p => p.id === expectedPostId);",
							"",
							"    if (!postFound) {",
							"        throw new Error(`Post with ID ${expectedPostId} not found.`);",
							"    }",
							"",
							"    pm.expect(postFound.title, `Post ${expectedPostId} title`).to.eql(\"this post is illegal\");",
							"    pm.expect(postFound.visibilityStatus, `Post ${expectedPostId} visibilityStatus`).to.eql(\"ILLEGAL\");",
							"    pm.expect(postFound.hasActiveReports, `Post ${expectedPostId} hasActiveReports`).to.eql(false);",
							"    pm.expect(postFound.isHiddenForUsers, `Post ${expectedPostId} isHiddenForUsers`).to.eql(false);",
							"});",
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "query ListPosts {\n    listPosts(postid: \"{{postid}}\", contentFilterBy: MYGRANDMALIKES) {\n        counter\n        meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n        affectedRows {\n            id\n            contenttype\n            title\n            media\n            cover\n            mediadescription\n            createdat\n            visibilityStatus\n            isHiddenForUsers\n            hasActiveReports\n            amountreports\n            amountlikes\n            amountviews\n            amountcomments\n            amountdislikes\n            amounttrending\n            isliked\n            isviewed\n            isreported\n            isdisliked\n            issaved\n            tags\n            url\n            user {\n                id\n                username\n                slug\n                img\n                visibilityStatus\n                isHiddenForUsers\n                hasActiveReports\n                isfollowed\n                isfollowing\n                isfriend\n            }\n            comments {\n                commentid\n                userid\n                postid\n                parentid\n                content\n                createdat\n                visibilityStatus\n                isHiddenForUsers\n                hasActiveReports\n                amountlikes\n                amountreplies\n                amountreports\n                isliked\n                user {\n                    id\n                    username\n                    slug\n                    img\n                    visibilityStatus\n                    isHiddenForUsers\n                    hasActiveReports\n                    isfollowed\n                    isfollowing\n                    isfriend\n                }\n            }\n        }\n    }\n}\n\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Guest list post",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11501\");",
							"});",
							"",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"pm.test(\"Comment has correct moderation data\", function () {",
							"    const response = pm.response.json();",
							"    const post = response.data?.guestListPost?.affectedRows;",
							"    const expectedCommentId = pm.environment.get(\"commentid\");",
							"",
							"    if (!expectedCommentId) {",
							"        throw new Error(\"Environment variable 'commentid' is not set.\");",
							"    }",
							"",
							"    const comments = post?.comments || [];",
							"    const commentFound = comments.find(c => c.commentid === expectedCommentId);",
							"",
							"    if (!commentFound) {",
							"        throw new Error(`Comment with ID ${expectedCommentId} not found.`);",
							"    }",
							"",
							"    pm.expect(commentFound.content, `Comment ${expectedCommentId} content`).to.eql(\"this comment is illegal\");",
							"    pm.expect(commentFound.visibilityStatus, `Comment ${expectedCommentId} visibilityStatus`).to.eql(\"ILLEGAL\");",
							"    pm.expect(commentFound.hasActiveReports, `Comment ${expectedCommentId} hasActiveReports`).to.eql(false);",
							"    pm.expect(commentFound.isHiddenForUsers, `Comment ${expectedCommentId} isHiddenForUsers`).to.eql(false);",
							"});",
							"",
							"pm.test(\"Guest list post has correct moderation data\", function () {",
							"    const response = pm.response.json();",
							"    const post = response.data?.guestListPost?.affectedRows;",
							"    const expectedPostId = pm.environment.get(\"postid\");",
							"",
							"    if (!expectedPostId) {",
							"        throw new Error(\"Environment variable 'postid' is not set.\");",
							"    }",
							"",
							"    if (!post || post.id !== expectedPostId) {",
							"        throw new Error(`Guest list post with ID ${expectedPostId} not found.`);",
							"    }",
							"",
							"    pm.expect(post.title, `Post ${expectedPostId} title`).to.eql(\"this post is illegal\");",
							"    pm.expect(post.visibilityStatus, `Post ${expectedPostId} visibilityStatus`).to.eql(\"ILLEGAL\");",
							"    pm.expect(post.hasActiveReports, `Post ${expectedPostId} hasActiveReports`).to.eql(false);",
							"    pm.expect(post.isHiddenForUsers, `Post ${expectedPostId} isHiddenForUsers`).to.eql(false);",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "noauth"
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "query GuestListPost {\n    guestListPost(postid: \"{{postid}}\") {\n        meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n        affectedRows {\n            id\n            contenttype\n            title\n            media\n            cover\n            mediadescription\n            createdat\n            visibilityStatus\n          isHiddenForUsers\n            hasActiveReports\n            amountreports\n            amountlikes\n            amountviews\n            amountcomments\n            amountdislikes\n            amounttrending\n            isliked\n            isviewed\n            isreported\n            isdisliked\n            issaved\n            tags\n            url\n            user {\n                id\n                username\n                slug\n                img\n                visibilityStatus\n          isHiddenForUsers\n                hasActiveReports\n                isfollowed\n                isfollowing\n                isfriend\n            }\n            comments {\n                commentid\n                userid\n                postid\n                parentid\n                content\n                createdat\n                visibilityStatus\n          isHiddenForUsers\n                hasActiveReports\n                amountlikes\n                amountreplies\n                amountreports\n                isliked\n                user {\n                    id\n                    username\n                    slug\n                    img\n                    visibilityStatus\n          isHiddenForUsers\n                    hasActiveReports\n                    isfollowed\n                    isfollowing\n                    isfriend\n                }\n            }\n        }\n    }\n}",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Create comment on illegal (fail)",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"31513\");",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"error\"');",
							"});",
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "mutation createComment {\n    createComment(action: COMMENT, postid: \"{{postid}}\", content: \"moderation_comment\") {\n        meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n        affectedRows {\n            commentid\n        }\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Like illegal post (fail)",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"31513\");",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"error\"');",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "mutation ResolveActionPost {\n    resolvePostAction(postid:\"{{postid}}\" , action: LIKE) {\n        status\n        RequestId\n        ResponseCode\n        ResponseMessage\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Dislike illegal post (fail)",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"31513\");",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"error\"');",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "mutation ResolveActionPost {\n    resolvePostAction(postid:\"{{postid}}\" , action: DISLIKE) {\n        status\n        RequestId\n        ResponseCode\n        ResponseMessage\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "View illegal post (fail)",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"31513\");",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"error\"');",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "mutation ResolveActionPost {\n    resolvePostAction(\n        postid: \"{{postid}}\"\n        action: VIEW\n    ) {\n        status\n        RequestId\n        ResponseCode\n        ResponseMessage\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Save illegal post (fail)",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"31513\");",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"error\"');",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "mutation ResolveActionPost {\n    resolvePostAction(\n        postid: \"{{postid}}\"\n        action: SAVE\n    ) {\n        status\n        RequestId\n        ResponseCode\n        ResponseMessage\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Share illegal post (fail)",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"31513\");",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"error\"');",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "mutation ResolveActionPost {\n    resolvePostAction(\n        postid: \"{{postid}}\"\n        action: SHARE\n    ) {\n        status\n        RequestId\n        ResponseCode\n        ResponseMessage\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Login tester 1",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"10801\");",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"let response = pm.response.json();",
							"if (!pm.response.text().includes(\"error\")) {",
							"    pm.environment.set(\"accessToken\", response.data.login.accessToken);",
							"} else {",
							"    console.log(\"Error detected in response, environment variable not set.\");",
							"}",
							"if (!pm.response.text().includes(\"error\")) {",
							"    pm.environment.set(\"refreshToken\", response.data.login.refreshToken);",
							"} else {",
							"    console.log(\"Error detected in response, environment variable not set.\");",
							"}",
							"let token = pm.environment.get(\"accessToken\");",
							"pm.test(\"Access token exists\", function () {",
							"    pm.expect(token).to.be.a(\"string\");",
							"});",
							"",
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "noauth"
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "mutation {\n  login(email: \"{{w_email_t1}}\",\n    password: \"{{w_password_t1}}\"\n  ) {\n    meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n    accessToken\n    refreshToken\n  }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Moderate illegal user",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"12103\");",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "mutation PerformModeration {\n    performModeration(moderationTicketId: \"{{moderationTicketIdt6}}\", moderationAction: illegal) {\n        status\n        RequestId\n        ResponseCode\n        ResponseMessage\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Moderation items",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"12102\");",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"pm.test(\"Check statuses by env IDs\", function () {",
							"    const response = pm.response.json();",
							"    const items = response.data?.moderationItems?.affectedRows || [];",
							"",
							"    const postIdEnv = pm.environment.get(\"postid\");",
							"    const commentIdEnv = pm.environment.get(\"commentid\");",
							"    const userIdT2 = pm.environment.get(\"w_userid_t2\");",
							"    const userIdT3 = pm.environment.get(\"w_userid_t3\");",
							"",
							"    items.forEach(item => {",
							"        const type = item.targettype;",
							"        const id = item.moderationTicketId;",
							"",
							"        if (type === \"post\" && item.targetcontent?.post?.id === postIdEnv) {",
							"            pm.expect(item.status, `Post ${postIdEnv} status`).to.eql(\"illegal\");",
							"        } else if (type === \"comment\" && item.targetcontent?.comment?.commentid === commentIdEnv) {",
							"            pm.expect(item.status, `Comment ${commentIdEnv} status`).to.eql(\"illegal\");",
							"        } else if (type === \"user\") {",
							"            const userId = item.targetcontent?.user?.userid;",
							"            if (userId === userIdT2) {",
							"                pm.expect(item.status, `User ${userIdT2} status`).to.eql(\"restored\");",
							"            } else if (userId === userIdT3) {",
							"                pm.expect(item.status, `User ${userIdT3} status`).to.eql(\"hidden\");",
							"            }",
							"        }",
							"    });",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "query ModerationItems {\n    moderationItems {\n        meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n        affectedRows {\n            targetContentId\n            moderationTicketId\n            targettype\n            reportscount\n            status\n            createdat\n            targetcontent {\n                post {\n                    id\n                    contenttype\n                    title\n                    media\n                    cover\n                    mediadescription\n                    createdat\n                    amountreports\n                    amountlikes\n                    amountviews\n                    amountcomments\n                    amountdislikes\n                    amounttrending\n                    isliked\n                    isviewed\n                    isreported\n                    isdisliked\n                    issaved\n                    tags\n                    url\n                    user {\n                        id\n                        username\n                        slug\n                        img\n                        isfollowed\n                        isfollowing\n                        isfriend\n                    }\n                    comments {\n                        commentid\n                        userid\n                        postid\n                        parentid\n                        content\n                        createdat\n                        amountlikes\n                        amountreplies\n                        amountreports\n                        isliked\n                        user {\n                            id\n                            username\n                            slug\n                            img\n                            isfollowed\n                            isfollowing\n                            isfriend\n                        }\n                    }\n                }\n                comment {\n                    commentid\n                    userid\n                    postid\n                    parentid\n                    content\n                    createdat\n                    amountlikes\n                    amountreplies\n                    amountreports\n                    isliked\n                    user {\n                        id\n                        username\n                        slug\n                        img\n                        isfollowed\n                        isfollowing\n                        isfriend\n                    }\n                }\n                user {\n                    userid\n                    img\n                    username\n                    slug\n                    biography\n                    updatedat\n                }\n            }\n            reporters {\n                userid\n                img\n                username\n                slug\n                biography\n                updatedat\n            }\n        }\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Moderation stats",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"12101\");",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"const res = pm.response.json();",
							"const stats = res?.data?.moderationStats?.affectedRows;",
							"",
							"pm.test(\"Moderation stats match expected values\", function () {",
							"    pm.expect(stats.AmountAwaitingReview).to.eql(0);",
							"    pm.expect(stats.AmountHidden).to.eql(2);",
							"    pm.expect(stats.AmountRestored).to.eql(3);",
							"    pm.expect(stats.AmountIllegal).to.eql(4);",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "query ModerationStats {\n    moderationStats {\n        meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n        affectedRows {\n            AmountAwaitingReview\n            AmountHidden\n            AmountRestored\n            AmountIllegal\n        }\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Login t5",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"10801\");",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"let response = pm.response.json();",
							"if (!pm.response.text().includes(\"error\")) {",
							"    pm.environment.set(\"accessToken\", response.data.login.accessToken);",
							"} else {",
							"    console.log(\"Error detected in response, environment variable not set.\");",
							"}",
							"if (!pm.response.text().includes(\"error\")) {",
							"    pm.environment.set(\"refreshToken\", response.data.login.refreshToken);",
							"} else {",
							"    console.log(\"Error detected in response, environment variable not set.\");",
							"}",
							"let token = pm.environment.get(\"accessToken\");",
							"pm.test(\"Access token exists\", function () {",
							"    pm.expect(token).to.be.a(\"string\");",
							"});",
							"",
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "mutation Login {\n  login(email: \"{{email_t5}}\",\n    password: \"{{password_T}}\"\n  ) {\n    meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n    accessToken\n    refreshToken\n  }\n}",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Report moderated illegal user (fail)",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"32102\");",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"error\"');",
							"});",
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "mutation ReportUser {\n    reportUser(userid: \"{{userid_t6}}\") {\n        status\n        RequestId\n        ResponseCode\n        ResponseMessage\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Confirm listUsersV2 is doesnt show",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11009\");",
							"});",
							"",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"pm.test(\"User is not there\", function () {",
							"    pm.expect(pm.response.text()).not.to.include(pm.environment.get(\"userid_t6\"));",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "query ListUsersV2 {\n    listUsersV2(contentFilterBy: MYGRANDMALIKES, limit: 20) {\n        counter\n        meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n        affectedRows {\n            id\n            username\n            status\n            slug\n            img\n            biography\n            visibilityStatus\n          isHiddenForUsers\n            hasActiveReports\n            createdat\n            updatedat\n        }\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Confirm listUsersV2 is placeholdered",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11009\");",
							"});",
							"",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"pm.test(\"User with userid_t6 should have correct moderation data\", function () {",
							"    const response = pm.response.json();",
							"    const users = response.data?.listUsersV2?.affectedRows || [];",
							"    const expectedUserId = pm.environment.get(\"userid_t6\");",
							"",
							"    if (!expectedUserId) {",
							"        throw new Error(\"Environment variable 'userid_t6' is not set.\");",
							"    }",
							"",
							"    const user = users.find(u => u.id === expectedUserId);",
							"",
							"    if (!user) {",
							"        throw new Error(`User with ID ${expectedUserId} not found in listUsersV2 response.`);",
							"    }",
							"",
							"    pm.expect(user.username, `User ${user.id} should be illegal`).to.eql(\"illegal_account\");",
							"    pm.expect(user.visibilityStatus, `User ${user.id} should have visibilityStatus 'ILLEGAL'`).to.eql(\"ILLEGAL\");",
							"    pm.expect(user.hasActiveReports, `User ${user.id} should have hasActiveReports false`).to.eql(false);",
							"    pm.expect(user.isHiddenForUsers, `User ${user.id} should have isHiddenForUsers false`).to.eql(false);",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "query ListUsersV2 {\n    listUsersV2(contentFilterBy: MYGRANDMALIKES, userid: \"{{userid_t6}}\") {\n        counter\n        meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n        affectedRows {\n            id\n            username\n            status\n            slug\n            img\n            biography\n            visibilityStatus\n          isHiddenForUsers\n            hasActiveReports\n            createdat\n            updatedat\n        }\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Confirm listUsersV2 is doesnt show",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11009\");",
							"});",
							"",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"pm.test(\"User is not there\", function () {",
							"    pm.expect(pm.response.text()).not.to.include(pm.environment.get(\"userid_t6\"));",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "query ListUsersV2 {\n    listUsersV2(contentFilterBy: MYGRANDMALIKES, username: \"validuser\") {\n        counter\n        meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n        affectedRows {\n            id\n            username\n            status\n            slug\n            img\n            biography\n            visibilityStatus\n          isHiddenForUsers\n            hasActiveReports\n            createdat\n            updatedat\n        }\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Confirm getProfile is placeholdered",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11008\");",
							"});",
							"",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"pm.test(\"getProfile returns correct moderation data\", function () {",
							"    const response = pm.response.json();",
							"    const profile = response.data?.getProfile?.affectedRows;",
							"    const expectedUserId = pm.environment.get(\"userid_t6\");",
							"",
							"    if (!expectedUserId) {",
							"        throw new Error(\"Environment variable 'userid_t6' is not set.\");",
							"    }",
							"",
							"    if (!profile || profile.id !== expectedUserId) {",
							"        throw new Error(`Profile ID does not match userid_t6. Found: ${profile?.id}, Expected: ${expectedUserId}`);",
							"    }",
							"",
							"    pm.expect(profile.username, `User ${profile.id} should have username 'illegal_account'`).to.eql(\"illegal_account\");",
							"    pm.expect(profile.visibilityStatus, `User ${profile.id} should have visibilityStatus 'ILLEGAL'`).to.eql(\"ILLEGAL\");",
							"    pm.expect(profile.hasActiveReports, `User ${profile.id} should have hasActiveReports false`).to.eql(false);",
							"    pm.expect(profile.isHiddenForUsers, `User ${profile.id} should have isHiddenForUsers false`).to.eql(false);",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "query GetProfile {\n    getProfile(userid: \"{{userid_t6}}\", contentFilterBy: MYGRANDMALIKES) {\n        meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n        affectedRows {\n            id\n            username\n            status\n            slug\n            img\n            biography\n            visibilityStatus\n          isHiddenForUsers\n            hasActiveReports\n            isfollowed\n            isfollowing\n            amountposts\n            amounttrending\n            amountfollowed\n            amountfollower\n            amountfriends\n            amountblocked\n            amountreports\n        }\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Confirm listFollowRelations is placeholdered",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11101\");",
							"});",
							"",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"pm.test(\"User from userid_t6 in followers and following has correct moderation data\", function () {",
							"    const response = pm.response.json();",
							"    const relations = response.data?.listFollowRelations?.affectedRows || {};",
							"    const expectedUserId = pm.environment.get(\"userid_t6\");",
							"",
							"    if (!expectedUserId) {",
							"        throw new Error(\"Environment variable 'userid_t6' is not set.\");",
							"    }",
							"",
							"    const checkList = (listName) => {",
							"        const list = relations[listName] || [];",
							"        const user = list.find(u => u.id === expectedUserId);",
							"",
							"        if (!user) {",
							"            throw new Error(`User with ID ${expectedUserId} not found in '${listName}' list.`);",
							"        }",
							"",
							"        pm.expect(user.username, `User ${user.id} in ${listName} should be 'illegal_account'`).to.eql(\"illegal_account\");",
							"        pm.expect(user.visibilityStatus, `User ${user.id} should have visibilityStatus 'ILLEGAL'`).to.eql(\"ILLEGAL\");",
							"        pm.expect(user.hasActiveReports, `User ${user.id} should have hasActiveReports false`).to.eql(false);",
							"        pm.expect(user.isHiddenForUsers, `User ${user.id} should have isHiddenForUsers false`).to.eql(false);",
							"    };",
							"",
							"    checkList(\"followers\");",
							"    checkList(\"following\");",
							"});",
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "query ListFollowRelations {\n    listFollowRelations(contentFilterBy: MYGRANDMALIKES) {\n        counter\n        meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n        affectedRows {\n            followers {\n                id\n                username\n                slug\n                img\n                visibilityStatus\n          isHiddenForUsers\n                hasActiveReports\n                isfollowed\n                isfollowing\n                isfriend\n            }\n            following {\n                id\n                username\n                slug\n                img\n                visibilityStatus\n          isHiddenForUsers\n                hasActiveReports\n                isfollowed\n                isfollowing\n                isfriend\n            }\n        }\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Confirm listFriends is placeholdered",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11102\");",
							"});",
							"",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"pm.test(\"User from userid_t6 in listFriends has correct moderation data\", function () {",
							"    const response = pm.response.json();",
							"    const friends = response.data?.listFriends?.affectedRows || [];",
							"    const expectedUserId = pm.environment.get(\"userid_t6\");",
							"",
							"    if (!expectedUserId) {",
							"        throw new Error(\"Environment variable 'userid_t6' is not set.\");",
							"    }",
							"",
							"    const user = friends.find(u => u.userid === expectedUserId);",
							"",
							"    if (!user) {",
							"        throw new Error(`User with ID ${expectedUserId} not found in 'listFriends' response.`);",
							"    }",
							"",
							"    pm.expect(user.username, `Friend ${user.userid} should have username 'illegal_account'`).to.eql(\"illegal_account\");",
							"    pm.expect(user.visibilityStatus, `User ${user.userid} should have visibilityStatus 'ILLEGAL'`).to.eql(\"ILLEGAL\");",
							"    pm.expect(user.hasActiveReports, `User ${user.userid} should have hasActiveReports false`).to.eql(false);",
							"    pm.expect(user.isHiddenForUsers, `User ${user.userid} should have isHiddenForUsers false`).to.eql(false);",
							"});",
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "query ListFriends {\n    listFriends(contentFilterBy: MYGRANDMALIKES) {\n        counter\n        meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n        affectedRows {\n            userid\n            img\n            username\n            slug\n            biography\n            visibilityStatus\n          isHiddenForUsers\n            hasActiveReports\n            updatedat\n        }\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Block t6",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11105\");",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "mutation UserBlock {\n    toggleBlockUserStatus(userid: \"{{userid_t6}}\") {\n        status\n        RequestId\n        ResponseCode\n        ResponseMessage\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Confirm listBlockedUsers is illegal",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11107\");",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"pm.test(\"User from userid_t6 has correct moderation data\", function () {",
							"    const res = pm.response.json();",
							"",
							"    const affected = res.data?.listBlockedUsers?.affectedRows || {};",
							"    const list = [",
							"        ...(affected.iBlocked || []),",
							"        ...(affected.blockedBy || [])",
							"    ];",
							"",
							"    const expectedUserId = pm.environment.get(\"userid_t6\");",
							"",
							"    if (!expectedUserId) {",
							"        throw new Error(\"Environment variable 'userid_t6' is not set.\");",
							"    }",
							"",
							"    const user = list.find(u => u.userid === expectedUserId);",
							"",
							"    if (!user) {",
							"        throw new Error(`User with ID ${expectedUserId} not found in blocked lists.`);",
							"    }",
							"",
							"    pm.expect(user.hasActiveReports, `User ${user.userid} should have hasActiveReports = false`).to.eql(false);",
							"    pm.expect(user.visibilityStatus, `User ${user.userid} should have visibilityStatus = \"ILLEGAL\"`).to.eql(\"ILLEGAL\");",
							"    pm.expect(user.isHiddenForUsers, `User ${user.userid} should have isHiddenForUsers = false`).to.eql(false);",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "query ListBlockedUsers {\n    listBlockedUsers {\n        status\n        counter\n        ResponseCode\n        meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n        affectedRows {\n            iBlocked {\n                userid\n                img\n                username\n                slug\n                hasActiveReports\n                visibilityStatus\n          isHiddenForUsers\n            }\n            blockedBy {\n                userid\n                img\n                username\n                slug\n                hasActiveReports\n                visibilityStatus\n          isHiddenForUsers\n            }\n        }\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Unblock t6",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11106\");",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "mutation UserBlock {\n    toggleBlockUserStatus(userid: \"{{userid_t6}}\") {\n        status\n        RequestId\n        ResponseCode\n        ResponseMessage\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Login t6",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"10801\");",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"let response = pm.response.json();",
							"if (!pm.response.text().includes(\"error\")) {",
							"    pm.environment.set(\"accessToken\", response.data.login.accessToken);",
							"} else {",
							"    console.log(\"Error detected in response, environment variable not set.\");",
							"}",
							"if (!pm.response.text().includes(\"error\")) {",
							"    pm.environment.set(\"refreshToken\", response.data.login.refreshToken);",
							"} else {",
							"    console.log(\"Error detected in response, environment variable not set.\");",
							"}",
							"let token = pm.environment.get(\"accessToken\");",
							"pm.test(\"Access token exists\", function () {",
							"    pm.expect(token).to.be.a(\"string\");",
							"});",
							"",
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "mutation Login {\n  login(email: \"{{email_t6}}\",\n    password: \"{{password_T}}\"\n  ) {\n    meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n    accessToken\n    refreshToken\n  }\n}",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Confirm listPosts doesnt show urself (feed)",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11501\");",
							"});",
							"",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"pm.test(\"Post is not there\", function () {",
							"    pm.expect(pm.response.text()).not.to.include(pm.environment.get(\"postid\"));",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "query ListPosts {\n    listPosts(contentFilterBy: MYGRANDMALIKES, limit:20) {\n        counter\n        meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n        affectedRows {\n            id\n            contenttype\n            title\n            media\n            cover\n            mediadescription\n            createdat\n            visibilityStatus\n          isHiddenForUsers\n            hasActiveReports\n            amountreports\n            amountlikes\n            amountviews\n            amountcomments\n            amountdislikes\n            amounttrending\n            isliked\n            isviewed\n            isreported\n            isdisliked\n            issaved\n            tags\n            url\n            user {\n                id\n                username\n                slug\n                img\n                visibilityStatus\n          isHiddenForUsers\n                hasActiveReports\n                isfollowed\n                isfollowing\n                isfriend\n            }\n            comments {\n                commentid\n                userid\n                postid\n                parentid\n                content\n                createdat\n                visibilityStatus\n          isHiddenForUsers\n                hasActiveReports\n                amountlikes\n                amountreplies\n                amountreports\n                isliked\n                user {\n                    id\n                    username\n                    slug\n                    img\n                    visibilityStatus\n          isHiddenForUsers\n                    hasActiveReports\n                    isfollowed\n                    isfollowing\n                    isfriend\n                }\n            }\n        }\n    }\n}\n\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Confirm listPosts is placeholdered for urself (postid)",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11501\");",
							"});",
							"",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"pm.test(\"Post with postid has correct moderation data\", function () {",
							"    const response = pm.response.json();",
							"    const posts = response.data?.listPosts?.affectedRows || [];",
							"",
							"    const expectedPostId = pm.environment.get(\"postid\");",
							"    if (!expectedPostId) throw new Error(\"Environment variable 'postid' is not set.\");",
							"",
							"    const post = posts.find(p => p.id === expectedPostId);",
							"    if (!post) throw new Error(`Post with ID ${expectedPostId} not found.`);",
							"",
							"    pm.expect(post.title, `Post ${expectedPostId} title`).to.eql(\"this post is illegal\");",
							"    pm.expect(post.visibilityStatus, `Post ${expectedPostId} visibilityStatus`).to.eql(\"ILLEGAL\");",
							"    pm.expect(post.hasActiveReports, `Post ${expectedPostId} hasActiveReports`).to.eql(false);",
							"    pm.expect(post.isHiddenForUsers, `Post ${expectedPostId} isHiddenForUsers`).to.eql(false);",
							"});",
							"",
							"pm.test(\"Comment has correct moderation data\", function () {",
							"    const response = pm.response.json();",
							"    const posts = response.data?.listPosts?.affectedRows || [];",
							"",
							"    const expectedCommentId = pm.environment.get(\"commentid\");",
							"    if (!expectedCommentId) throw new Error(\"Environment variable 'commentid' is not set.\");",
							"",
							"    let foundComment = null;",
							"    for (const post of posts) {",
							"        const comment = post.comments?.find(c => c.commentid === expectedCommentId);",
							"        if (comment) {",
							"            foundComment = comment;",
							"            break;",
							"        }",
							"    }",
							"",
							"    if (!foundComment) throw new Error(`Comment with ID ${expectedCommentId} not found in response.`);",
							"",
							"    pm.expect(foundComment.content, `Comment ${expectedCommentId} content`).to.eql(\"this comment is illegal\");",
							"    pm.expect(foundComment.visibilityStatus, `Comment ${expectedCommentId} visibilityStatus`).to.eql(\"ILLEGAL\");",
							"    pm.expect(foundComment.hasActiveReports, `Comment ${expectedCommentId} hasActiveReports`).to.eql(false);",
							"    pm.expect(foundComment.isHiddenForUsers, `Comment ${expectedCommentId} isHiddenForUsers`).to.eql(false);",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "query ListPosts {\n    listPosts(contentFilterBy: MYGRANDMALIKES, postid: \"{{postid}}\") {\n        counter\n        meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n        affectedRows {\n            id\n            contenttype\n            title\n            media\n            cover\n            mediadescription\n            createdat\n            visibilityStatus\n          isHiddenForUsers\n            hasActiveReports\n            amountreports\n            amountlikes\n            amountviews\n            amountcomments\n            amountdislikes\n            amounttrending\n            isliked\n            isviewed\n            isreported\n            isdisliked\n            issaved\n            tags\n            url\n            user {\n                id\n                username\n                slug\n                img\n                visibilityStatus\n          isHiddenForUsers\n                hasActiveReports\n                isfollowed\n                isfollowing\n                isfriend\n            }\n            comments {\n                commentid\n                userid\n                postid\n                parentid\n                content\n                createdat\n                visibilityStatus\n          isHiddenForUsers\n                hasActiveReports\n                amountlikes\n                amountreplies\n                amountreports\n                isliked\n                user {\n                    id\n                    username\n                    slug\n                    img\n                    visibilityStatus\n          isHiddenForUsers\n                    hasActiveReports\n                    isfollowed\n                    isfollowing\n                    isfriend\n                }\n            }\n        }\n    }\n}\n\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Confirm listPosts is placeholdered for urself (profile)",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11501\");",
							"});",
							"",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"pm.test(\"Post has correct moderation data\", function () {",
							"    const response = pm.response.json();",
							"    const posts = response.data?.listPosts?.affectedRows || [];",
							"",
							"    const expectedPostId = pm.environment.get(\"postid\");",
							"    if (!expectedPostId) throw new Error(\"Environment variable 'postid' is not set.\");",
							"",
							"    const post = posts.find(p => p.id === expectedPostId);",
							"    if (!post) throw new Error(`Post with ID ${expectedPostId} not found.`);",
							"",
							"    pm.expect(post.title, `Post ${expectedPostId} title`).to.eql(\"this post is illegal\");",
							"    pm.expect(post.visibilityStatus, `Post ${expectedPostId} visibilityStatus`).to.eql(\"ILLEGAL\");",
							"    pm.expect(post.hasActiveReports, `Post ${expectedPostId} hasActiveReports`).to.eql(false);",
							"    pm.expect(post.isHiddenForUsers, `Post ${expectedPostId} isHiddenForUsers`).to.eql(false);",
							"});",
							"",
							"pm.test(\"Comment has correct moderation data\", function () {",
							"    const response = pm.response.json();",
							"    const posts = response.data?.listPosts?.affectedRows || [];",
							"",
							"    const expectedCommentId = pm.environment.get(\"commentid\");",
							"    if (!expectedCommentId) throw new Error(\"Environment variable 'commentid' is not set.\");",
							"",
							"    let foundComment = null;",
							"    posts.forEach(post => {",
							"        const comment = post.comments?.find(c => c.commentid === expectedCommentId);",
							"        if (comment) foundComment = comment;",
							"    });",
							"",
							"    if (!foundComment) throw new Error(`Comment with ID ${expectedCommentId} not found in response.`);",
							"",
							"    pm.expect(foundComment.content, `Comment ${expectedCommentId} content`).to.eql(\"this comment is illegal\");",
							"    pm.expect(foundComment.visibilityStatus, `Comment ${expectedCommentId} visibilityStatus`).to.eql(\"ILLEGAL\");",
							"    pm.expect(foundComment.hasActiveReports, `Comment ${expectedCommentId} hasActiveReports`).to.eql(false);",
							"    pm.expect(foundComment.isHiddenForUsers, `Comment ${expectedCommentId} isHiddenForUsers`).to.eql(false);",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "query ListPosts {\n    listPosts(contentFilterBy: MYGRANDMALIKES, userid: \"{{userid_t6}}\") {\n        counter\n        meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n        affectedRows {\n            id\n            contenttype\n            title\n            media\n            cover\n            mediadescription\n            createdat\n            visibilityStatus\n          isHiddenForUsers\n            hasActiveReports\n            amountreports\n            amountlikes\n            amountviews\n            amountcomments\n            amountdislikes\n            amounttrending\n            isliked\n            isviewed\n            isreported\n            isdisliked\n            issaved\n            tags\n            url\n            user {\n                id\n                username\n                slug\n                img\n                visibilityStatus\n          isHiddenForUsers\n                hasActiveReports\n                isfollowed\n                isfollowing\n                isfriend\n            }\n            comments {\n                commentid\n                userid\n                postid\n                parentid\n                content\n                createdat\n                visibilityStatus\n          isHiddenForUsers\n                hasActiveReports\n                amountlikes\n                amountreplies\n                amountreports\n                isliked\n                user {\n                    id\n                    username\n                    slug\n                    img\n                    visibilityStatus\n          isHiddenForUsers\n                    hasActiveReports\n                    isfollowed\n                    isfollowing\n                    isfriend\n                }\n            }\n        }\n    }\n}\n\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Confirm listPosts doesnt show urself (title)",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"21501\");",
							"});",
							"",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"pm.test(\"Post is not there\", function () {",
							"    pm.expect(pm.response.text()).not.to.include(pm.environment.get(\"postid\"));",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "query ListPosts {\n    listPosts(contentFilterBy: MYGRANDMALIKES, title: \"moderation_post2\") {\n        counter\n        meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n        affectedRows {\n            id\n            contenttype\n            title\n            media\n            cover\n            mediadescription\n            createdat\n            visibilityStatus\n          isHiddenForUsers\n            hasActiveReports\n            amountreports\n            amountlikes\n            amountviews\n            amountcomments\n            amountdislikes\n            amounttrending\n            isliked\n            isviewed\n            isreported\n            isdisliked\n            issaved\n            tags\n            url\n            user {\n                id\n                username\n                slug\n                img\n                visibilityStatus\n          isHiddenForUsers\n                hasActiveReports\n                isfollowed\n                isfollowing\n                isfriend\n            }\n            comments {\n                commentid\n                userid\n                postid\n                parentid\n                content\n                createdat\n                visibilityStatus\n          isHiddenForUsers\n                hasActiveReports\n                amountlikes\n                amountreplies\n                amountreports\n                isliked\n                user {\n                    id\n                    username\n                    slug\n                    img\n                    visibilityStatus\n          isHiddenForUsers\n                    hasActiveReports\n                    isfollowed\n                    isfollowing\n                    isfriend\n                }\n            }\n        }\n    }\n}\n\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Confirm listUsersV2 doesnt show urself",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11009\");",
							"});",
							"",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"pm.test(\"User is not there\", function () {",
							"    pm.expect(pm.response.text()).not.to.include(pm.environment.get(\"userid_t6\"));",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "query ListUsersV2 {\n    listUsersV2(contentFilterBy: MYGRANDMALIKES, limit:20) {\n        counter\n        meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n        affectedRows {\n            id\n            username\n            status\n            slug\n            img\n            biography\n            visibilityStatus\n          isHiddenForUsers\n            hasActiveReports\n            createdat\n            updatedat\n        }\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Confirm listUsersV2 is placeholdered for urself",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11009\");",
							"});",
							"",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"pm.test(\"User with userid_t6 should have correct moderation data\", function () {",
							"    const response = pm.response.json();",
							"    const users = response.data?.listUsersV2?.affectedRows || [];",
							"    const expectedUserId = pm.environment.get(\"userid_t6\");",
							"",
							"    if (!expectedUserId) {",
							"        throw new Error(\"Environment variable 'userid_t6' is not set.\");",
							"    }",
							"",
							"    const user = users.find(u => u.id === expectedUserId);",
							"",
							"    if (!user) {",
							"        throw new Error(`User with ID ${expectedUserId} not found in listUsersV2 response.`);",
							"    }",
							"",
							"    pm.expect(user.username, `User ${user.id} should be illegal`).to.eql(\"illegal_account\");",
							"    pm.expect(user.visibilityStatus, `User ${user.id} should have visibilityStatus 'ILLEGAL'`).to.eql(\"ILLEGAL\");",
							"    pm.expect(user.hasActiveReports, `User ${user.id} should have hasActiveReports false`).to.eql(false);",
							"    pm.expect(user.isHiddenForUsers, `User ${user.id} should have isHiddenForUsers false`).to.eql(false);",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "query ListUsersV2 {\n    listUsersV2(contentFilterBy: MYGRANDMALIKES, userid: \"{{userid_t6}}\") {\n        counter\n        meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n        affectedRows {\n            id\n            username\n            status\n            slug\n            img\n            biography\n            visibilityStatus\n          isHiddenForUsers\n            hasActiveReports\n            createdat\n            updatedat\n        }\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Confirm listUsersV2 doesnt show urself",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11009\");",
							"});",
							"",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"pm.test(\"User is not there\", function () {",
							"    pm.expect(pm.response.text()).not.to.include(pm.environment.get(\"userid_t6\"));",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "query ListUsersV2 {\n    listUsersV2(contentFilterBy: MYGRANDMALIKES, username: \"validuser\") {\n        counter\n        meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n        affectedRows {\n            id\n            username\n            status\n            slug\n            img\n            biography\n            visibilityStatus\n          isHiddenForUsers\n            hasActiveReports\n            createdat\n            updatedat\n        }\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Confirm getProfile is placeholdered for urself",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11008\");",
							"});",
							"",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"pm.test(\"getProfile returns correct moderation data\", function () {",
							"    const response = pm.response.json();",
							"    const profile = response.data?.getProfile?.affectedRows;",
							"    const expectedUserId = pm.environment.get(\"userid_t6\");",
							"",
							"    if (!expectedUserId) {",
							"        throw new Error(\"Environment variable 'userid_t6' is not set.\");",
							"    }",
							"",
							"    if (!profile || profile.id !== expectedUserId) {",
							"        throw new Error(`Profile ID does not match userid_t6. Found: ${profile?.id}, Expected: ${expectedUserId}`);",
							"    }",
							"",
							"    pm.expect(profile.username, `User ${profile.id} should have username 'illegal_account'`).to.eql(\"illegal_account\");",
							"    pm.expect(profile.visibilityStatus, `User ${profile.id} should have visibilityStatus 'ILLEGAL'`).to.eql(\"ILLEGAL\");",
							"    pm.expect(profile.hasActiveReports, `User ${profile.id} should have hasActiveReports false`).to.eql(false);",
							"    pm.expect(profile.isHiddenForUsers, `User ${profile.id} should have isHiddenForUsers false`).to.eql(false);",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "query GetProfile {\n    getProfile(contentFilterBy: MYGRANDMALIKES, userid: \"{{userid_t6}}\") {\n        meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n        affectedRows {\n            id\n            username\n            status\n            slug\n            img\n            biography\n            visibilityStatus\n          isHiddenForUsers\n            hasActiveReports\n            isfollowed\n            isfollowing\n            amountposts\n            amounttrending\n            amountfollowed\n            amountfollower\n            amountfriends\n            amountblocked\n            amountreports\n        }\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "List boosted post by postid",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11501\");",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"pm.test(\"Post has correct moderation data\", function () {",
							"    const response = pm.response.json();",
							"    const posts = response.data?.listPosts?.affectedRows || [];",
							"    const expectedPostId = pm.environment.get(\"existing_postid\");",
							"",
							"    if (!expectedPostId) {",
							"        throw new Error(\"Environment variable 'existing_postid' is not set.\");",
							"    }",
							"",
							"    const post = posts.find(p => p.id === expectedPostId);",
							"    if (!post) {",
							"        throw new Error(`Post with ID ${expectedPostId} not found in listPosts response.`);",
							"    }",
							"",
							"    pm.expect(post.visibilityStatus, `Post ${expectedPostId} visibilityStatus`).to.eql(\"NORMAL\");",
							"    pm.expect(post.hasActiveReports, `Post ${expectedPostId} hasActiveReports`).to.eql(false);",
							"    pm.expect(post.isHiddenForUsers, `Post ${expectedPostId} isHiddenForUsers`).to.eql(true);",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "query ListPosts {\n    listPosts(postid: \"{{existing_postid}}\") {\n        counter\n        meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n        affectedRows {\n            id\n            contenttype\n            title\n            media\n            cover\n            mediadescription\n            createdat\n            visibilityStatus\n          isHiddenForUsers\n            hasActiveReports\n            amountreports\n            amountlikes\n            amountviews\n            amountcomments\n            amountdislikes\n            amounttrending\n            isliked\n            isviewed\n            isreported\n            isdisliked\n            issaved\n            tags\n            url\n            user {\n                id\n                username\n                slug\n                img\n                visibilityStatus\n          isHiddenForUsers\n                hasActiveReports\n                isfollowed\n                isfollowing\n                isfriend\n            }\n            comments {\n                commentid\n                userid\n                postid\n                parentid\n                content\n                createdat\n                visibilityStatus\n          isHiddenForUsers\n                hasActiveReports\n                amountlikes\n                amountreplies\n                amountreports\n                isliked\n                user {\n                    id\n                    username\n                    slug\n                    img\n                    visibilityStatus\n          isHiddenForUsers\n                    hasActiveReports\n                    isfollowed\n                    isfollowing\n                    isfriend\n                }\n            }\n        }\n    }\n}\n\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Check preferences",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11002\");",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"pm.test(\"Check contentFilteringSeverityLevel = null\", function () {",
							"    const response = pm.response.json();",
							"    const level = response?.data?.getUserInfo?.affectedRows?.userPreferences?.contentFilteringSeverityLevel;",
							"",
							"    pm.expect(level, \"contentFilteringSeverityLevel should be null\")",
							"        .to.eql(null);",
							"});"
						],
						"type": "text/javascript",
						"packages": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "query GetUserInfo {\n    getUserInfo {\n        meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n        affectedRows {\n            userid\n            liquidity\n            amountposts\n            amountblocked\n            amountfollower\n            amountfollowed\n            amountfriends\n            invited\n            updatedat\n            userPreferences {\n                contentFilteringSeverityLevel\n            }\n        }\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Update preferences",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11014\");",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							""
						],
						"type": "text/javascript",
						"packages": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "mutation UpdateUserPreferences {\n    updateUserPreferences(\n        userPreferences: { contentFilteringSeverityLevel: MYGRANDMAHATES }\n    ) {\n        meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n        affectedRows {\n            contentFilteringSeverityLevel\n        }\n    }\n}",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Check preferences",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11002\");",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"pm.test(\"Check contentFilteringSeverityLevel = MYGRANDMAHATES\", function () {",
							"    const response = pm.response.json();",
							"    const level = response?.data?.getUserInfo?.affectedRows?.userPreferences?.contentFilteringSeverityLevel;",
							"",
							"    pm.expect(level, \"contentFilteringSeverityLevel should be MYGRANDMAHATES\")",
							"        .to.eql(\"MYGRANDMAHATES\");",
							"});"
						],
						"type": "text/javascript",
						"packages": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "query GetUserInfo {\n    getUserInfo {\n        meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n        affectedRows {\n            userid\n            liquidity\n            amountposts\n            amountblocked\n            amountfollower\n            amountfollowed\n            amountfriends\n            invited\n            updatedat\n            userPreferences {\n                contentFilteringSeverityLevel\n            }\n        }\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Update preferences",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11014\");",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							""
						],
						"type": "text/javascript",
						"packages": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "mutation UpdateUserPreferences {\n    updateUserPreferences(\n        userPreferences: { contentFilteringSeverityLevel: MYGRANDMALIKES }\n    ) {\n        meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n        affectedRows {\n            contentFilteringSeverityLevel\n        }\n    }\n}",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Check preferences",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11002\");",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"pm.test(\"Check contentFilteringSeverityLevel = MYGRANDMALIKES\", function () {",
							"    const response = pm.response.json();",
							"    const level = response?.data?.getUserInfo?.affectedRows?.userPreferences?.contentFilteringSeverityLevel;",
							"",
							"    pm.expect(level, \"contentFilteringSeverityLevel should be MYGRANDMALIKES\")",
							"        .to.eql(\"MYGRANDMALIKES\");",
							"});"
						],
						"type": "text/javascript",
						"packages": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "query GetUserInfo {\n    getUserInfo {\n        meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n        affectedRows {\n            userid\n            liquidity\n            amountposts\n            amountblocked\n            amountfollower\n            amountfollowed\n            amountfriends\n            invited\n            updatedat\n            userPreferences {\n                contentFilteringSeverityLevel\n            }\n        }\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Update preferences",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11014\");",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"pm.test(\"Check onboardingsWereShown contains INTROONBOARDING\", function () {",
							"    const response = pm.response.json();",
							"    const onboardings = response?.data?.updateUserPreferences?.affectedRows?.onboardingsWereShown;",
							"",
							"    pm.expect(onboardings, \"onboardingsWereShown should be an array\").to.be.an(\"array\");",
							"    pm.expect(onboardings, \"onboardingsWereShown should include INTROONBOARDING\")",
							"        .to.include(\"INTROONBOARDING\");",
							"});",
							""
						],
						"type": "text/javascript",
						"packages": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "mutation UpdateUserPreferences {\n    updateUserPreferences(\n        userPreferences: { contentFilteringSeverityLevel: MYGRANDMALIKES, shownOnboardings: INTROONBOARDING }\n    ) {\n        meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n        affectedRows {\n            contentFilteringSeverityLevel\n            onboardingsWereShown\n        }\n    }\n}",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		},
		{
			"name": "Check preferences",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"ResponseCode is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"11002\");",
							"});",
							"pm.test(\"Status is correct\", function () {",
							"    pm.expect(pm.response.text()).to.include('\"status\":\"success\"');",
							"});",
							"",
							"pm.test(\"Check onboardingsWereShown contains INTROONBOARDING\", function () {",
							"    const response = pm.response.json();",
							"    const onboardings = pm.response.json()?.data?.getUserInfo?.affectedRows?.userPreferences?.onboardingsWereShown;",
							"",
							"    pm.expect(onboardings, \"onboardingsWereShown should be an array\").to.be.an(\"array\");",
							"    pm.expect(onboardings, \"onboardingsWereShown should include INTROONBOARDING\")",
							"        .to.include(\"INTROONBOARDING\");",
							"});",
							""
						],
						"type": "text/javascript",
						"packages": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "graphql",
					"graphql": {
						"query": "query GetUserInfo {\n    getUserInfo {\n        meta {\n            status\n            RequestId\n            ResponseCode\n            ResponseMessage\n        }\n        affectedRows {\n            userid\n            liquidity\n            amountposts\n            amountblocked\n            amountfollower\n            amountfollowed\n            amountfriends\n            invited\n            updatedat\n            userPreferences {\n                contentFilteringSeverityLevel\n                onboardingsWereShown\n            }\n        }\n    }\n}\n",
						"variables": ""
					}
				},
				"url": {
					"raw": "https://peer-network.eu/graphql",
					"protocol": "https",
					"host": [
						"peer-network",
						"eu"
					],
					"path": [
						"graphql"
					]
				}
			},
			"response": []
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"packages": {},
				"requests": {},
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"packages": {},
				"requests": {},
				"exec": [
					""
				]
			}
		}
	]
}